# 软件安装流程

## 系统初始化（必须）

```
dnf install -y wget
wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_system_init_shell_mini.sh
sh Rocky_Linux_9_system_init_shell_mini.sh
```



## 创建常用的目录（必须）

```
wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/create_dirs.sh
sh create_dirs.sh

或者

wget -q -O - https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/create_dirs.sh | bash -sh
```



## 安装Nginx

```

gitee（国内）:
wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Dnf_Install_Nginx.sh
sh Rocky_Linux_9_Dnf_Install_Nginx.sh

github:
wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Dnf_Install_Nginx.sh
sh Rocky_Linux_9_Dnf_Install_Nginx.sh

# 主要功能介绍
# 1.dnf安装nginx
# 2.firewall-cmd放开 80和443端口
# 3.nginx配置文件：
# 主配置文件：/data/conf/nginx.conf
# 站点配置文件：/data/conf/sites-available/nginx_*
```



## php7.3.7

```
# gitee:
# wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_PHP7_3_PHPFPM.sh
# sh Rocky_Linux_9_Install_PHP7_3_PHPFPM.sh
# github:
# wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_PHP7_3_PHPFPM.sh
# sh Rocky_Linux_9_Install_PHP7_3_PHPFPM.sh

介绍
Filename:    Rocky_Linux_9_Install_PHP7_3_PHPFPM.sh
Revision:    1.0
Date:        2025/06/25
Author:      star
Email:       star@xgss.net
Description: Rocky Linux 9系统中源码包安装php7.3 phpfpm，shell脚本
安装目录为：/data/app/php7.3 、用户为 www 、端口自定义为 7300 。
安装扩展
需要安装：
openssl
phpredis
pcntl
amqp
rabbitmq
swoole
开机启动配置文件： /etc/systemd/system/php7.3-fpm.service
启动命令： systemctl start php7.3-fpm.service
停止命令： systemctl stop php7.3-fpm.service
重启命令： systemctl restart php7.3-fpm.service
```

## php8.3.3

```

# 使用：
# gitee:
# wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_PHP8_3_PHPFPM.sh
# sh Rocky_Linux_9_Install_PHP8_3_PHPFPM.sh
# github:
# wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_PHP8_3_PHPFPM.sh
# sh Rocky_Linux_9_Install_PHP8_3_PHPFPM.sh

功能：Rocky Linux 9系统中源码包安装php8.3.3 并且使用phpfpm，shell脚本
安装目录为：/data/app/php8.3
用户为 www 
端口自定义为 8300

需要PHP安装扩展
zip
openssl
libmemcached
phpredis
pcntl
amqp
rabbitmq
swoole
```



## 安装 composer

```
curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer


su -l www

curl -sS https://getcomposer.org/installer | php
sudo  curl -sS https://getcomposer.org/installer | php

#移动至系统服务：
# 赋予www用户 sudo 权限
echo 'www ALL=(ALL) NOPASSWD:ALL' >>/etc/sudoers

sudo mv composer.phar /usr/bin/composer

#查看版本： 
composer --version

#替换内地镜像源（如果你服务器不是中国内地的不考虑这个）
composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
```



## 安装mysql5.7

```
# 使用：
# gitee:
# wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_MySQL5_7.sh
# sh Rocky_Linux_9_Install_MySQL5_7.sh
# github:
# wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_MySQL5_7.sh
# sh Rocky_Linux_9_Install_MySQL5_7.sh
# -------------------------------------------------------------------------------

# 功能：Rocky Linux 9系统中源码包安装 mysql5.7，shell脚本
# mysql安装的目录：/data/app/mysql5.7/install
# mysql数据库目录:/data/app/mysql5.7/data
# mysql数据库配置目录:/data/app/mysql5.7/etc
# mysql端口为： 61570
# mysql root密码为： CQ1234567
```



## 安装mysql8

```
# 使用：
# gitee:
# wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_MySQL8.sh
# sh Rocky_Linux_9_Install_MySQL8.sh
# github:
# wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_MySQL8.sh
# sh Rocky_Linux_9_Install_MySQL8.sh
# -------------------------------------------------------------------------------


# 功能：Rocky Linux 9系统中源码包安装 mysql8，shell脚本
# mysql安装的目录：/data/app/mysql8/install
# mysql数据库目录:/data/app/mysql8/data
# mysql数据库配置目录:/data/app/mysql8/etc
# mysql数据库binlog目录:/data/app/mysql8/binlog
# mysql端口为： 61800
# mysql root密码为： CQ12345678
```

## 安装Vsftpd

```
功能：Rocky Linux 9系统中源码包安装 Vsftpd 的shell脚本
端口：62920
FTP用户： www
FTP日志存放路径： /data/wwwroot/ftp_log/
登录用户名和密码： yxkj_web Password123 【请修改密码】
FTP配置文件：/data/conf/vsftpd/vsftpd.conf
被动模式端口范围： 9000-9045


使用：
gitee:
wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_Vsftpd.sh
sh Rocky_Linux_9_Install_Vsftpd.sh
github:
wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_Vsftpd.sh
sh Rocky_Linux_9_Install_Vsftpd.sh
```



## 安装Redis

```
# 功能：Rocky Linux 9系统中源码包安装 Redis 的shell脚本
# 安装版本：redis-7.4.1
# 端口：63920
# 配置所在的目录： /data/conf/
# 密码： YpassWord666 【请修改密码】
# redis持久化目录：/data/redis/端口号
# redis日志： /data/redis/端口号/redis_端口号.log



# 使用：
# gitee:
# wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_Redis.sh
# sh Rocky_Linux_9_Install_Redis.sh
# github:
# wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_Redis.sh
# sh Rocky_Linux_9_Install_Redis.sh

```



## 安装Docker和docker-compose

```
# 功能：Rocky Linux 9系统中源码包安装 Docker 和docker-compose 的shell脚本


# 使用：
# gitee:
# wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_Docker.sh
# sh Rocky_Linux_9_Install_Docker.sh
# github:
# wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_Docker.sh
# sh Rocky_Linux_9_Install_Docker.sh

```



## 安装Nodejs

```
# Filename:    Rocky_Linux_9_Install_Nodejs.sh
# Revision:    1.0
# Date:        2024/07/22
# Author:      star
# Email:       star@xgss.net
# 功能: Rocky Linux 9系统中源码包安装Nodejs，shell脚本
# 安装目录为：/data/app/nodejs-v22.17.1
# nodejs官网：https://nodejs.org/zh-cn
# 安装版本： v22.17.1 LTS版

# 使用：
# gitee:
# wget https://gitee.com/funet8/Rocky-Linux-Shell/raw/main/shell/Rocky_Linux_9_Install_Nodejs.sh
# sh Rocky_Linux_9_Install_Nodejs.sh
# github:
# wget https://raw.githubusercontent.com/funet8/Rocky-Linux-Shell/refs/heads/main/shell/Rocky_Linux_9_Install_Nodejs.sh
# sh Rocky_Linux_9_Install_Nodejs.sh
```



## 安装ansible

```
dnf install epel-release -y
dnf install ansible -y
ansible --version

# vi /etc/ansible/hosts

# cp /etc/ansible/hosts /etc/ansible/hosts.bak
# cat /dev/null > /etc/ansible/hosts

添加：
[home_web]
web01:60920
web02:60920

hostnamectl set-hostname web01

```



## 安装Zabbix服务端

```
rocky linux 9 源码包安装zabbix服务端

源码包安装zabbix客户端

```





## 安装Zabbix客户端

```
## 安装Zabbix客户端


```



# 其他软件

## 安装Socks5代理服务端



### Docker部署Socks5代理服务端

```
docker run -itd --restart always \
--name socks5 \
-p 1080:1080 \
-e PROXY_USER=myuser \
-e PROXY_PASSWORD=mypassword2017 \
-e PROXY_SERVER=0.0.0.0:1080 xkuma/socks5

端口：1080
用户: myuser
密码： mypassword2017
```



## 安装pptd



## 安装FRP





