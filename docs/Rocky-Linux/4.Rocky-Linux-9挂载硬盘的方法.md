# Rocky Linux 9 挂载硬盘的方法



在 **Rocky Linux 9** 上挂载硬盘，通常可以通过以下步骤进行操作：

## 1. 检查硬盘

首先，使用以下命令查看系统中的硬盘和分区情况：

```
lsblk
```

或者

```
fdisk -l
```

这将列出所有连接到系统的硬盘和分区。记下你要挂载的硬盘设备名称（例如 `/dev/sdb`）。



```
[root@node2 ~]# fdisk -l
Disk /dev/nvme0n1: 100 GiB, 107374182400 bytes, 209715200 sectors
Disk model: VMware Virtual NVMe Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0xd4f887b9

Device         Boot   Start       End   Sectors Size Id Type
/dev/nvme0n1p1 *       2048   2099199   2097152   1G 83 Linux
/dev/nvme0n1p2      2099200 209715199 207616000  99G 8e Linux LVM


Disk /dev/mapper/rl-root: 65.17 GiB, 69973573632 bytes, 136667136 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/rl-swap: 2.01 GiB, 2160066560 bytes, 4218880 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/mapper/rl-home: 31.82 GiB, 34162606080 bytes, 66723840 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
```



## 2. 创建分区（如果需要）

在虚拟机中添加一块10G的硬盘

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1750146406508.png?tx)

一路点击下一步

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1750146501951.png?tx)

```
[root@node2 ~]# lsblk
NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sr0          11:0    1  2.1G  0 rom  
nvme0n1     259:0    0  100G  0 disk 
├─nvme0n1p1 259:1    0    1G  0 part /boot
└─nvme0n1p2 259:2    0   99G  0 part 
  ├─rl-root 253:0    0 65.2G  0 lvm  /
  ├─rl-swap 253:1    0    2G  0 lvm  [SWAP]
  └─rl-home 253:2    0 31.8G  0 lvm  /home
nvme0n2     259:3    0   10G  0 disk 

[root@node2 ~]# fdisk -l|grep dev
Disk /dev/nvme0n1: 100 GiB, 107374182400 bytes, 209715200 sectors
/dev/nvme0n1p1 *       2048   2099199   2097152   1G 83 Linux
/dev/nvme0n1p2      2099200 209715199 207616000  99G 8e Linux LVM
Disk /dev/nvme0n2: 10 GiB, 10737418240 bytes, 20971520 sectors
Disk /dev/mapper/rl-root: 65.17 GiB, 69973573632 bytes, 136667136 sectors
Disk /dev/mapper/rl-swap: 2.01 GiB, 2160066560 bytes, 4218880 sectors
Disk /dev/mapper/rl-home: 31.82 GiB, 34162606080 bytes, 66723840 sectors
```

在虚拟机中新增了一块 `/dev/nvme0n2`  10G的硬盘。



如果硬盘没有分区，需要先创建分区。使用 `fdisk` 或 `parted` 工具进行分区。以 `fdisk` 为例：

```
fdisk /dev/nvme0n2
```

在 `fdisk` 工具中，输入以下命令：

- `n` 创建新分区
- `p` 打印分区表
- `w` 写入分区表并退出

```
# fdisk /dev/nvme0n2

Welcome to fdisk (util-linux 2.37.4).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Device does not contain a recognized partition table.
Created a new DOS disklabel with disk identifier 0xd825f272.

Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): p
Partition number (1-4, default 1): 
First sector (2048-20971519, default 2048): 
Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-20971519, default 20971519): 

Created a new partition 1 of type 'Linux' and of size 10 GiB.

Command (m for help): wq
The partition table has been altered.
Calling ioctl() to re-read partition table.
Syncing disks.


ll /dev/nvme0n2*
brw-rw---- 1 root disk 259, 3 Jun 17 15:54 /dev/nvme0n2
brw-rw---- 1 root disk 259, 5 Jun 17 15:54 /dev/nvme0n2p1
```



## 3. 格式化硬盘

格式化分区为 **ext4** 文件系统（你也可以选择其他文件系统，如 `xfs`）：

```
mkfs.ext4 /dev/nvme0n2p1
```

实际操作：

```
[root@node2 ~]# mkfs.ext4 /dev/nvme0n2p1
mke2fs 1.46.5 (30-Dec-2021)
Creating filesystem with 2621184 4k blocks and 655360 inodes
Filesystem UUID: e549f5c6-b149-47b8-a4b0-d5606466dfd1
Superblock backups stored on blocks: 
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done 
```



## 4. 创建挂载点

选择一个目录作为挂载点。例如，可以在 `/mnt` 下创建一个新的目录：

```
mkdir /data10G
```



## 5. 挂载硬盘

使用 `mount` 命令挂载分区：

```
mount /dev/nvme0n2p1 /data10G
```

再查看是否成功

```
[root@node2 ~]# df -h
Filesystem           Size  Used Avail Use% Mounted on
devtmpfs             4.0M     0  4.0M   0% /dev
tmpfs                1.8G     0  1.8G   0% /dev/shm
tmpfs                725M  1.1M  724M   1% /run
/dev/mapper/rl-root   66G  2.3G   63G   4% /
/dev/nvme0n1p1       960M  338M  623M  36% /boot
/dev/mapper/rl-home   32G  259M   32G   1% /home
tmpfs                363M     0  363M   0% /run/user/0
/dev/nvme0n2p1       9.8G   24K  9.3G   1% /data10G
```



## 6. 配置自动挂载

为了在系统重启后自动挂载，可以编辑 `/etc/fstab` 文件。在文件末尾添加一行：

```
/dev/nvme0n2p1 /data10G ext4 defaults 0 0
或者
echo '/dev/nvme0n2p1 /data10G ext4 defaults 0 0' >> /etc/fstab
```

这样设置后，每次系统启动时都会自动挂载硬盘。



## 7. 检查挂载情况

你可以使用以下命令确认硬盘是否已成功挂载：

```
df -h
```

这会显示所有挂载的文件系统及其使用情况。

# 命令行

```
# fdisk -l
# fdisk 硬盘
...
Command (m for help): n
Select (default p): p
Command (m for help): wq

格式化：
# mkfs.ext4 /dev/vdb1

echo '/dev/vdb1 /home ext4 defaults 0 0' >> /etc/fstab
# mount -a
```

# 挂载大硬盘



```
# fdisk -l

# parted -a optimal /dev/sdb    #对硬盘sdb进行分区
mklabel gpt                    #使用GPT格式            
mkpart primary 1 -1                    #建立一个主分区    
print                        #显示分区信息
quit                        #退出
# mkfs.xfs /dev/sdb1            #格式化为xfs格式
# echo "/dev/sdb1    /data1    xfs    defaults    0 0" >> /etc/fstab #加入自动挂载
# mount -a                    #挂载分区
df -h                        #查看磁盘信息
```



以上就是在 **Rocky Linux 9** 中挂载硬盘的基本步骤。如果你有任何问题或需要更多细节，随时告诉我！

