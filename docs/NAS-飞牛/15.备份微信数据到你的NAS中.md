# 星哥带你玩飞牛 NAS-10：备份微信聊天记录、数据到你的NAS中!



大家对「数据安全感」的需求越来越高 —— 尤其是微信聊天记录、工作文件、家庭照片这些核心数据，要么存在手机里怕误删，要么依赖微信自带备份受限于设备，一旦封号或换手机，想找回历史数据简直难如登天。

今天就给大家分享一款宝藏工具「cloudbak」，它能把微信数据直接备份到你的 NAS 里，本地化存储不经过第三方服务器，还支持浏览器随时访问、多微信账号切换管理，堪称微信数据的「私人保险柜」！

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765035706779.png?tx)

## cloudbak优点

市面上备份工具不少，但 cloudbak 针对 NAS 用户的需求做了精准优化，这 3 个亮点让我果断入坑：

1. **数据绝对安全**：所有聊天记录、图片、视频都存储在你的 NAS 本地，不上传任何第三方服务器，彻底杜绝数据泄露风险，就算微信封号也能查看历史消息；
2. **访问无拘无束**：摆脱手机和 PC 客户端的限制，只要能访问 NAS，通过浏览器输入地址就能查看备份数据，搜索、浏览体验和微信网页版一致；
3. **多账号高效管理**：手里有工作号、生活号多个微信？不用反复切换客户端，cloudbak 里一键切换不同账号的备份数据，查询效率翻倍；
4. **部署维护极简**：基于 Docker 容器化部署，不管是单命令启动还是 docker-compose 管理，新手也能快速上手，后续无需额外维护。



## 部署前提：你需要准备这些

- 一台已搭建 Docker 环境的 NAS（本文以飞牛 NAS 为例，其他品牌 NAS 操作逻辑一致）；
- 能正常访问 NAS 的电脑（用于 SSH 登录和后续配置）；
- Windows 系统电脑（用于安装 cloudbak 客户端同步微信数据，目前客户端仅支持 Windows）；
- 基础的 NAS 文件管理和 SSH 操作知识（跟着步骤走，新手也能搞定）。



## 部署步骤

### 第一步：创建数据存储目录

首先通过 SSH 登录你的 NAS，执行以下命令创建 cloudbak 的数据存储目录，并用`chmod`授权确保读写权限：

```bash
mkdir -p /vol2/1000/Docker/WeChatBackup/data
chmod -R 755 /vol2/1000/Docker/WeChatBackup
```

这里要说明下，`/vol2/1000/docker/`是星哥的 NAS 存储路径，大家可以根据自己的 NAS 分区情况修改，核心是要保证目录有足够的存储空间（建议预留至少 10GB，根据微信数据量调整）。

在飞牛nas中新建目录

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765014311735.png?tx)



### 第二步：拉取 cloudbak 镜像

Docker 部署的核心是镜像，执行以下命令拉取最新版 cloudbak 镜像：

```bash
docker pull likeflyme/cloudbak:latest
```



等待镜像拉取完成（速度取决于你的网络环境），接下来就是启动容器。

### 第三步：启动 cloudbak 容器（两种方式可选）

## 方式 1：单命令快速启动（适合新手）

直接执行以下命令，一键启动容器并配置端口和数据持久化：

```bash
docker run --name WeChatBackup \
--restart=always -d \
-p 9527:9527 \
-v /vol2/1000/Docker/WeChatBackup/data:/app/data \
likeflyme/cloudbak:latest
```

参数解释（新手必看）：

- `--name cloudbak`：给容器命名为 cloudbak，方便后续管理；
- `--restart=always`：设置 NAS 重启后容器自动启动，无需手动干预；
- `-d`：后台运行容器，不占用当前 SSH 窗口；
- `-p 9527:9527`：映射 Web 服务端口，后续通过浏览器访问用；
- `-v 本地路径:/app/data`：将 cloudbak 的数据目录挂载到 NAS 本地，实现数据持久化（就算容器删除，数据也不会丢）。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765032018793.png?tx)





## 方式 2：docker-compose 部署（推荐，便于管理）

如果习惯用 docker-compose 管理多个容器，可按以下步骤操作：

1. 进入之前创建的 cloudbak 目录：

```bash
cd /vol2/1000/docker/cloudbak/
```

1. 新建`docker-compose.yml`文件，写入以下内容：

```yaml
version: '3'
services:
  cloudbak:
    image: likeflyme/cloudbak:latest
    container_name: cloudbak
    restart: always
    ports:
      - "9527:9527"
    volumes:
      - /vol2/1000/docker/cloudbak/data:/app/data
```

1. 执行启动命令：

```bash
docker-compose up -d
```

两种方式最终效果一致，星哥更推荐 docker-compose，后续升级或修改配置时更方便。

## 访问与配置：添加微信会话，开始备份

### 第一步：登录 cloudbak 管理界面

打开浏览器，输入`http://你的NASIP:9527`（比如星哥的是`http://192.168.1.3:9527`），首次访问会提示注册账号：

- 用户名：支持字母、数字、下划线；
- 邮箱：用于登录验证（可选填，但建议填写）；
- 密码：设置一个强度高的密码，保护备份数据安全。

注册完成后登录，进入主界面就可以添加微信会话了。



![image-20251206224537194](https://imgoss.xgss.net/picgo-tx2025/image-20251206224537194.png?tx)



![image-20251206224733129](https://imgoss.xgss.net/picgo-tx2025/image-20251206224733129.png?tx)



### 第二步：添加微信会话（关键步骤）

点击「添加会话」，需要填写以下信息（重点看带 * 的项）：

- 会话名称：自定义名称（比如「工作微信」「生活微信」）；
- 会话备注：可选填，用于区分不同账号；
- 微信 KEY + 微信 ID：这两项是核心，需要参考 cloudbak 官网说明获取（官网地址：https://www.cloudbak.org/use/create-session.html）；
- 微信昵称 + 微信号：填写对应微信的昵称和登录账号，便于识别；
- 微信数据路径：需要安装 cloudbak Windows 客户端同步数据，按客户端提示填写即可；
- 设备类型：选择「视窗」（因为客户端仅支持 Windows）；
- 微信版本：填写当前使用的微信版本（建议更新到最新版）。

填写完成后点击「确定添加」，会话就创建成功了。接下来按照官网教程安装 Windows 客户端，同步微信数据到 NAS 即可 —— 同步完成后，就能在浏览器里查看所有聊天记录和媒体文件了！

## 其他NAS文章

- [星哥带你玩飞牛NAS-1：安装飞牛NAS](https://mp.weixin.qq.com/s/QMaWJ8E9cd4-y5p02NWqzg)
- [星哥带你玩飞牛NAS-2：飞牛配置RAID磁盘阵列](https://mp.weixin.qq.com/s/R6Qw9sO5sNlQ2CdwE4wUkg)
- [星哥带你玩飞牛NAS-3：安装飞牛NAS后的很有必要的操作](https://mp.weixin.qq.com/s/Xc0Qci70aug6Hry7QCzXDg)
- [星哥带你玩飞牛NAS-4：飞牛NAS安装istore旁路由，家庭网络升级的最佳实践](https://mp.weixin.qq.com/s/UL4StiG40OxwGQ5IQTlYYg)
- [星哥带你玩飞牛NAS-5：飞牛NAS中的Docker功能介绍](https://mp.weixin.qq.com/s/Wqv3Iusu__Ugrb_LbLtfMQ)
- [星哥带你玩飞牛NAS-6：抖音视频同步工具，视频下载自动下载保存](https://mp.weixin.qq.com/s/BeGhw0cF7R1goS_lUPBQZw)
- [星哥带你玩飞牛NAS-7：手把手教你免费内网穿透-Cloudflare tunnel](https://mp.weixin.qq.com/s/gs9shAazBT1wOnwjQQYDwQ)
- [星哥带你玩飞牛NAS-8：有了NAS你可以干什么？软件汇总篇](https://mp.weixin.qq.com/s/bID9-DyiThiwNUfeg_2PHw)

## 总结

用了 cloudbak，整体体验超出预期：

1. 备份速度快：星哥 10GB 的微信数据，首次同步大概用了 1 小时，后续增量备份基本不占用太多带宽；
2. 访问体验流畅：浏览器打开后，加载聊天记录、查看图片视频都很顺畅，搜索功能和微信原生一致，找历史消息很方便；
3. 维护成本低：部署后基本不用管，容器会自动运行，数据实时同步，就算 NAS 重启也能自动恢复；
4. 安全性拉满：所有数据都存在自己的 NAS 里，比第三方备份工具放心太多，尤其适合存储工作机密或隐私内容。

唯一需要注意的是，目前 cloudbak 的客户端仅支持 Windows

总的来说，如果你想给微信数据找一个「永久安全屋」，又不想依赖第三方平台，cloudbak+NAS 的组合绝对是最佳选择 —— 部署简单、使用方便、数据安全，赶紧动手试试吧！

参考文档：

```
- cloudbak 官网：https://www.cloudbak.org/
- GitHub 项目地址：https://github.com/likeflyme/cloudbak
```