# 星哥带你玩飞牛NAS-14：解锁公网自由！Lucky功能工具安装使用保姆级教程



作为NAS玩家，咱们最头疼的事儿莫过于“公网访问难、功能扩展烦”——要么端口转发配置复杂，要么内网穿透依赖第三方，想要整合动态域名这些实用功能更是得东拼西凑。但今天星哥要给大家安利的这款工具，直接把这些痛点一锅端了——它就是飞牛NAS的“黄金搭档”：Lucky，一款号称“家用软硬路由公网利器”的全能工具，亲测在飞牛NAS上安装简单、用着顺手，咱们一步步吃透它！

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766567145035.png?tx)

## Lucky的功能模块

目前已经实现/集成的主要功能模块有

    端口转发
    动态域名(DDNS)
    Web服务
    Stun内网穿透
    网络唤醒
    计划任务
    ACME自动证书
    网络存储


## 安装Lucky

### 1.在飞牛中安装

在飞牛NAS中安装非常简单，到应用中心搜索lucky，点击安装即可

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766483477062.png?tx)

### 2.使用Docker安装

docker镜像

```
#host模式, 同时支持IPv4/IPv6, Liunx系统推荐
docker run -d --name lucky --restart=always --net=host gdy666/lucky:v2

# 桥接模式, 只支持IPv4,windows 不推荐使用docker版本
docker run -d --name lucky --restart=always -p 16601:16601 gdy666/lucky:v2

#挂载主机目录, 删除容器后配置不会丢失。可替换 /root/luckyconf 为主机目录, 配置文件为lucky.conf
docker run -d --name lucky --restart=always --net=host -v /root/luckyconf:/app/conf gdy666/lucky:v2
```



docker compose

```
mkdir -p /data/docker/lucky
vi docker-compose.yml
```

把以下内容写入docker-compose.yml 中。

```
    services:
      lucky:
        image: gdy666/lucky:v2
        container_name: lucky
        volumes:
          - /data/docker/lucky/conf:/app/conf
          - /var/run/docker.sock:/var/run/docker.sock
        network_mode: host
        restart: always
```

启动：

```
docker compose up -d
```

停止

```
docker compose down
```



# 使用Lucky

## 一、进入管理面板

浏览器访问IP+端口，默认的用户名和密码是 666，一定要修改！进入管理面板。



## 二、修改安全入口、修改账号密码

点击“设置”，到安全入口，可以填写自定义的字母，防止陌生人进入，我这边填写star

修改账号和密码

点击保存

```
没改安全入口之前是： 192.168.1.170:16601
安全入口填写了 /star
http://192.168.1.170:16601/star/ 
访问lucky了
```

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766456930998.png?tx)



## 三、动态域名

动态域名解析(DDNS)是一种将动态变化的公网IP地址与固定域名绑定的技术。它的核心功能是自动检测IP地址变化并实时更新域名解析记录，确保用户始终可以通过固定域名访问目标设备或服务。

- 进入“动态域名”→“添加域名”，支持阿里云、腾讯云、DNSPod等主流DNS服务商。
- 填写你的域名（比如xxx.xyz），输入DNS服务商的API密钥，Lucky会自动监控公网IP变化，实时更新域名解析，不管IP怎么变，都能通过域名访问NAS，再也不用记复杂的IP地址了。

### 1.添加任务

点击“动态域名”，创建首个DDNS任务。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766457022202.png?tx)

任务名称：随意

托管服务商：这里支持很多域名上腾讯、阿里、百度等等

我这里使用spaceship，如果没有域名可以看：[每年0.99刀，拿下你的第一个顶级域名，详细注册使用](https://mp.weixin.qq.com/s/7aa_2YGYSgZ2f2R7EQcyxw)，再到后台申请API key和API Secret。



### 2.DDNS任务添加

1. 任务名称：随意
2. 托管服务商：你的域名服务商（我这里填写spaceship）
3. Api Key和 Api Secret到你的服务商申请

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766457116464.png?tx)

### 3.DDNS记录编辑

1. 备注：随意
2. 记录名：你的域名（我这里填写fnos.20171217.xyz）
3. 记录类型选择IPV4或者ipv6，这个要看支持哪个

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766485680739.png?tx)

### 4.最终访问的效果

使用域名访问：

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766561134487.png?tx)

DDNS解析成功

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766485485087.png?tx)



## 四、申请SSL/TSL证书

SSL/TLS 证书（通常简称“HTTPS 证书”）是一种用于 加密网站通信 的数字证书。 当你访问一个带锁的小绿标网站（https://），就是因为它安装了 SSL/TLS 证书。

现在就用Lucky申请ssl证书

### 1.添加证书

依次点击 SSL/TSL证书，添加证书

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766547643671.png?tx)



### 2.填写添加证书

1. 证书备注：随意
2. 添加方式：选择ACME
3. 颁发机构：ZeroSSL
4. 验证方式：选择你的域名服务商（我这里填spaceship）
5. 填写api key和api secret
6. 域名列表：填写你的域名

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766547817279.png?tx)

如图打开DNS查询强制ipv4

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766547854428.png?tx)



### 3.证书申请成功

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766547913442.png?tx)

证书自动续期：如果需要HTTPS访问，在“SSL证书”里开启“自动申请”，Lucky会自动对接Let's Encrypt申请免费证书并续期，不用手动操作。



## 五、反向代理

反向代理（Reverse Proxy）简单理解就是：把外部访问的域名/路径，转发到 NAS 内部的某个服务。

实现效果：

```
https://你的域名/jellyfin  →  内网 192.168.1.10:8096
```



### 1.添加web服务

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766557733774.png?tx)



### 2.添加web服务规则

如图填写规则

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766558335256.png?tx)



### 3.添加子规则

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766558689034.png?tx)



4.添加子规则

如图填写内容

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766558893424.png?tx)

### 4.测试

打开是否可以

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766564175227.png?tx)

为了安全也可以加个认证

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766564376674.png?tx)

## 往期回顾

- [星哥带你玩飞牛NAS-1：安装飞牛NAS](https://mp.weixin.qq.com/s/QMaWJ8E9cd4-y5p02NWqzg)
- [星哥带你玩飞牛NAS-2：飞牛配置RAID磁盘阵列](https://mp.weixin.qq.com/s/R6Qw9sO5sNlQ2CdwE4wUkg)
- [星哥带你玩飞牛NAS-3：安装飞牛NAS后的很有必要的操作](https://mp.weixin.qq.com/s/Xc0Qci70aug6Hry7QCzXDg)
- [星哥带你玩飞牛NAS-4：飞牛NAS安装istore旁路由，家庭网络升级的最佳实践](https://mp.weixin.qq.com/s/UL4StiG40OxwGQ5IQTlYYg)
- [星哥带你玩飞牛NAS-5：飞牛NAS中的Docker功能介绍](https://mp.weixin.qq.com/s/Wqv3Iusu__Ugrb_LbLtfMQ)
- [星哥带你玩飞牛NAS-6：抖音视频同步工具，视频下载自动下载保存](https://mp.weixin.qq.com/s/BeGhw0cF7R1goS_lUPBQZw)
- [星哥带你玩飞牛NAS-7：手把手教你免费内网穿透-Cloudflare tunnel](https://mp.weixin.qq.com/s/gs9shAazBT1wOnwjQQYDwQ)
- [星哥带你玩飞牛NAS-8：有了NAS你可以干什么？软件汇总篇](https://mp.weixin.qq.com/s/bID9-DyiThiwNUfeg_2PHw)
- [星哥带你玩飞牛NAS-9：全能网盘搜索工具13种云盘一键搞定！](https://mp.weixin.qq.com/s/65knuIyDIasFoDPlyxi1XQ)
- [星哥带你玩飞牛NAS-10：备份微信聊天记录、数据到你的NAS中!](https://mp.weixin.qq.com/s/N9uXSubuBMn5iyNdajdp2Q)
- [星哥带你玩飞牛NAS-11：咪咕视频订阅部署全攻略](https://mp.weixin.qq.com/s/Z-zj2BC9X-77lD0nYJ1Y6w)
- [星哥带你玩飞牛NAS-12：开源笔记-TriliumNext](https://mp.weixin.qq.com/s/eNu7ClfqsLtXoLfMpO4_qA)
- [星哥带你玩飞牛NAS-13：自动追番、订阅下载 + 刮削，动漫党彻底解放双手！](https://mp.weixin.qq.com/s/bRGIteRluJvJlay_PTeKbA)

## 最后

用过不少NAS扩展工具，Lucky给星哥的感觉就是“精准踩中用户需求”——没有冗余功能，核心的公网访问、动态域名全都有，而且操作简单、兼容性强，完美适配飞牛NAS。不管你是想远程访问NAS文件，还是想扩展存储、自动化管理，Lucky都能一站式解决。

如果你在安装或使用过程中遇到问题，欢迎在评论区留言，星哥会第一时间回复！接下来还会分享更多飞牛NAS的实用技巧，记得关注“星哥玩云”，带你解锁更多NAS隐藏玩法～