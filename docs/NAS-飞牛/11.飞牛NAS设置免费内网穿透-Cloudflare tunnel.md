# 星哥带你玩飞牛NAS-7：手把手教你免费内网穿透-Cloudflare tunnel



## 前言

大家好，我是星哥。一直以来，我都在折腾各种云服务和NAS玩法，目标就是让家庭和工作环境更高效、更有趣。很多朋友问我：**没有公网IP，怎么才能在外网访问家里的NAS？** 这其实是个常见痛点。

**如何让外网安全访问内网NAS服务？** 

1. 内网则访问IP+端口（192.168.1.3:5667）
2. 飞牛官方的FN Connect (基础版 2Mbps 无限流量）
3. DDNS（ipv4无效、ipv6有效）
4. 如果有独立服务器和域名，可以使用frp客户端内网穿透。
5. 第三方服务，如节小宝
6. 今天的教程则使用Cloudflare Tunnel

今天我就带大家实战一把，用 **Cloudflare Tunnel** 来实现免费内网穿透，让飞牛NAS轻松走向公网。

传统方案要么依赖公网IP，要么借助第三方付费内网穿透工具。今天星哥带你玩一个**零成本、稳定可靠的方案 —— Cloudflare Tunnel**。

Cloudflare是一家总部位于美国旧金山的跨国科技公司，主要提供网站加速与安全服务，包括CDN、DDoS防护、Web应用防火墙和域名解析等功能，Cloudflare（本文都用CF代替）被广大网友冠以“赛博大善人”、“赛博活佛”等戏称，这是因为很多别人家收费的服务，它都免费提供。

## Cloudflare Tunnel优点

- **免费**：无需购买公网IP或额外服务。
- **安全**：基于 Cloudflare 的全球节点，自动加密传输、自动配置 SSL 证书（HTTPS）。
- **简单**：几条命令即可完成配置。
- **灵活**：支持多端口、多服务映射，适合NAS场景。
- **支持CDN**：且支持 CDN 加速

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764078057995.png?tx)

## 实战

## 注册 Cloudflare 账号

- 前往 [Cloudflare 官网](https://www.cloudflare.com/)  `https://dash.cloudflare.com/` 注册账号。
- 添加你的域名（如果没有域名，可以考虑购买一个便宜的 `.xyz` 或 `.top` 域名）。
- 当然也可以申请一个免费域名。
- 把我是其他平台购买的域名，可以把这个域名加入到CF中。

注册登录

## 加入域名

如果你有域名已经加入到CF中，此步可以忽略

### 1.点击“加入域”

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764064683332.png?tx)

### 2.输入域名

输入你的域名，点击继续

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764064762752.png?tx)

### 3.修改dns

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763691555992.png?tx)



### 4.修改域名的dns

进入到你的域名管理后台，修改dns

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763691627806.png?tx)

### 5.域名添加成功

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763692873269.png?tx)



## 安装 Cloudflare Tunnel 客户端

### 1.开通Zero Trust

在Cloudflare首页的左侧栏目中点击`Zero Trust`进入详情页面。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764064966447.png?tx)



选择您的团队名称，不要点下一步，选择取消。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764064994564.png?tx)



![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764065809156.png?tx)



### 2.创建隧道

进入页面后，在左侧栏目中找到网络/network，并点击其中的Tunnels，首次使用需要激活。
点击创建隧道

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764065887663.png?tx)

### 3.选择隧道类型

选择cloudflared方式创建隧道

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764065976348.png?tx)

### 4.填写隧道类型

隧道名称可以随意填写，考虑到方便记忆，例如home_fnas

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764066143766.png?tx)

### 5.安装软件

选择对应的软件并安装。选择Debian、64位。随后使用SSH登录飞牛系统，运行下图中的命令，最后，运行下图中的内容设置为开机自启。几秒后将完整隧道链接，在页面下方将显示此设备。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764066312922.png?tx)

执行命令

再到飞牛中FntermX

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764066399151.png?tx)

输入命令

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764066517376.png?tx)



开机启动

```
star@star-fnas:~$ sudo cloudflared service install 你的密钥
2025-11-25T10:29:35Z INF Using Systemd
```

点击下一步

### 6.设置域名

进入此隧道，在设置中找到`公共机名`并点击添加。详细说明如下：

- `子域`为网址前缀，比如我希望实现`fnas.example.com`，那么此处填写`fnas`，如果不填写，最终的域名就是`example.com`
- `域`需要选择一个托管在Cloudflare的域名，即上述的`example.com`，如果没有，可以在[Cloudflare domains](https://domains.cloudflare.com/)注册一个6位或者9位数字的xyz域名，一年仅需要0.83美元。
- `路径`留空，不填写
- `类型`选择http
- `URL`填入`localhost:5666`

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764066896812.png?tx)



### 测试是否成功

如图到飞牛的登录界面，说明CF的 Tunnel搭建成功

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764067044284.png?tx)





### 安全与优化建议

- 使用 **HTTPS 域名访问**，避免明文传输。
- 配合 **Cloudflare Access** 做身份验证，防止NAS暴露在公网。
- 建议将 Tunnel 服务纳入 systemd，保证开机自启与稳定性。

增加安全认证

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764067258792.png?tx)

## 其他文章

- [星哥带你玩飞牛NAS-1：安装飞牛NAS](https://mp.weixin.qq.com/s/QMaWJ8E9cd4-y5p02NWqzg)

- [星哥带你玩飞牛NAS-2：飞牛配置RAID磁盘阵列](https://mp.weixin.qq.com/s/R6Qw9sO5sNlQ2CdwE4wUkg)

- [星哥带你玩飞牛NAS-3：安装飞牛NAS后的很有必要的操作](https://mp.weixin.qq.com/s/Xc0Qci70aug6Hry7QCzXDg)

- [星哥带你玩飞牛NAS-4：飞牛NAS安装istore旁路由，家庭网络升级的最佳实践](https://mp.weixin.qq.com/s/UL4StiG40OxwGQ5IQTlYYg)

- [星哥带你玩飞牛NAS-5：飞牛NAS中的Docker功能介绍](https://mp.weixin.qq.com/s/Wqv3Iusu__Ugrb_LbLtfMQ)

- [星哥带你玩飞牛NAS-6：抖音视频同步工具，视频下载自动下载保存](https://mp.weixin.qq.com/s/BeGhw0cF7R1goS_lUPBQZw)

- [云服务器配置frp实现内网穿透](https://mp.weixin.qq.com/s/4NwzAvh1F3eRWK0dwMwfpw)

- [飞牛NAS玩转Frpc并且配置，随时随地直连你的私有云](https://mp.weixin.qq.com/s/Cdf5m0DCU2TecS6rkM64Uw)

## 总结

写文不易，如果你都看到了这里，请点个赞和在看，分享给更多的朋友；也别忘了关注星哥玩云！这里有满满的干货分享，还有轻松有趣的技术交流～点个赞、分享给身边的小伙伴，一起成长，一起玩转技术世界吧！ 😊

实测使用Cloudflare Tunnel网速在2-3MB/s

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1764067770772.png?tx)



通过 Cloudflare Tunnel，我们可以轻松实现：

- **零成本的内网穿透**
- **安全可靠的远程访问**
- **灵活的多服务映射**

不仅可以设置飞牛，其他的内网设备也可以做内网穿透。

以上就是我这次的实战分享。通过 Cloudflare Tunnel，我们不仅能零成本解决内网穿透，还能享受到 Cloudflare 提供的安全与加速服务。对我来说，这不只是一个技术方案，更是一种“玩云”的乐趣：用最简单的方式，把复杂问题优雅地解决。





