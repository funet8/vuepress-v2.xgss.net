

# 把小米云笔记搬回家：飞牛 NAS 一键部署，小米云笔记自动同步到本地



大家好，我是星哥，今天教大家在飞牛NAS中部署小米云笔记，我的数据掌握在自己手里。

尤其是笔记这种长期积累的内容，一旦平台策略变化、服务下线，风险并不小。

今天这篇文章，就来分享一个非常实用的方案：直接把小米云笔记，同步一份到自己的飞牛 NAS 里或者。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766052573079.png?tx)

项目基于 GitHub 开源工具 mi-note-export，部署成本低、逻辑清晰，非常适合 NAS 用户。

开源地址：https://github.com/idootop/mi-note-export

参考网站：mi-note-export.vercel.app

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766052022887.png?tx)

## 功能列表

⚡️ 一键备份：完整备份笔记和图片等文件，避免数据丢失。
✨ 秒变博客：将小米笔记转成网页，您的个人博客即刻上线！
🔒 隐私安全：纯本地处理，无需第三方服务器，数据 100% 掌控
🚗 迁移到其他平台：支持保存为 Markdown 格式，方便导入其他应用



## 获取小米cookie

访问 i.mi.com 

然后按 F12 打开调试控制台，切换到网络面板，复制 Cookie。

如下图，获取cookie。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766051696067.png?tx)

```
#注意'引号里面是你的cookie'
MI_COOKIE='<你的cookie>'
```



## 方法一、Docker安装

### 1.新建目录、配置参数

再到飞牛NAS下，接着创建一个env环境变量文件，将上面复制的内容进行粘贴。然后将改内容保存在Docker的路径下。

新建目录`/vol1/1000/Docker/xiaomi_notes`

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766050771285.png?tx)

把 env 配置文件中的 Cookie 换成你自己的

```
MI_COOKIE='xxxxxx'
```



### 2.备份笔记

下载小米笔记和图片/录音等附件到本地(把这个目录/vol1/1000/Docker/xiaomi_notes 换成你自己的)

暂不支持备份私密笔记、待办和思维导图

```
docker run -it --rm --env-file /vol1/1000/Docker/xiaomi_notes/env -v /vol1/1000/Docker/xiaomi_notes/public/data:/app/public/data idootop/mi-note-sync:latest
```

如果报错Cookie 无效或已过期，需要更新cookie！cookie会变。

```
error: 获取笔记列表失败 
❌ 当前 Cookie 无效或已过期，请更新 Cookie 后重试。
-----------------------------------------------------------------------
👉 获取 Cookie 教程: https://github.com/idootop/mi-note-export/issues/4
```

### 3. 生成博客

备份完成后，运行以下命令启动网页端

```
docker run -itd --restart always --init -p 3000:3000 -v /vol1/1000/Docker/xiaomi_notes/public/data:/home/static/data idootop/mi-note-web:latest
```

查看docker

```
docker ps
CONTAINER ID   IMAGE                        COMMAND                  CREATED          STATUS          PORTS                                         NAMES
b3244036d487   idootop/mi-note-web:latest   "/busybox-httpd -f -…"   29 seconds ago   Up 28 seconds   0.0.0.0:3000->3000/tcp, [::]:3000->3000/tcp   inspiring_wescoff
```



### 4.打开小米笔记备份助手

访问 http://localhost:3000 即可查看笔记。

只能查看笔记，不能编辑笔记！

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766049172606.png?tx)



## 方法二、docker-compose部署

### 1.新建目录、配置参数

在飞牛nas中新建一个目录`/vol1/1000/Docker/xiaomi_notes2`

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766050869595.png?tx)

把 env 配置文件中的 Cookie 换成你自己的

```
MI_COOKIE='xxxxxx'
```



### 2.新建项目

如下图在飞牛docker中新建项目

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766046609027.png?tx)



### 3.创建项目

把下面的路径改成你的路径

注意：把`/vol1/1000/Docker/xiaomi_notes2`改成你的路径！

把端口改成3001

```
services:
  mi-note-sync:
    image: idootop/mi-note-sync:latest
    container_name: mi-note-sync
    env_file:
      - /vol1/1000/Docker/xiaomi_notes2/env
    volumes:
      - /vol1/1000/Docker/xiaomi_notes2/data:/app/public/data
    restart: "no" # 为防止触发风控
  # ② 网页容器：常驻，用来浏览导出的笔记
  mi-note-web:
    image: idootop/mi-note-web:latest
    container_name: mi-note-web
    ports:
      - "3001:3000"
    volumes:
      - /vol1/1000/Docker/xiaomi_notes2/data:/home/static/data:ro
    restart: always
```



![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766051141663.png?tx)

4.打开浏览器访问

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766051432278.png?tx)

## 缺点

1.小米的cookie值会变，所以查看日志，如果出现cookie过期，就需要重复第一步操作，重新获取cookie日志。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1766051524183.png?tx)



2.只能看不能修改云笔记、不支持备份私密笔记、待办和思维导图。



## 技术栈

本项目图标由「豆包」生成，宣传图使用 Figma 制作

本项目代码由 Cursor + Claude Sonnet 4.5 辅助生成

前端由 Vite + Svelte 强力驱动（轻量高效，适合小型单页应用）

后端由 Bun 强力驱动（更小、更高效的 Node.js 运行时替代品）

网站 Docker 镜像由 lipanski/docker-static-website 强力驱动（不到 100KB）



## 最后

云笔记继续用没问题，但底稿放在 NAS 里，心里就是踏实，哪天想迁移、想整理、想做知识库，都不受平台限制。

如果你也在用小米云笔记，又刚好有一台飞牛 NAS，那这套方案，真的值得你花半小时试一试。



