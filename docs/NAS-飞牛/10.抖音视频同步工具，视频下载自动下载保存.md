# æ˜Ÿå“¥å¸¦ä½ ç©é£ç‰›NAS-6ï¼šæŠ–éŸ³è§†é¢‘åŒæ­¥å·¥å…·ï¼Œè§†é¢‘ä¸‹è½½è‡ªåŠ¨ä¸‹è½½ä¿å­˜

## å‰è¨€

å„ä½ç© NAS çš„æœ‹å‹å¥½ï¼Œæˆ‘æ˜¯æ˜Ÿå“¥ï¼å’±ä»¬ã€Šæ˜Ÿå“¥å¸¦ä½ ç©é£ç‰› NASã€‹ç³»åˆ—åˆ°ç¬¬ 6 æœŸäº†ï¼Œå‰é¢èŠäº†å¦‚ä½•å®‰è£…è¿™äº›åŸºç¡€æ“ä½œï¼Œè¿™æœŸå’±ä»¬æŠ–éŸ³è§†é¢‘åŒæ­¥å·¥å…·ï¼Œè§†é¢‘ä¸‹è½½è‡ªåŠ¨ä¸‹è½½ä¿å­˜

é£ç‰› NAS æ­è½½çš„ fnOS ç³»ç»Ÿé‡Œï¼ŒDocker å°±åƒä¸ª â€œä¸‡èƒ½æ’ä»¶ç®±â€ï¼šä¸ç”¨æŠ˜è…¾å¤æ‚çš„ç³»ç»Ÿå‡çº§ï¼Œå°±èƒ½é€šè¿‡æ‹‰å–é•œåƒå¿«é€Ÿéƒ¨ç½²å„ç§å·¥å…·ï¼Œè®© NAS ä» â€œå•çº¯çš„å­˜å‚¨ç›˜â€ å˜èº« â€œå¤šåŠŸèƒ½æœåŠ¡å™¨â€ã€‚ä»Šå¤©ä¸æç†è®ºï¼Œç›´æ¥ä¸Šå®æˆ˜ â€”â€” ç”¨ Docker éƒ¨ç½²æŠ–éŸ³åŒæ­¥ç¥å™¨ dysyncï¼Œè§£å†³å¤§å®¶ â€œæ”¶è—çš„è§†é¢‘çªç„¶å¤±æ•ˆâ€ çš„ç—›ç‚¹ï¼Œç»™å–œæ¬¢çš„æŠ–éŸ³è§†é¢‘å®‰ä¸ª â€œæ°¸ä¹…å®¶â€ã€‚

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763913704794.png?tx)

## Dysync

æ˜¯ä¸€æ¬¾åŸºäº **.NET Core 6.0** å’Œ **Vue** å¼€å‘çš„å·¥å…·ï¼Œç”¨äºåŒæ­¥æŠ–éŸ³æ”¶è—å¤¹ã€ã€Œæˆ‘å–œæ¬¢ã€çš„è§†é¢‘åŠæŒ‡å®šåšä¸»ä½œå“ï¼Œè§£å†³ä¸ªäººæ”¶è—è§†é¢‘æ˜“å¤±æ•ˆçš„é—®é¢˜ã€‚æ”¯æŒå¤šè´¦å·åŒæ­¥ï¼Œå†…ç½®è§†é¢‘ä¿¡æ¯åˆ®å‰ŠåŠŸèƒ½ï¼ŒåŒæ­¥åçš„è§†é¢‘å¯ç›´æ¥åœ¨ Emby æˆ– Jellyfin ä¸­æ’­æ”¾ã€‚

å¼€æºåœ°å€ï¼šhttps://github.com/jianzhichu/dysync.net

## ç¯å¢ƒå‡†å¤‡

1.éœ€è¦ä¸€ä¸ªDockerç¯å¢ƒã€é£ç‰›NASç­‰ã€äº‘æœåŠ¡å™¨ä¹Ÿè¡Œã€‘

2.ä¸€ä¸ªæŠ–ã€éŸ³è´¦å·



## 1. è·å–æŠ–éŸ³å…³é”®ä¿¡æ¯

å¿…åšï¼åŒæ­¥æ ¸å¿ƒå‡­è¯

Cookie åŠ `sec_user_id` æ˜¯åŒæ­¥åŠŸèƒ½çš„æ ¸å¿ƒï¼Œéœ€ä¸¥æ ¼æŒ‰æ­¥éª¤è·å–ï¼Œé¿å…é—æ¼æˆ–é”™è¯¯ã€‚

### æå–æŠ–éŸ³ Cookie

1. æ‰“å¼€ **æŠ–éŸ³ç½‘é¡µç‰ˆ** (https://www.douyin.com/) å¹¶ç™»å½•ç›®æ ‡è´¦å·ï¼›
2. è¿›å…¥ã€Œæˆ‘çš„æ”¶è—ã€é¡µé¢ï¼Œç¡®ä¿é¡µé¢åŠ è½½å®Œæˆï¼›
3. æŒ‰ `F12` æ‰“å¼€æµè§ˆå™¨ã€Œå¼€å‘è€…å·¥å…·ã€ï¼Œåˆ‡æ¢åˆ°ã€ŒNetwork (ç½‘ç»œ)ã€æ ‡ç­¾ï¼›
4. åˆ·æ–°é¡µé¢ï¼Œåœ¨æœç´¢æ¡†ä¸­è¾“å…¥ `v1/web/aweme/listcollection` ç­›é€‰è¯·æ±‚ï¼›
5. ç‚¹å‡»ä»»æ„ä¸€æ¡ç­›é€‰ç»“æœï¼Œåœ¨å³ä¾§ã€ŒHeaders (æ ‡å¤´)ã€ä¸­æ‰¾åˆ° `Cookie` å­—æ®µï¼Œ**å®Œæ•´å¤åˆ¶æ•´æ®µå†…å®¹**ï¼ˆä¸å¯åˆ å‡å­—ç¬¦ï¼‰ã€‚

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763911269056.png?tx)

å¤åˆ¶cookieåˆ°æ–‡æœ¬ä¸­

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763913449135.png?tx)

### æå– `sec_user_id`ï¼ˆä¸ªäºº/æŒ‡å®šåšä¸»ï¼‰

- **ä¸ªäºº sec_user_id**ï¼ˆåŒæ­¥è‡ªå·±çš„æ”¶è—/å–œæ¬¢ç”¨ï¼‰ï¼š
  è¿›å…¥è‡ªå·±çš„æŠ–éŸ³ä¸»é¡µï¼Œæµè§ˆå™¨åœ°å€æ ä¸­ `sec_user_id=` åçš„å­—ç¬¦ä¸²å³ä¸ºä¸ªäºº IDï¼ˆå¦‚ `https://www.douyin.com/user/sec_user_id=xxx`ï¼‰ã€‚

- åšä¸» sec_user_id

  ï¼ˆåŒæ­¥æŒ‡å®šåšä¸»ä½œå“ç”¨ï¼‰ï¼š

  1. è¿›å…¥ç›®æ ‡åšä¸»ä¸»é¡µï¼›
  2. æ–¹å¼1ï¼šç›´æ¥å¤åˆ¶åœ°å€æ ä¸­ `user/` åˆ° `?from_tab_name`ä¸­é—´éƒ¨åˆ†å†…å®¹å³æ˜¯åšä¸»çš„ `sec_user_id`ï¼›
  3. æ–¹å¼2ï¼šæŒ‰ `F12` â†’ ã€ŒNetworkã€â†’ ä»»æ„è¯·æ±‚ â†’ ã€ŒHeadersã€â†’ æå– `sec_user_id` å­—æ®µå€¼ã€‚

> âš ï¸ é£æ§æç¤ºï¼šåŒæ­¥åšä¸»ä½œå“æ—¶ï¼Œ**æ…ç”¨å¼€å¯å…¨é‡åŒæ­¥**ï¼ˆä¸€æ¬¡æ€§ä¸‹è½½è¿‡å¤šæ˜“è¢«æŠ–éŸ³é™åˆ¶è®¿é—®ï¼‰ã€‚

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763911843724.png?tx)



------

## 2. è·¯å¾„æ˜ å°„è§„åˆ™ï¼ˆæ ¸å¿ƒï¼é”™é…ä¼šå¯¼è‡´æ— æ³•è®¿é—®/æ•°æ®ä¸¢å¤±ï¼‰

ä¸ºå®ç°è§†é¢‘åœ¨ Emby/Jellyfin ä¸­æ­£å¸¸æ’­æ”¾åŠæ•°æ®æŒä¹…åŒ–ï¼Œéœ€æ­£ç¡®é…ç½®æœ¬åœ°è·¯å¾„ä¸å®¹å™¨è·¯å¾„çš„æ˜ å°„ï¼š

| å­˜å‚¨ç±»å‹           | å®¹å™¨å†…è·¯å¾„                   | æœ¬åœ°è·¯å¾„é…ç½®è¦æ±‚                                             | ç”¨é€”è¯´æ˜                                       |
| ------------------ | ---------------------------- | ------------------------------------------------------------ | ---------------------------------------------- |
| ä¸ªäººæ”¶è—è§†é¢‘       | `/app/collect`               | æ˜ å°„åˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ NASï¼š`/volume1/æŠ–éŸ³/æ”¶è—`ã€ç”µè„‘ï¼š`D:/æŠ–éŸ³/æ”¶è—`ï¼‰ | å­˜å‚¨åŒæ­¥åçš„æ”¶è—è§†é¢‘                           |
| ä¸ªäººå–œæ¬¢è§†é¢‘       | `/app/favorite`              | æ˜ å°„åˆ°æœ¬åœ°ç›®å½•ï¼ˆå»ºè®®ä¸æ”¶è—è§†é¢‘è·¯å¾„åŒºåˆ†ï¼Œå¦‚ `/volume1/æŠ–éŸ³/å–œæ¬¢`ï¼‰ | å­˜å‚¨åŒæ­¥åçš„ã€Œæˆ‘å–œæ¬¢ã€è§†é¢‘                     |
| æŒ‡å®šåšä¸»è§†é¢‘       | `/app/uper`                  | æ˜ å°„åˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ `/volume1/æŠ–éŸ³/åšä¸»ä½œå“`ï¼‰                | å­˜å‚¨åŒæ­¥åçš„åšä¸»è§†é¢‘                           |
| æ•°æ®åº“æ–‡ä»¶         | `/app/db`                    | æ˜ å°„åˆ°æœ¬åœ°ç¨³å®šç›®å½•ï¼ˆå¦‚ `/volume1/æŠ–éŸ³/å·¥å…·æ•°æ®åº“`ï¼‰          | æŒä¹…åŒ–é…ç½®ã€åŒæ­¥è®°å½•ï¼ˆé˜²æ­¢å®¹å™¨åˆ é™¤åæ•°æ®ä¸¢å¤±ï¼‰ |
| å¤šè´¦å·è§†é¢‘ï¼ˆå¯é€‰ï¼‰ | `/app/user1`/`/app/user2` ç­‰ | ä¸ºæ¯ä¸ªè´¦å·åˆ†é…ç‹¬ç«‹æœ¬åœ°è·¯å¾„ï¼ˆå¦‚ `/volume1/æŠ–éŸ³/è´¦å·A`ã€`/volume1/æŠ–éŸ³/è´¦å·B`ï¼‰ | å®ç°å¤šè´¦å·éš”ç¦»åŒæ­¥                             |

> âœ… å…³é”®æ³¨æ„ï¼š
>
> 1. æœ¬åœ°è·¯å¾„éœ€ä¸åç»­åå°ã€ŒæŠ–éŸ³æˆæƒã€é¡µé¢é…ç½®çš„ã€Œæ–‡ä»¶å­˜å‚¨è·¯å¾„ã€**å®Œå…¨ä¸€è‡´**ï¼›
> 2. æœªé…ç½®è·¯å¾„æ˜ å°„æ—¶ï¼Œæ–‡ä»¶ä»…å­˜äºå®¹å™¨å†…éƒ¨ï¼ŒEmby/Jellyfin æ— æ³•è®¿é—®ï¼Œä¸”å®¹å™¨åˆ é™¤åæ•°æ®ä¸¢å¤±ã€‚



## 3. é»˜è®¤è´¦å·å¯†ç ï¼ˆé¦–æ¬¡ç™»å½•ç”¨ï¼‰

é¦–æ¬¡è®¿é—®åå°ç®¡ç†é¡µé¢æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹é»˜è®¤è´¦å·å¯†ç ï¼š

- **ç”¨æˆ·å**ï¼š`douyin`
- **å¯†ç **ï¼š`douyin2025`

> âš ï¸ å®‰å…¨å»ºè®®ï¼šç™»å½•åä¿®æ”¹å¯†ç ã€‚



## è¿è¡Œæ–¹å¼ï¼ˆæ¨è Docker Composeï¼Œæ›´æ˜“ç»´æŠ¤ï¼‰

å°†ä¸‹æ–¹å‘½ä»¤ä¸­çš„ã€Œæœ¬åœ°è·¯å¾„ã€æ›¿æ¢ä¸ºä½ çš„å®é™…è·¯å¾„ï¼Œç»ˆç«¯æ‰§è¡Œå³å¯ï¼š

### æ–¹å¼ä¸€ï¼šDocker å‘½ä»¤è¡Œ

```
### Armè®¾å¤‡è¯·ä½¿ç”¨ registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net:arm_1.0 ç‰ˆæœ¬é•œåƒ
docker run -d --restart=always \
  -v /ä½ çš„/æœ¬åœ°/æ”¶è—è§†é¢‘è·¯å¾„:/app/collect \
  -v /ä½ çš„/æœ¬åœ°/å–œæ¬¢è§†é¢‘è·¯å¾„:/app/favorite \
  -v /ä½ çš„/æœ¬åœ°/æ•°æ®åº“è·¯å¾„:/app/db \
  -v /ä½ çš„/æœ¬åœ°/åšä¸»è§†é¢‘è·¯å¾„:/app/uper \
  -p 10101:10101 \
  --name dysync2025 \
  registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net
# æ³¨æ„ï¼š-p åé¢çš„å®¹å™¨ç«¯å£å¿…é¡»ä¸º 10101ï¼ˆæºç å›ºå®šï¼‰
```

æ˜Ÿå“¥æ‰§è¡Œçš„å‘½ä»¤

åœ¨é£ç‰›nasä¸­æ–°å»ºç›®å½•

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763912440352.png?tx)

```
docker run -d --restart=always \
  -v /vol1/1000/docker/dysync/app/collect:/app/collect \
  -v /vol1/1000/docker/dysync/app/favorite:/app/favorite \
  -v /vol1/1000/docker/dysync/app/db:/app/db \
  -v /vol1/1000/docker/dysync/app/uper:/app/uper \
  -p 10101:10101 \
  --name dysync2025 \
  registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net
```

åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763912543062.png?tx)

### æ–¹å¼äºŒï¼šDocker Compose è¿è¡Œï¼ˆæ¨èï¼‰

```
### Armè®¾å¤‡è¯·ä½¿ç”¨ registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net:arm_1.0 ç‰ˆæœ¬é•œåƒ
åˆ›å»º docker-compose.yml æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼Œæ›¿æ¢ã€Œæœ¬åœ°è·¯å¾„ã€åæ‰§è¡Œ docker-compose up -dï¼š

version: '3.8'

services:
  dysync:
    image: registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net
    container_name: dysync2025
    restart: always
    ports:
      - "10101:10101"
    volumes:
      - /volume1/docker/dysync/db:/app/db

      - /volume2/mediay/dysync:/app/collect
      - /volume2/mediay/dysync_fav:/app/favorite
      - /volume2/mediay/dysync_up:/app/uper
      # ä¸‹é¢æ˜¯å¤šè´¦å·è·¯å¾„æ˜ å°„ç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰
      - /volume2/mediay/dysync2:/app/yeyeye  
      - /volume2/mediay/dysync2_fav:/app/yeyeye_fav  
      - /volume2/mediay/dysync2_up:/app/yeyeye_up
    # é…ç½®DNSæœåŠ¡å™¨ï¼ˆè§£å†³åŸŸåè§£æå¤±è´¥å¯¼è‡´çš„æ— æ³•è®¿é—®å¤–ç½‘ï¼‰
    network_mode: bridge
    dns:
      - 8.8.8.8  # Google DNS
      - 114.114.114.114  # å›½å†…DNS
      - 223.5.5.5 
```

## ç™»å½•åå°

ip+ç«¯å£è®¿é—®åå°

```
ç”¨æˆ·åï¼šdouyin
å¯†ç ï¼šdouyin2025
```



![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763912615971.png?tx)



## åå°é¦–é¡µ

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763912692134.png?tx)

æŠ–éŸ³æˆæƒ

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1763913554206.png?tx)



## æœ€å

å†™æ–‡ä¸æ˜“ï¼Œå¦‚æœä½ éƒ½çœ‹åˆ°äº†è¿™é‡Œï¼Œè¯·ç‚¹ä¸ªèµå’Œåœ¨çœ‹ï¼Œåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ï¼›ä¹Ÿåˆ«å¿˜äº†å…³æ³¨æ˜Ÿå“¥ç©äº‘ï¼è¿™é‡Œæœ‰æ»¡æ»¡çš„å¹²è´§åˆ†äº«ï¼Œè¿˜æœ‰è½»æ¾æœ‰è¶£çš„æŠ€æœ¯äº¤æµï½ç‚¹ä¸ªèµã€åˆ†äº«ç»™èº«è¾¹çš„å°ä¼™ä¼´ï¼Œä¸€èµ·æˆé•¿ï¼Œä¸€èµ·ç©è½¬æŠ€æœ¯ä¸–ç•Œå§ï¼ ğŸ˜Š

å¦‚æœä¸æ”¾å¿ƒå…¶å®å¯ä»¥æ–°å»ºä¸€ä¸ªå°å·ï¼ŒæŠŠè‡ªå·±æ”¶è—å’Œå–œæ¬¢çš„è§†é¢‘å‘ç»™å°å·ï¼Œè®©å°å·ä¿å­˜ã€‚é€šè¿‡ dysync å·¥å…·ï¼Œé£ç‰› NAS ä¸ä»…æ˜¯æ–‡ä»¶å­˜å‚¨ä¸­å¿ƒï¼Œæ›´æˆä¸ºäº†ä¸ªäººè§†é¢‘æ”¶è—çš„ â€œå®‰å…¨ä¿é™©ç®±â€ã€‚



