# 一句话生成拓扑图！AI+Draw.io 封神开源组合，工具让你的效率爆炸

# 前言

作为天天跟架构图、拓扑图死磕的技术人，谁没为画一张规范的图表头秃过？手动拖拽组件、调整布局、对齐线条，动辄半小时起步，要是需求改了还得推倒重来 —— 直到我挖到 `next-ai-draw-io` 这个宝藏开源项目，直接把 AI 塞进了 Draw.io，一句话就能生成复杂图表，旧图截图还能秒变可编辑文件，彻底解放双手！

如果你没有大模型API，本篇文章星哥再推荐两个免费获取大模型的渠道，还请多多点赞。。。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765379084439.png?tx)

## 了解next-ai-draw-io

一个集成了AI功能的Next.js网页应用，与draw.io图表无缝结合。通过自然语言命令和AI辅助可视化来创建、修改和增强图表。

效果如下图：

![next-ai-draw-io效果图](https://imgoss.xgss.net/picgo-tx2025/QQ_1765377942101.png?tx)

## 前期准备

搭建next-ai-draw-io需要准备

1. 一台服务器或者NAS
2. 安装了Docker 或者Docker compose
3. 有自己申请的大模型API

## 准备大模型接口

1. 开源项目：GPT_API_free
2. openrouter提供的免费接口

获取免费的OpenAI的key： [https://github.com/chatanywhere/GPT_API_free](https://github.com/chatanywhere/GPT_API_free)，限制：有的模型每天只有5次，可以选择deepseek。



可以参考星哥之前写的文章[有这好事？DeepSeek-R1-70B的大模型免费用](https://mp.weixin.qq.com/s/bkwSo53CL4b2vBduJD2LQw)，申请一个KEY，大模型名称“openai/gpt-oss-20b:free”或者其他。deepseek/deepseek-r1-distill-llama-70b:free[不能用了] 

**模型要求**：此任务需要强大的模型能力，因为它涉及生成具有严格格式约束的长文本（draw.io XML）。推荐使用Claude Sonnet 4.5、GPT-4o、Gemini 2.0和DeepSeek V3/R1。

注意：`claude-sonnet-4-5` 已在带有AWS标志的draw.io图表上进行训练，因此如果您想创建AWS架构图，这是最佳选择。

## 安装next-ai-draw-io

安装next-ai-draw-io有很多种，这里星哥就采用最简单的docker方式，如果想继续可以参考开源项目：https://github.com/DayuanJiang/next-ai-draw-io/blob/main/docs/README_CN.md

### 1.准备

建立目录，编辑配置文件

```
mkdir -p /data/docker/ai-draw
cd /data/docker/ai-draw
wget https://raw.githubusercontent.com/DayuanJiang/next-ai-draw-io/refs/heads/main/env.example
mv env.example .env
编辑
vim .env
这步可以忽略，等镜像成功之后，可以在设置中填写。
# OpenAI Configuration
# OPENAI_API_KEY=sk-...
# OPENAI_BASE_URL=https://api.openai.com/v1  # Optional: Custom OpenAI-compatible endpoint
# OPENAI_ORGANIZATION=org-...  # Optional
# OPENAI_PROJECT=proj_...      # Optional

改成
OPENAI_API_KEY=<你申请的免费的key>
#OPENAI_BASE_URL=https://api.chatanywhere.tech/v1 #(国内)
OPENAI_BASE_URL=https://api.chatanywhere.org/v1 #(国外)
```



### 2.启动镜像

```
docker run -d -p 3000:3000 --env-file .env ghcr.io/dayuanjiang/next-ai-draw-io:latest

或者：
docker run -d -p 3000:3000 \
  -e AI_PROVIDER=openai \
  -e AI_MODEL=gpt-4o \
  -e OPENAI_API_KEY=your_api_key \
  ghcr.io/dayuanjiang/next-ai-draw-io:latest 
```



### 3.访问next-ai-draw-io

ip+端口访问，如下图

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765378375413.png?tx)

## 设置大模型并生成图

点击右上角的设置按钮

如图，设置Provider、Model ID、API Key、 Base URL

输入之后，再到对话框中，填入自己想要的生成的网络图、拓扑图等。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765361447621.png?tx)



发号施令

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765361520763.png?tx)

左侧生成的图片

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765361545120.png?tx)



![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765362938263.png?tx)



使用OepnRouter再试试。

![img](https://imgoss.xgss.net/picgo-tx2025/QQ_1765362986215.png?tx)

# 最后

对技术人来说，工具的核心价值就是 “把时间花在核心逻辑上，而非重复劳动”。`next-ai-draw-io` 恰好戳中了图表创作的痛点，用 AI 降低了专业图表的创作门槛，而且基于 Docker 部署在自己的服务器 / NAS 上，数据不跑路，用着更放心。

如果你也经常跟各类图表打交道，真心建议试试这个项目，相信我，会打开新世界的大门～ 觉得好用的话，别忘了给作者点个 star 支持下开源！

👉 GitHub 地址：https://github.com/DayuanJiang/next-ai-draw-io