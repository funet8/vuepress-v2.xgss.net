# 【不能用】Docker部署一个自托管视频下载器yt-dlp-web-ui



亲测不能用

https://mp.weixin.qq.com/s/CZgBHukikqleBWm_vqDPfQ



```
Unexpected Application Error!
Failed to fetch dynamically imported module: http://43.153.81.97:3033/assets/Login-Bt0YPe_A.js
TypeError: Failed to fetch dynamically imported module: http://43.153.81.97:3033/assets/Login-Bt0YPe_A.js
```



## yt-dlp

https://github.com/yt-dlp/yt-dlp

## yt-dlp-web-ui

https://github.com/marcopiovanello/yt-dlp-web-ui



创建一个目录，并进入此目录

```
mkdir -p /data/docker/yt-dlp-webui
cd /data/docker/yt-dlp-webui
```







```

vim docker-compose.yml
报错
services:
  ytdlp-webui:
    image: marcobaobao/yt-dlp-webui  # 使用的镜像
    container_name: ytdlp-webui  # 容器名称
    ports:
      - "3033:3033"  # 映射端口 3033
    environment:
      - JWT_SECRET=randomsecret  # 设置 JWT 密钥，用于生成和验证 token
      - TZ=Asia/Shanghai  # 设置容器的时区为上海时区
    volumes:
      - /data/docker/yt-dlp-webui/downloads:/downloads  # 映射本地的下载目录
    command: --auth --user admin --pass admin123 --qs 5  # 启用身份验证，设置用户名和密码，并限制并发为 5
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:3033"]  # 健康检查，访问 localhost:3033 判断容器是否正常运行
      interval: 30s  # 健康检查的间隔时间
      retries: 3  # 健康检查失败后重试次数
      start_period: 10s  # 启动后等待 10 秒后开始健康检查
      timeout: 10s  # 每次健康检查的超时时间
    restart: always  # 容器停止后总是重启

```

报错

```
version: "3.8"
services:
  yt-dlp-webui:
    image: marcobaobao/yt-dlp-webui:latest
    container_name: yt-dlp-webui
    restart: unless-stopped
    ports:
      - "3033:3033"   # WebUI 访问端口
      - "3918:3000"   # RPC 或备用端口
    volumes:
      - ./downloads:/downloads
      - ./config:/config
    environment:
      - AUTH_SECRET=c7f9a1d4e2b6f0a8c3d9e7b1f4a2c8d6e0b5f7c1a9d3e8f2b4c6d0a7 #随机生成的40位字符串
      - CREDENTIAL_USERNAME=admin
      - CREDENTIAL_PASSWORD=yourpassword

```







```
docker-compose up -d #运行容器
docker-compose ps  #查看是否开启成功

docker-compose stop

```

无法下载

```
docker run -d \
--restart always \
--name yt-dlp-web \
--user 1000:1000 \
--restart unless-stopped \
-p 3918:3000 \
-p 3033:3033 \
-v /data/docker/yt-dlp-webui/downloads:/downloads \
-v /data/docker/yt-dlp-webui/config:/config \
marcobaobao/yt-dlp-webui


```









