# Docker基础：Docker容器的创建、运行与管理

## 一、前言

Docker 已成为现代软件开发与运维的核心工具之一。它通过容器化技术提供轻量级、可移植的运行环境，使应用能够在不同平台上快速部署与扩展。本文将从 **容器的创建、运行与管理** 三个方面，带你掌握 Docker 的基础操作。

------

## 二、Docker容器的创建

### 1. 获取镜像

容器的本质是镜像的运行实例，因此第一步是获取镜像：

```bash
# 从 Docker Hub 拉取镜像
docker pull ubuntu:20.04

# 查看本地镜像
docker images
```

### 2. 创建容器

使用 `docker create` 或 `docker run` 命令：

```bash
# 创建但不启动容器
docker create --name myubuntu ubuntu:20.04

# 创建并启动容器
docker run -it --name myubuntu ubuntu:20.04 /bin/bash
```

**参数说明：**

- `-it`：交互模式 + 伪终端
- `--name`：指定容器名称
- `/bin/bash`：启动后进入 Bash 终端

------

## 三、Docker容器的运行

### 1. 启动与停止

```bash
# 启动容器
docker start myubuntu

# 停止容器
docker stop myubuntu
```

### 2. 进入容器

```bash
# 进入容器交互式终端
docker exec -it myubuntu /bin/bash
```

### 3. 后台运行

```bash
# 以后台模式运行容器
docker run -d --name webserver nginx
```

------

## 四、Docker容器的管理

### 1. 查看容器状态

```bash
# 查看正在运行的容器
docker ps

# 查看所有容器（包括已停止）
docker ps -a
```

### 2. 日志与监控

```bash
# 查看容器日志
docker logs webserver

# 查看容器资源使用情况
docker stats
```

### 3. 删除容器

```bash
# 删除指定容器
docker rm myubuntu

# 强制删除正在运行的容器
docker rm -f webserver
```

### 4. 常用管理技巧

- **端口映射**：`docker run -d -p 8080:80 nginx`
- **挂载目录**：`docker run -v /host/data:/container/data nginx`
- **自动重启**：`docker run --restart=always nginx`

### 5.修改修改docker仓库地址

```
vi /etc/docker/daemon.json
{
"registry-mirrors": [
    "https://docker.m.daocloud.io", 
    "https://noohub.ru", 
    "https://huecker.io",
    "https://dockerhub.timeweb.cloud",
    "https://f3e2e938202649e9b525ffb7272d7486.mirror.swr.myhuaweicloud.com",  
    "https://otow63ff.mirror.aliyuncs.com",
    "https://docker.1panel.live",
    "http://mirrors.ustc.edu.cn/",
    "http://mirror.azure.cn/",
    "https://hub.rat.dev/",
    "https://docker.ckyl.me/",
    "https://docker.chenby.cn",
    "https://docker.hpcloud.cloud",
    "https://docker.m.daocloud.io",
    "https://d-hub.xgss.net"  
    ]
}

加载配置信息
systemctl daemon-reload
systemctl restart docker
docker info


文件位置
"data-root": "/home/docker",
```





## 五、最佳实践清单

- **统一命名规范**：容器名称应简洁且能反映用途。
- **轻量化镜像**：优先选择官方精简版镜像（如 `alpine`）。
- **持久化数据**：使用卷（Volume）或目录挂载保证数据不随容器销毁而丢失。
- **自动化管理**：结合 `docker-compose` 或 `systemd` 实现服务编排与守护。
- **监控与日志**：定期检查 `docker stats` 与 `docker logs`，避免资源异常。

------

## 六、结语

Docker 容器的创建、运行与管理是学习容器化的第一步。掌握这些基础命令后，你可以快速搭建开发环境、部署应用，并逐步探索更高级的功能，如 **镜像构建、Compose 编排、Kubernetes 集群管理**。