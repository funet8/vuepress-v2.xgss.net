# 网络常用端口与协议

#  一、为什么要理解端口与协议？

“端口”和“协议”是两个极其基础却又决定系统可用性与安全性的关键概念。无论是服务器运维、网络管理，还是日常系统部署与排障，理解常用网络端口与协议的作用与特性，都是必不可少的基础能力。本文将以系统化方式梳理常见端口、协议类型、典型应用场景以及安全建议，帮助读者快速构建清晰的知识框架。

## 端口与协议的基本概念

### 1. 什么是端口（Port）

端口是操作系统为网络通信提供的“逻辑通道”，范围从 **0–65535**。按照 IANA 规定，端口分为三大类：

- **0–1023：知名端口（Well-known Ports）**，系统服务和核心协议常用，例如 22、80、443。
- **1024–49151：注册端口（Registered Ports）**，由应用软件注册使用，如 3306、3389。
- **49152–65535：动态端口（Dynamic Ports）**，临时用于客户端通信。

端口只是通道，承担具体数据交互的，是协议。

### 2. 什么是协议（Protocol）

协议定义通信规则，例如如何建立连接、如何传输数据、如何确认成功等。最核心的两种：

- **TCP（Transmission Control Protocol）**
  - 面向连接
  - 可靠传输
  - 适用于 Web、数据库、远程登录等
- **UDP（User Datagram Protocol）**
  - 无连接
  - 速度快，但不保证可靠
  - 适用于 DNS、视频流、语音通信等

# **二、端口的分类与作用**



## 🔢 1. 端口号范围

| 分类              | 范围        | 特点               | 示例            |
| ----------------- | ----------- | ------------------ | --------------- |
| **知名端口**      | 1–1023      | 固定分配给核心协议 | HTTP 80、SSH 22 |
| **注册端口**      | 1024–49151  | 分配给特定应用     | MySQL 3306      |
| **动态/私有端口** | 49152–65535 | 临时分配           | 客户端随机端口  |

------

# **三、常用协议与默认端口（核心清单）**

## 🌐 1. Web 服务类

| 协议       | 端口      | 传输层 | 用途          |
| ---------- | --------- | ------ | ------------- |
| HTTP       | 80        | TCP    | Web 明文访问  |
| HTTPS      | 443       | TCP    | 加密 Web 访问 |
| HTTP Proxy | 8080/3128 | TCP    | 常见代理端口  |

------

## 📁 2. 文件传输类

| 协议     | 端口 | 传输层 | 说明                |
| -------- | ---- | ------ | ------------------- |
| FTP 控制 | 21   | TCP    | 控制连接            |
| FTP 数据 | 20   | TCP    | 数据传输            |
| TFTP     | 69   | UDP    | 简单文件传输        |
| SFTP     | 22   | TCP    | 基于 SSH 的安全传输 |

------

## 🖥️ 3. 远程登录类

| 协议   | 端口 | 传输层 | 用途             |
| ------ | ---- | ------ | ---------------- |
| SSH    | 22   | TCP    | 安全远程登录     |
| Telnet | 23   | TCP    | 明文远程登录     |
| RDP    | 3389 | TCP    | Windows 远程桌面 |

------

## 📧 4. 邮件服务类

| 协议 | 端口 | 传输层 | 用途     |
| ---- | ---- | ------ | -------- |
| SMTP | 25   | TCP    | 邮件发送 |
| POP3 | 110  | TCP    | 邮件接收 |
| IMAP | 143  | TCP    | 邮件同步 |

------

## 🌍 5. 网络基础服务类

| 协议 | 端口    | 传输层  | 用途         |
| ---- | ------- | ------- | ------------ |
| DNS  | 53      | TCP/UDP | 域名解析     |
| DHCP | 67/68   | UDP     | 动态 IP 分配 |
| NTP  | 123     | UDP     | 时间同步     |
| SNMP | 161/162 | UDP     | 网络管理     |

------

## 🧱 6. 数据库服务类

| 数据库     | 端口 | 传输层 |
| ---------- | ---- | ------ |
| MySQL      | 3306 | TCP    |
| PostgreSQL | 5432 | TCP    |
| SQL Server | 1433 | TCP    |
| Redis      | 6379 | TCP    |

------

## 🧩 7. VPN / 隧道协议类

| 协议        | 端口 | 传输层 | 用途     |
| ----------- | ---- | ------ | -------- |
| IPSec / IKE | 500  | UDP    | 密钥交换 |
| L2TP        | 1701 | UDP    | 隧道协议 |
| PPTP        | 1723 | TCP    | VPN 隧道 |

------

# **四、协议号（Protocol Number）速查表**

| 协议 | 协议号 | 说明       |
| ---- | ------ | ---------- |
| ICMP | 1      | 控制报文   |
| IGMP | 2      | 组播管理   |
| TCP  | 6      | 可靠传输   |
| UDP  | 17     | 无连接传输 |
| GRE  | 47     | 路由封装   |
| ESP  | 50     | IPSec 加密 |
| AH   | 51     | IPSec 认证 |
| OSPF | 89     | 路由协议   |

------

# **五、端口安全：为什么端口是攻击入口？**

## 🚨 常见风险

- 弱口令服务暴露（SSH、RDP）
- 明文协议泄露敏感信息（Telnet、FTP）
- 端口扫描暴露服务结构
- 高危端口被利用（445、3389）

## 🔐 安全建议

- 关闭不必要端口
- 使用防火墙限制来源 IP
- 强制使用加密协议
- 定期更新系统与服务
- 使用跳板机、端口敲门等机制

------

# **六、常用端口速查表**



| 端口 | 协议 / 服务      | 传输协议 | 说明                         |
| ---- | ---------------- | -------- | ---------------------------- |
| 20   | FTP-Data         | TCP      | FTP 数据传输端口             |
| 21   | FTP              | TCP      | FTP 控制信道                 |
| 23   | Telnet           | TCP      | 远程登录（不加密，安全性低） |
| 25   | SMTP             | TCP      | 邮件发送协议                 |
| 53   | DNS              | TCP/UDP  | 域名解析                     |
| 67   | DHCP Server      | UDP      | DHCP 服务器端口              |
| 68   | DHCP Client      | UDP      | DHCP 客户端端口              |
| 69   | TFTP             | UDP      | 简单文件传输协议             |
| 79   | Finger           | TCP      | 查询远程主机用户信息         |
| 80   | HTTP             | TCP      | Web 服务常用端口             |
| 99   | Metagram Relay   | TCP      | 很少使用                     |
| 109  | POP2             | TCP      | 旧版邮件接收协议             |
| 110  | POP3             | TCP      | 邮件接收协议                 |
| 111  | RPCBind          | TCP/UDP  | 远程过程调用                 |
| 113  | Authentication   | TCP      | 身份验证服务                 |
| 119  | NNTP             | TCP      | 网络新闻传输协议             |
| 135  | RPC / DCOM       | TCP      | Windows RPC 服务             |
| 137  | NetBIOS Name     | UDP      | NetBIOS 名称解析             |
| 138  | NetBIOS Datagram | UDP      | NetBIOS 数据报               |
| 139  | NetBIOS Session  | TCP      | Windows 文件/打印共享、Samba |
| 143  | IMAP             | TCP      | 邮件在线访问协议             |
| 161  | SNMP             | UDP      | 简单网络管理协议             |
| 443  | HTTPS            | TCP      | 加密 Web 服务                |
| 554  | RTSP             | TCP/UDP  | 实时流媒体传输协议           |
| 8000 | QQ Server        | TCP      | QQ 服务端口                  |
| 4000 | QQ Client        | TCP      | QQ 客户端端口                |
| 1024 | Reserved         | -        | 系统保留端口                 |
| 1080 | Socks Proxy      | TCP      | Socks 代理端口               |
| 1755 | MMS              | TCP      | 微软媒体流协议               |
| 3389 | RDP              | TCP      | Windows 远程桌面             |

---

## DHCP 端口说明
- 服务器端口：67  
- 客户端端口：68  

## FTP 端口说明
- 控制端口：21  
- 数据端口：20  

## POP3 说明
- 端口：110  
- 仅用于接收邮件，发送依旧通过 SMTP 25 端口  

---

## 速查总结
- Web：80 / 443  
- 邮件：25 / 110 / 143  
- 文件：20 / 21 / 69  
- 网络与管理：53 / 67 / 68 / 161  
- Windows & 局域网：137 / 138 / 139 / 135  
- 远程：23 / 3389  

# 总结

## 📌 三条核心原则

1. 端口定位服务，协议定义规则
2. TCP 可靠、UDP 高效
3. 知名端口必须熟悉，注册端口按需掌握

## 📚 学习建议

- 用 Nmap 扫描自己的服务器
- 用 Wireshark 抓包理解协议
- 用防火墙规则实践端口管理