import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as i}from"./app-BiQR_lPj.js";const p={};function l(r,s){return i(),a("div",null,s[0]||(s[0]=[e(`<h1 id="搭建开源免费的全平台私有密码工具bitwarden" tabindex="-1"><a class="header-anchor" href="#搭建开源免费的全平台私有密码工具bitwarden"><span>搭建开源免费的全平台私有密码工具BitWarden</span></a></h1><h2 id="bitwarden是什么" tabindex="-1"><a class="header-anchor" href="#bitwarden是什么"><span>Bitwarden是什么</span></a></h2><p>Bitwarden 是一个安全且免费的跨平台密码管理器，一款开源密码管理软件，和Keepass、LastPass相似，支持全平台客户端。</p><p>开源也就给了我们更多的可定制性，既可以使用官方的服务（跳过服务端的部署环节，直接到客户端的使用），也可以使用自建的服务，本篇文章就介绍在CenOS7系统下搭建搭建私有的bitwarden_rs。</p><p><img src="https://imgoss.xgss.net/picgo/bitwarden.webp.jpg?aliyun" alt="bitwarden.webp"></p><h2 id="全平台" tabindex="-1"><a class="header-anchor" href="#全平台"><span>全平台</span></a></h2><p>BitWarden 支持 Windows系统、macOS系统 和 Linux系统 和 Android，iOS 两大手机端平台，并且支持各大Chrome，Firefox，Opera，Edge的浏览器插件，用户也可直接访问网站进行登录，还有命令行管理模式，可以说是覆盖平台及其全面的软件了。</p><h2 id="收费吗" tabindex="-1"><a class="header-anchor" href="#收费吗"><span>收费吗</span></a></h2><p>所有服务器端和客户端软件都是免费的</p><h2 id="bitwarden和bitwarden-rs的区别" tabindex="-1"><a class="header-anchor" href="#bitwarden和bitwarden-rs的区别"><span>Bitwarden和bitwarden_rs的区别</span></a></h2><p>bitwarden_rs项目延伸自Bitwarden，bitwarden_rs使用Rust实现了Bitwarden相似的功能，两者均开源。不过Bitwarden需要较多的依赖（如MSSQL），占用内存也比较大，如果是个人或家庭使用，推荐更加轻量的bitwarden_rs，并且bitwarden_rs还可以免费使用Bitwarden的一些高级功能，如附件上传、TOTP等功能。</p><h2 id="前期准备" tabindex="-1"><a class="header-anchor" href="#前期准备"><span>前期准备</span></a></h2><ol><li>拥有自己的服务器（系统Linux，本次教程cenots7，已安装docker）</li><li>使用自己的域名(本篇文章 b.xgss.net)</li><li>申请免费SSL证书</li></ol><h1 id="部署服务端" tabindex="-1"><a class="header-anchor" href="#部署服务端"><span>部署服务端</span></a></h1><h2 id="安装docker" tabindex="-1"><a class="header-anchor" href="#安装docker"><span>安装docker</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>#安装Docker</span></span>
<span class="line"><span>yum -y install docker</span></span>
<span class="line"><span>#启动docker</span></span>
<span class="line"><span>systemctl start docker</span></span>
<span class="line"><span>#开机自启</span></span>
<span class="line"><span>systemctl enable docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="运行docker容器" tabindex="-1"><a class="header-anchor" href="#运行docker容器"><span>运行docker容器</span></a></h2><p>我们只要在服务器的 docker 里部署一个 bitwarden 的容器，就可以通过 IOS、安卓、Windows、浏览器，互相同步我们的所有密码。安全吗？数据都保存在自己的服务器上。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker run -itd \\</span></span>
<span class="line"><span>-p 86:80 \\</span></span>
<span class="line"><span>-p 3012:3012 \\</span></span>
<span class="line"><span>--restart always \\</span></span>
<span class="line"><span>--name bitwarden  \\</span></span>
<span class="line"><span>-v /data/docker/bitwarden/:/data/ \\</span></span>
<span class="line"><span>bitwardenrs/server:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置nginx-ssl证书" tabindex="-1"><a class="header-anchor" href="#配置nginx-ssl证书"><span>配置Nginx（ssl证书）</span></a></h2><p>申请阿里云或者腾讯云免费一年SSL证书，通过acme.sh开源工具申请泛解析SSL证书：<a href="https://g.xgss.net/safe/%E9%80%9A%E8%BF%87acme.sh%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7%E7%94%B3%E8%AF%B7%E6%B3%9B%E8%A7%A3%E6%9E%90SSL%E8%AF%81%E4%B9%A6.html" target="_blank" rel="noopener noreferrer">请移步</a></p><p>域名解析到服务器</p><p>nginx的配置</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>server</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>    listen 443 ssl http2;</span></span>
<span class="line"><span>	server_name     b.xgss.net;</span></span>
<span class="line"><span>	access_log /data/wwwroot/log/b.xgss.net-access.log;</span></span>
<span class="line"><span>	error_log /dev/null;</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span>	# certs sent to the client in SERVER HELLO are concatenated in ssl_certificate</span></span>
<span class="line"><span>    ssl_certificate /data/wwwroot/web/ssl/b.xgss.net.key.pem;</span></span>
<span class="line"><span>    ssl_certificate_key /data/wwwroot/web/ssl/b.xgss.net.key;</span></span>
<span class="line"><span>    ssl_session_timeout 1d;</span></span>
<span class="line"><span>    ssl_session_cache shared:SSL:50m;</span></span>
<span class="line"><span>    ssl_session_tickets off;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    # intermediate configuration. tweak to your needs.</span></span>
<span class="line"><span>    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span></span>
<span class="line"><span>    ssl_ciphers &#39;ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS&#39;;</span></span>
<span class="line"><span>    ssl_prefer_server_ciphers on;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)</span></span>
<span class="line"><span>    add_header Strict-Transport-Security max-age=15768000;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    # OCSP Stapling ---</span></span>
<span class="line"><span>    # fetch OCSP records from URL in ssl_certificate and cache them</span></span>
<span class="line"><span>    ssl_stapling on;</span></span>
<span class="line"><span>    ssl_stapling_verify on;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>   client_max_body_size 128M;</span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_set_header  Host  &#39;b.xgss.net&#39;;</span></span>
<span class="line"><span>        proxy_pass http://127.0.0.1:86;</span></span>
<span class="line"><span>        proxy_redirect off;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>location /notifications/hub {</span></span>
<span class="line"><span>    proxy_pass http://127.0.0.1:3012;</span></span>
<span class="line"><span>    proxy_set_header Upgrade $http_upgrade;</span></span>
<span class="line"><span>    proxy_set_header Connection &quot;upgrade&quot;;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>  location /notifications/hub/negotiate {</span></span>
<span class="line"><span>    proxy_pass http://127.0.0.1:86;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>浏览器访问，如果显示如下页面则服务端部署成功。</p><p><img src="https://imgoss.xgss.net/picgo/image-20220713100354512.png?aliyun" alt="image-20220713100354512"></p><p><img src="https://imgoss.xgss.net/picgo/image-20220713101201894.png?aliyun" alt="image-20220713101201894"></p><h1 id="客户端使用" tabindex="-1"><a class="header-anchor" href="#客户端使用"><span>客户端使用</span></a></h1><h2 id="浏览器插件使用bitwarden" tabindex="-1"><a class="header-anchor" href="#浏览器插件使用bitwarden"><span>浏览器插件使用Bitwarden</span></a></h2><p>去各大浏览器应用商店搜索‘Bitwarden’安装，点击左上角的设置，添加自己的密码系统的域名</p><p><img src="https://imgoss.xgss.net/picgo/image-20220713100910706.png?aliyun" alt="image-20220713100910706"></p><p>添加项目zerossl.com的账号密码信息。</p><p><img src="https://imgoss.xgss.net/picgo/image-20220713102910053.png?aliyun" alt="image-20220713102910053"></p><p>在后台可以看到刚才添加的zerossl.com的账号密码信息</p><p><img src="https://imgoss.xgss.net/picgo/image-20220713103024701.png?aliyun" alt="image-20220713103024701"></p><p>其他系统使用大同小异，但是移动端可能需要设置自动填充。</p><h2 id="ios-端使用-bitwarden" tabindex="-1"><a class="header-anchor" href="#ios-端使用-bitwarden"><span>IOS 端使用 bitwarden</span></a></h2><p>移动端参考：@朗风晴月的文章 <a href="https://app.myzaker.com/news/article.php?pk=625edc8e8e9f097c496f7bf2" target="_blank" rel="noopener noreferrer">超好用的密码管理工具bitwarden</a></p><p>appStore 商店就可以下载，和浏览器端一样，再 bitwarden点击管理输入服务器域名，然后登录</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c08_1024.jpg?aliyun" alt="img"></p><p>这里注意下设置密码库超时为永不，上面的浏览器和之后的安卓 app 同理</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c09_1024.jpg?aliyun" alt="img"></p><p>接下是 IOS 端的自动填充设置，在设置里点击密码</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0a_1024.jpg?aliyun" alt="img"></p><p>自动填充密码</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0b_1024.jpg?aliyun" alt="img"></p><p>打开自动填充密码，并选择 bitwarden 即可</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0c_1024.jpg?aliyun" alt="img"></p><p>还是以手机上的张大妈 app 为例，选择账号密码登录，点一下账号框，点击小钥匙左边的账号密码即可自动填充</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0d_1024.jpg?aliyun" alt="img"></p><h2 id="安卓端使用-bitwarden" tabindex="-1"><a class="header-anchor" href="#安卓端使用-bitwarden"><span>安卓端使用 bitwarden</span></a></h2><p>以小米手机为例，需要去谷歌商店，或者去 gayhub 下载 bitwarden 的 app，安卓端的自动填充设置，在设置里点击更多设置</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0e_1024.jpg?aliyun" alt="img"></p><p>点击语言与输入法</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c0f_1024.jpg?aliyun" alt="img"></p><p>自动填充服务</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c10_1024.jpg?aliyun" alt="img"></p><p>选bitwarden</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c11_1024.jpg?aliyun" alt="img"></p><p>这是安卓很坑的一个地方，如果不设置，有可能有时候自动填充会失灵，点击应用设置</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c12_1024.jpg?aliyun" alt="img"></p><p>点击应用管理</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c13_1024.jpg?aliyun" alt="img"></p><p>找到 bitwarden</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c14_1024.jpg?aliyun" alt="img"></p><p>开启自启动</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c15_1024.jpg?aliyun" alt="img"></p><p>同样以安卓的张大妈 app 为例，大家可以看到下图中，我其实是有多个账号的，这样也方便切换，其他 app 同理，这也是一个方便的地方</p><p><img src="https://imgoss.xgss.net/picgo/625edc8e8e9f097c496f7c16_1024.jpg?aliyun" alt="img"></p><p>至此，本教程到此结束了</p>`,70)]))}const d=n(p,[["render",l]]),o=JSON.parse('{"path":"/article/f1ogqxu0/","title":"搭建开源免费的全平台私有密码工具BitWarden","lang":"en-US","frontmatter":{"title":"搭建开源免费的全平台私有密码工具BitWarden","createTime":"2025/05/27 17:51:17","permalink":"/article/f1ogqxu0/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":4.75,"words":1424},"filePathRelative":"kaiyuan/Open-Source-Software/搭建开源免费的全平台私有密码工具BitWarden.md"}');export{d as comp,o as data};
