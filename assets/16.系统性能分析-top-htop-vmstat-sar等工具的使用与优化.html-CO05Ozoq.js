import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as t,o as n}from"./app-BiQR_lPj.js";const l={};function h(e,s){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="系统性能分析-top-htop-vmstat-sar-等工具的使用与优化" tabindex="-1"><a class="header-anchor" href="#系统性能分析-top-htop-vmstat-sar-等工具的使用与优化"><span>系统性能分析：top / htop / vmstat / sar 等工具的使用与优化</span></a></h1><p>大家好，我是智维攻城狮，今天继续来分享关于服务器运维的知识点。</p><p>在服务器运维与系统调优领域，精准定位性能瓶颈是保障业务稳定运行的核心前提。当系统出现响应延迟、资源利用率异常或服务中断等问题时，依赖有效的性能分析工具能够快速穿透表象，直抵问题本质。本文将围绕 Linux 系统中最常用的<strong>top/htop</strong>、<strong>vmstat</strong>、<strong>sar</strong>三大类性能分析工具，从功能原理、实操方法到优化策略展开深度解析，同时结合实际场景对比工具特性，帮助运维工程师与开发人员构建系统化的性能诊断思维。</p><p>在使用工具之前，需先建立清晰的性能分析框架 ——<strong>先定位瓶颈维度，再选择适配工具</strong>。Linux 系统的性能瓶颈通常集中在四个核心层面：CPU 调度、内存分配、磁盘 I/O 与网络传输，不同工具对这四个层面的监控粒度与数据呈现方式存在显著差异。例如，top/htop 擅长实时追踪进程级 CPU 与内存占用，vmstat 适合捕捉系统级资源波动规律，而 sar 则能通过历史数据回溯长期性能趋势。</p><p>性能分析的核心流程可概括为三步：</p><ol><li><p><strong>发现异常</strong>：通过业务监控（如接口响应时间、服务吞吐量）或系统告警（如 CPU 利用率超阈值）感知性能问题；</p></li><li><p><strong>工具诊断</strong>：根据异常现象选择工具，采集 CPU、内存、I/O 等关键指标数据，缩小瓶颈范围；</p></li><li><p><strong>优化验证</strong>：基于诊断结果实施优化方案，再通过工具验证优化效果，形成闭环。</p></li></ol><hr><h2 id="_1️⃣-top-——-经典的实时性能监控工具" tabindex="-1"><a class="header-anchor" href="#_1️⃣-top-——-经典的实时性能监控工具"><span>1️⃣ top —— 经典的实时性能监控工具</span></a></h2><h3 id="_1-1-基本功能" tabindex="-1"><a class="header-anchor" href="#_1-1-基本功能"><span>1.1 基本功能</span></a></h3><p><code>top</code> 是 Linux 系统自带的实时监控工具，可显示：</p><ul><li>CPU、内存、Swap 使用情况</li><li>各进程的资源占用</li><li>系统负载（Load Average）</li></ul><h3 id="_1-2-常用命令" tabindex="-1"><a class="header-anchor" href="#_1-2-常用命令"><span>1.2 常用命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                # 默认启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # 每 2 秒刷新一次</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1234</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 仅监控 PID 为 1234 的进程</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-高效操作快捷键" tabindex="-1"><a class="header-anchor" href="#_1-3-高效操作快捷键"><span>1.3 高效操作快捷键</span></a></h3><table><thead><tr><th>快捷键</th><th>功能</th></tr></thead><tbody><tr><td><code>P</code></td><td>按 CPU 使用率排序</td></tr><tr><td><code>M</code></td><td>按内存使用率排序</td></tr><tr><td><code>1</code></td><td>显示每个 CPU 核心的使用率</td></tr><tr><td><code>k</code></td><td>结束指定进程</td></tr><tr><td><code>Shift + E</code></td><td>切换内存单位（KB/MB/GB）</td></tr></tbody></table><h3 id="_1-4-优化建议" tabindex="-1"><a class="header-anchor" href="#_1-4-优化建议"><span>1.4 优化建议</span></a></h3><ul><li><p><strong>关注 Load Average</strong>：持续高于 CPU 核数，说明系统可能过载。</p></li><li><p><strong>结合 <code>iotop</code></strong> 分析 I/O 瓶颈。</p></li><li><p>配合 <code>grep</code></p><p>快速定位：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myapp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h2 id="_2️⃣-htop-——-top-的可视化升级版" tabindex="-1"><a class="header-anchor" href="#_2️⃣-htop-——-top-的可视化升级版"><span>2️⃣ htop —— top 的可视化升级版</span></a></h2><h3 id="_2-1-特点" tabindex="-1"><a class="header-anchor" href="#_2-1-特点"><span>2.1 特点</span></a></h3><ul><li>彩色界面，信息更直观</li><li>支持鼠标操作</li><li>可直接搜索、筛选、结束进程</li></ul><h3 id="_2-2-安装与启动" tabindex="-1"><a class="header-anchor" href="#_2-2-安装与启动"><span>2.2 安装与启动</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Debian/Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> htop</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># CentOS/RHEL</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> htop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">htop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-高效用法" tabindex="-1"><a class="header-anchor" href="#_2-3-高效用法"><span>2.3 高效用法</span></a></h3><ul><li><strong>F3</strong>：搜索进程</li><li><strong>F6</strong>：选择排序字段</li><li><strong>F9</strong>：结束进程</li><li><strong>F2</strong>：自定义显示列（可添加 I/O、线程数等）</li></ul><h3 id="_2-4-优化建议" tabindex="-1"><a class="header-anchor" href="#_2-4-优化建议"><span>2.4 优化建议</span></a></h3><ul><li>在多核 CPU 环境下，<code>htop</code> 的 CPU 条形图能快速发现单核瓶颈。</li><li>配合 <code>tree</code> 视图（F5）分析进程父子关系。</li></ul><hr><h2 id="_3️⃣-vmstat-——-系统资源快照工具" tabindex="-1"><a class="header-anchor" href="#_3️⃣-vmstat-——-系统资源快照工具"><span>3️⃣ vmstat —— 系统资源快照工具</span></a></h2><h3 id="_3-1-功能" tabindex="-1"><a class="header-anchor" href="#_3-1-功能"><span>3.1 功能</span></a></h3><p><code>vmstat</code>（Virtual Memory Statistics）可显示：</p><ul><li>CPU 使用率</li><li>内存、Swap 状态</li><li>I/O 读写</li><li>上下文切换（context switch）</li></ul><h3 id="_3-2-常用命令" tabindex="-1"><a class="header-anchor" href="#_3-2-常用命令"><span>3.2 常用命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vmstat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 每 2 秒采样一次，共 5 次</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-3-输出字段解析" tabindex="-1"><a class="header-anchor" href="#_3-3-输出字段解析"><span>3.3 输出字段解析</span></a></h3><table><thead><tr><th>字段</th><th>含义</th></tr></thead><tbody><tr><td><code>r</code></td><td>运行队列长度（&gt;CPU 核数可能过载）</td></tr><tr><td><code>si/so</code></td><td>Swap 进/出（频繁发生说明内存不足）</td></tr><tr><td><code>us</code></td><td>用户态 CPU 占比</td></tr><tr><td><code>sy</code></td><td>内核态 CPU 占比</td></tr><tr><td><code>wa</code></td><td>I/O 等待时间</td></tr></tbody></table><h3 id="_3-4-优化建议" tabindex="-1"><a class="header-anchor" href="#_3-4-优化建议"><span>3.4 优化建议</span></a></h3><ul><li><code>wa</code> 长期偏高 → 检查磁盘 I/O（<code>iostat</code>、<code>iotop</code>）</li><li><code>cs</code>（上下文切换）过高 → 检查线程调度、锁竞争</li></ul><hr><h2 id="_4️⃣-sar-——-系统历史性能分析利器" tabindex="-1"><a class="header-anchor" href="#_4️⃣-sar-——-系统历史性能分析利器"><span>4️⃣ sar —— 系统历史性能分析利器</span></a></h2><h3 id="_4-1-功能" tabindex="-1"><a class="header-anchor" href="#_4-1-功能"><span>4.1 功能</span></a></h3><p><code>sar</code>（System Activity Reporter）可记录并回放历史性能数据，支持：</p><ul><li>CPU、内存、I/O、网络等多维度指标</li><li>定时采集（配合 <code>sysstat</code> 服务）</li></ul><h3 id="_4-2-安装与启动" tabindex="-1"><a class="header-anchor" href="#_4-2-安装与启动"><span>4.2 安装与启动</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Debian/Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sysstat</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># CentOS/RHEL</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sysstat</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启用数据采集</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --now</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sysstat</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-常用命令" tabindex="-1"><a class="header-anchor" href="#_4-3-常用命令"><span>4.3 常用命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 每秒采集 CPU 使用率，共 5 次</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 内存使用情况</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DEV</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 网络流量</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -q</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 系统负载</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-历史数据分析" tabindex="-1"><a class="header-anchor" href="#_4-4-历史数据分析"><span>4.4 历史数据分析</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/log/sysstat/sa10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可回溯指定日期的 CPU 使用情况，适合分析<strong>非实时故障</strong>。</p><hr><h2 id="_5️⃣-综合优化与实战策略" tabindex="-1"><a class="header-anchor" href="#_5️⃣-综合优化与实战策略"><span>5️⃣ 综合优化与实战策略</span></a></h2><h3 id="_5-1-工具组合" tabindex="-1"><a class="header-anchor" href="#_5-1-工具组合"><span>5.1 工具组合</span></a></h3><ul><li><strong>实时监控</strong>：<code>htop</code> + <code>iotop</code></li><li><strong>快照分析</strong>：<code>vmstat</code> + <code>iostat</code></li><li><strong>历史回溯</strong>：<code>sar</code> + 日志分析</li></ul><h3 id="_5-2-性能分析流程建议" tabindex="-1"><a class="header-anchor" href="#_5-2-性能分析流程建议"><span>5.2 性能分析流程建议</span></a></h3><ol><li><strong>先看负载</strong>：<code>uptime</code> / <code>top</code> / <code>sar -q</code></li><li><strong>再看 CPU/内存</strong>：<code>htop</code> / <code>vmstat</code></li><li><strong>定位 I/O 瓶颈</strong>：<code>iotop</code> / <code>iostat</code></li><li><strong>回溯历史</strong>：<code>sar</code> 分析故障前后趋势</li></ol><h3 id="_5-3-自动化采集脚本示例" tabindex="-1"><a class="header-anchor" href="#_5-3-自动化采集脚本示例"><span>5.3 自动化采集脚本示例</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># perf_monitor.sh</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LOG_DIR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/var/log/perf&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $LOG_DIR</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    DATE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">date</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +&quot;%Y%m%d_%H%M%S&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$LOG_DIR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/top_</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$DATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    vmstat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$LOG_DIR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/vmstat_</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$DATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$LOG_DIR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/sar_cpu_</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$DATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sleep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 60</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_6️⃣-总结" tabindex="-1"><a class="header-anchor" href="#_6️⃣-总结"><span>6️⃣ 总结</span></a></h2><ul><li><code>top</code>/<code>htop</code>：实时监控，快速定位高占用进程</li><li><code>vmstat</code>：轻量快照，适合趋势观察</li><li><code>sar</code>：历史回溯，适合事后分析</li><li><strong>优化关键</strong>：结合多工具交叉验证，避免单一指标误判</li></ul>`,61)]))}const p=i(l,[["render",h]]),k=JSON.parse('{"path":"/%E6%99%BA%E7%BB%B4%E6%94%BB%E5%9F%8E%E7%8B%AE/S15/16.%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90-top-htop-vmstat-sar%E7%AD%89%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E4%BC%98%E5%8C%96.html","title":"系统性能分析：top / htop / vmstat / sar 等工具的使用与优化","lang":"en-US","frontmatter":{},"git":{"createdTime":1760001321000,"updatedTime":1761640845000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":4.44,"words":1331},"filePathRelative":"智维攻城狮/S15/16.系统性能分析-top-htop-vmstat-sar等工具的使用与优化.md"}');export{p as comp,k as data};
