import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,a as i,o as p}from"./app-BiQR_lPj.js";const n={};function t(g,a){return p(),e("div",null,a[0]||(a[0]=[i(`<h1 id="使用开源免费雷池waf防火墙-接入保护你的网站" tabindex="-1"><a class="header-anchor" href="#使用开源免费雷池waf防火墙-接入保护你的网站"><span>使用开源免费雷池WAF防火墙，接入保护你的网站</span></a></h1><p>大家好，我是星哥，昨天介绍了《<a href="https://mp.weixin.qq.com/s/9TOXth3128N6PtXhaWI5aw" target="_blank" rel="noopener noreferrer">开源免费WEB防火墙，不让黑客越雷池一步！</a>》链接：https://mp.weixin.qq.com/s/9TOXth3128N6PtXhaWI5aw</p><p>今天讲一下如何把网站接入到雷池WAF。</p><p>首先需要安装雷池WAF。</p><h2 id="雷池工作原理-图" tabindex="-1"><a class="header-anchor" href="#雷池工作原理-图"><span>雷池工作原理（图）</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20250424190054665.png?aliyun" alt="image-20250424190054665"></p><h2 id="解析一个新的域名" tabindex="-1"><a class="header-anchor" href="#解析一个新的域名"><span>解析一个新的域名</span></a></h2><p>加入WAF之前的解析路径：</p><p>test-waf.xgss.net---&gt;腾讯云CVM（宝塔中新建一个站点即可）</p><p>现在要加入WAF的保护的路径</p><p>test-waf.xgss.net ---&gt; 雷池WAF ---&gt; 腾讯云CVM</p><h2 id="_1-在宝塔中添加一个站点" tabindex="-1"><a class="header-anchor" href="#_1-在宝塔中添加一个站点"><span>1.在宝塔中添加一个站点</span></a></h2><p>新建一个站点，我这里添加一个测试的域名：test-waf.xgss.net，这里只是添加一个演示的静态站，数据库和PHP都不选。</p><p>把域名解析到服务器中</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425094459269.png?aliyun" alt="image-20250425094459269"></p><p>打开域名看是否可以访问</p><p>如图，访问成功，说明站点已经搭建好。</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425094807642.png?aliyun" alt="image-20250425094807642"></p><h2 id="_2-添加应用-添加站点" tabindex="-1"><a class="header-anchor" href="#_2-添加应用-添加站点"><span>2.添加应用(添加站点)</span></a></h2><p>登录雷池控制台后, 进入 防护应用 - 应用管理 页面, 点击右上角的 添加应用 按钮进行配置.</p><p><img src="https://imgoss.xgss.net/picgo/image-20250424190507782.png?aliyun" alt="image-20250424190507782"></p><p>一些关键字段的说明如下:</p><p>域名: 通过雷池访问该应用时使用的域名 (支持使用 * 做为通配符)，注意修改 DNS 解析到雷池 IP</p><p>端口: 雷池监听的端口 (如需配置 HTTPS 服务, 请勾选 SSL 选项并配置对应的 SSL 证书)</p><p>上游服务器: 被保护的 Web 服务的实际地址</p><h2 id="_3-编辑应用" tabindex="-1"><a class="header-anchor" href="#_3-编辑应用"><span>3.编辑应用</span></a></h2><p>如图填写</p><p>域名： test-waf.xgss.net</p><p>端口：这里之所以选择82端口，是因为WAF和WEB在同一台服务器上，端口冲突了</p><p>如果有条件可以选择安装在不同的服务器上，将域名解析到WAF上，再转发到上游服务器</p><p>上游服务器： IP+端口</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425095710644.png?aliyun" alt="image-20250425095710644"></p><h2 id="_4-测试" tabindex="-1"><a class="header-anchor" href="#_4-测试"><span>4.测试</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>分别打开：</span></span>
<span class="line"><span>http://test-waf.xgss.net/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>http://test-waf.xgss.net:82</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>没有WAF的</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425100101616.png?aliyun" alt="image-20250425100101616"></p><p><img src="https://imgoss.xgss.net/picgo/image-20250425102429060.png?aliyun" alt="image-20250425102429060"></p><h3 id="模拟一次攻击" tabindex="-1"><a class="header-anchor" href="#模拟一次攻击"><span>模拟一次攻击</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>http://test-waf.xgss.net/?q=&lt;script&gt;alert(%27XSS%27)&lt;/script&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>http://test-waf.xgss.net:82/?q=&lt;script&gt;alert(%27XSS%27)&lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如图没有被拦截</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425102522523.png?aliyun" alt="image-20250425102522523"></p><p>如图被拦截了</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425102451692.png?aliyun" alt="image-20250425102451692"></p><h3 id="查看防护记录" tabindex="-1"><a class="header-anchor" href="#查看防护记录"><span>查看防护记录</span></a></h3><p><img src="https://imgoss.xgss.net/picgo/image-20250425102714221.png?aliyun" alt="image-20250425102714221"></p><h3 id="查看统计报表" tabindex="-1"><a class="header-anchor" href="#查看统计报表"><span>查看统计报表</span></a></h3><p><img src="https://imgoss.xgss.net/picgo2025/image-20250425102739535.png?aliyun" alt="image-20250425102739535"></p><h2 id="设置cc防护" tabindex="-1"><a class="header-anchor" href="#设置cc防护"><span>设置CC防护</span></a></h2><p>如图打开CC防护，依次点击“防护应用”、点击“详情”，进入设置</p><p>有三种模式</p><p>1.防护模式（发现攻击后将自动拦截，并记录攻击事件）</p><p>2.观察模式（有攻击，只记录不拦截）</p><p>3.维护模式（显示：网站维护中，暂时无法访问）</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425104644129.png?aliyun" alt="image-20250425104644129"></p><p><img src="https://imgoss.xgss.net/picgo/image-20250425102935758.png?aliyun" alt="image-20250425102935758"></p><p>多次刷新页面，实现了封禁</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425103141087.png?aliyun" alt="image-20250425103141087"></p><h2 id="人机验证" tabindex="-1"><a class="header-anchor" href="#人机验证"><span>人机验证</span></a></h2><p>如图开启人机验证，开启人机验证后，被自动化程序控制的浏览器将会被阻止</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425105109356.png?aliyun" alt="image-20250425105109356"></p><h2 id="身份认证" tabindex="-1"><a class="header-anchor" href="#身份认证"><span>身份认证</span></a></h2><h3 id="打开身份认证" tabindex="-1"><a class="header-anchor" href="#打开身份认证"><span>打开身份认证</span></a></h3><p>如图打开身份认证</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425104458000.png?aliyun" alt="image-20250425104458000"></p><h3 id="添加用户" tabindex="-1"><a class="header-anchor" href="#添加用户"><span>添加用户</span></a></h3><p>以此点击“身份认证”，“配置”，“添加用户”</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425104012822.png?aliyun" alt="image-20250425104012822"></p><p>再访问页面，需要输入账号和密码</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425104117231.png?aliyun" alt="image-20250425104117231"></p><h3 id="授权" tabindex="-1"><a class="header-anchor" href="#授权"><span>授权</span></a></h3><p>未获得授权，再回到WAF后台授权</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425104203590.png?aliyun" alt="image-20250425104203590"></p><p>以此点击“身份认证”、账号，授权，点击授权通过即可。</p><p><img src="https://imgoss.xgss.net/picgo/image-20250425103904534.png?aliyun" alt="image-20250425103904534"></p><h1 id="结尾" tabindex="-1"><a class="header-anchor" href="#结尾"><span>结尾</span></a></h1><p>说了这么多，相信大家都看出来雷池 WAF 防火墙有多香了吧！零成本、易操作，防护效果还杠杠的。不管你是个人博主，还是小团队做的网站，赶紧安排上！把它接入网站，就等于给网站上了一道坚固的安全锁。</p><p>写文不易，如果你都看到了这里，请点个赞和在看，分享给更多的朋友；也别忘了关注星哥玩云！这里有满满的干货分享，还有轻松有趣的技术交流～点个赞、分享给身边的小伙伴，一起成长，一起玩转技术世界吧！ 😊</p>`,77)]))}const l=s(n,[["render",t]]),c=JSON.parse('{"path":"/article/xntuqgtx/","title":"开源免费WEB防火墙，不让黑客不敢越雷池一步！ 2","lang":"en-US","frontmatter":{"title":"开源免费WEB防火墙，不让黑客不敢越雷池一步！ 2","createTime":"2025/05/27 17:51:17","permalink":"/article/xntuqgtx/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":3.55,"words":1065},"filePathRelative":"kaiyuan2025/开源免费WEB防火墙，不让黑客不敢越雷池一步！ 2.md"}');export{l as comp,c as data};
