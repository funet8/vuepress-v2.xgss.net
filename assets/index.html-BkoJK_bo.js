import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as i,o as e}from"./app-BiQR_lPj.js";const l={};function p(d,s){return e(),n("div",null,s[0]||(s[0]=[i(`<h1 id="两种方法教你如何在linux系统中安装yapi" tabindex="-1"><a class="header-anchor" href="#两种方法教你如何在linux系统中安装yapi"><span>两种方法教你如何在Linux系统中安装Yapi</span></a></h1><p>大家好，我是星哥，这篇文章讲介绍两种方法教你如何在Linux系统中安装Yapi，并且使用nginx反向代理。</p><h1 id="什么是yapi" tabindex="-1"><a class="header-anchor" href="#什么是yapi"><span>什么是Yapi</span></a></h1><p>YApi 是高效、易用、功能强大的 api 管理平台，旨在为开发、产品、测试人员提供更优雅的接口管理服务。可以帮助开发者轻松创建、发布、维护，YApi 还为用户提供了优秀的交互体验，开发人员只需利用平台提供的接口数据写入工具以及简单的点击操作就可以实现接口的管理。</p><h1 id="yapi-的特性" tabindex="-1"><a class="header-anchor" href="#yapi-的特性"><span>YApi 的特性</span></a></h1><ul><li><strong>权限管理：</strong> YApi 拥有比较成熟的团队管理扁平化项目权限配置，它可以满足各类企业的需求</li><li><strong>可视化接口管理：</strong> 使用 websocket 技术开发的多人协作接口编辑功能，让多人协作 成倍提升开发效率</li><li><strong>Mock Server：</strong> 简单快捷的 Mock Server 应用， mock 数据的生成非常方便</li><li><strong>自动化测试：</strong> 比较完善的接口自动化测试,保证数据的正确性</li><li><strong>数据导入：</strong> 支持导入 Swagger, Postman, Har 数据格式，方便迁移旧项目</li><li><strong>插件机制：</strong> 比较强大的插件机制，它可以满足各类业务需求</li></ul><p><img src="https://imgoss.xgss.net/picgo/image-20230208145718401.png?aliyun" alt="image-20230208145718401"></p><h2 id="官方文档" tabindex="-1"><a class="header-anchor" href="#官方文档"><span>官方文档</span></a></h2><p>开源地址： https://github.com/YMFE/yapi</p><h1 id="centos7-下基于docker安装yapi" tabindex="-1"><a class="header-anchor" href="#centos7-下基于docker安装yapi"><span>Centos7 下基于docker安装Yapi</span></a></h1><h2 id="一、安装docker" tabindex="-1"><a class="header-anchor" href="#一、安装docker"><span>一、安装Docker</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>yum install  docker</span></span>
<span class="line"><span>systemctl start docker</span></span>
<span class="line"><span>systemctl enable docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、安装并配置mongo" tabindex="-1"><a class="header-anchor" href="#二、安装并配置mongo"><span>二、安装并配置Mongo</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># mkdir -p /data/docker/mongo</span></span>
<span class="line"><span># cd  /data/docker/mongo</span></span>
<span class="line"><span># mkdir db</span></span>
<span class="line"><span># vim mongo.conf</span></span>
<span class="line"><span>填写一下内容，保存：</span></span>
<span class="line"><span>systemLog:</span></span>
<span class="line"><span>  destination: file</span></span>
<span class="line"><span>  path: /var/log/mongodb/mongod.log</span></span>
<span class="line"><span>  logAppend: true</span></span>
<span class="line"><span>storage:</span></span>
<span class="line"><span>  dbPath: /data/db</span></span>
<span class="line"><span>net:</span></span>
<span class="line"><span>  port: 27017</span></span>
<span class="line"><span>  bindIp: 0.0.0.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>docker启动mongo</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker run -itd \\</span></span>
<span class="line"><span>-p 27017:27017 \\</span></span>
<span class="line"><span>--name yapi-mongodb \\</span></span>
<span class="line"><span>--restart always \\</span></span>
<span class="line"><span>-v /data/docker/mongo/db:/data/db \\</span></span>
<span class="line"><span>-v /data/docker/mongo/mongo.conf:/data/mongo.conf \\</span></span>
<span class="line"><span>-e TZ=Asia/Shanghai mongo:4.0.4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、初始化-yapi-数据库索引及管理员账号" tabindex="-1"><a class="header-anchor" href="#三、初始化-yapi-数据库索引及管理员账号"><span>三、初始化 Yapi 数据库索引及管理员账号</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker run -it --rm  \\</span></span>
<span class="line"><span>--link yapi-mongodb:mongo  \\</span></span>
<span class="line"><span>--entrypoint npm  \\</span></span>
<span class="line"><span>--workdir /api/vendors  registry.cn-hangzhou.aliyuncs.com/anoy/yapi  run install-server</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&gt; yapi-vendor@1.8.5 install-server /api/vendors</span></span>
<span class="line"><span>&gt;  node server/install.js</span></span>
<span class="line"><span>log: mongodb load success...</span></span>
<span class="line"><span>初始化管理员账号成功,账号名：&quot;admin@admin.com&quot;，密码：&quot;ymfe.org&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、启动-yapi-服务" tabindex="-1"><a class="header-anchor" href="#四、启动-yapi-服务"><span>四、启动 Yapi 服务</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker run -d  --name yapi  \\</span></span>
<span class="line"><span> --restart always \\</span></span>
<span class="line"><span>--link yapi-mongodb:mongo  \\</span></span>
<span class="line"><span>--workdir /api/vendors  \\</span></span>
<span class="line"><span>-p 3000:3000  registry.cn-hangzhou.aliyuncs.com/anoy/yapi  server/app.js</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>访问 http://localhost:3000</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>登录账号: admin@admin.com</span></span>
<span class="line"><span>密码: ymfe.org</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20230208152434166.png?aliyun" alt="image-20230208152434166"></p><p>至此，Yapi基于Docker环境安装完成，就可以使用了</p><h1 id="使用npm安装" tabindex="-1"><a class="header-anchor" href="#使用npm安装"><span>使用npm安装</span></a></h1><h2 id="环境准备" tabindex="-1"><a class="header-anchor" href="#环境准备"><span>环境准备</span></a></h2><p>在开始安装之前，请确保您的Linux系统已经安装了以下软件：</p><ul><li><strong>Node.js:</strong> Yapi是基于Node.js开发的，所以需要先安装Node.js。</li><li><strong>MongoDB:</strong> Yapi使用MongoDB作为数据库。</li></ul><h2 id="_1-安装npm" tabindex="-1"><a class="header-anchor" href="#_1-安装npm"><span>1.安装npm</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>npm install -g yarn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-克隆yapi项目" tabindex="-1"><a class="header-anchor" href="#_2-克隆yapi项目"><span>2.克隆Yapi项目</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>git clone https://github.com/YMFE/yapi.git</span></span>
<span class="line"><span>cd yapi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-安装依赖" tabindex="-1"><a class="header-anchor" href="#_3-安装依赖"><span>3.安装依赖:</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>yarn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-启动yapi" tabindex="-1"><a class="header-anchor" href="#_4-启动yapi"><span>4.启动Yapi:</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>yarn start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="nginx反向代理" tabindex="-1"><a class="header-anchor" href="#nginx反向代理"><span>Nginx反向代理</span></a></h1><p>这步操作主要是用域名便于记忆，不用记 192.168.1.3:3000 的IP来访问。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>server {</span></span>
<span class="line"><span>        listen       80;</span></span>
<span class="line"><span>        server_name  yapi.XXX.com;</span></span>
<span class="line"><span>        #root /path/;</span></span>
<span class="line"><span>        access_log /data/wwwroot/log/yapi.XXX.com-access.log;</span></span>
<span class="line"><span>        error_log off;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>                index index.php index.html;</span></span>
<span class="line"><span>                proxy_pass      http://192.168.1.3:3000;</span></span>
<span class="line"><span>                proxy_redirect off;</span></span>
<span class="line"><span>                proxy_set_header Host $host;</span></span>
<span class="line"><span>                proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="结尾" tabindex="-1"><a class="header-anchor" href="#结尾"><span>结尾</span></a></h1><p>综上所述，Yapi作为一款功能强大的接口管理平台，在提高开发效率、保证接口质量方面具有显著优势。</p>`,41)]))}const t=a(l,[["render",p]]),o=JSON.parse('{"path":"/article/1cra0s24/","title":"Linux系统下基于Docker安装Yapi","lang":"en-US","frontmatter":{"title":"Linux系统下基于Docker安装Yapi","createTime":"2025/05/27 17:51:17","permalink":"/article/1cra0s24/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":2.61,"words":782},"filePathRelative":"devops/Linux系统下基于Docker安装Yapi.md"}');export{t as comp,o as data};
