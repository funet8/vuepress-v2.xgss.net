import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as e,o as i}from"./app-BiQR_lPj.js";const p={};function l(c,s){return i(),n("div",null,s[0]||(s[0]=[e(`<h1 id="chatgpt接入企业微信-打造智能微信聊天机器人" tabindex="-1"><a class="header-anchor" href="#chatgpt接入企业微信-打造智能微信聊天机器人"><span>ChatGPT接入企业微信，打造智能微信聊天机器人</span></a></h1><h1 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h1><p>但是众所周知，接入个人微信是有风险的，官方是不允许我们通过非法的客户端进行登录的。今天给大家分享一下通过将 ChatGPT 接入企业微信，来实现通过微信勾搭 ChatGPT 的方式。</p><p>整个过程主要分三步</p><ol><li>需要一个OpenAPI Key</li><li>个人注册一个企业微信</li><li>在服务器启动开源 chatgpt-wechat 服务 https://github.com/whyiyhw/chatgpt-wechat</li></ol><p><img src="https://imgoss.xgss.net/picgo/pexels-photo-15863000.webp.jpg?aliyun" alt="pexels-photo-15863000.webp"></p><h1 id="openapi-key" tabindex="-1"><a class="header-anchor" href="#openapi-key"><span>OpenAPI Key</span></a></h1><p>OpenAi Keys 申请：https://beta.openai.com/account/api-keys</p><h1 id="注册企业微信" tabindex="-1"><a class="header-anchor" href="#注册企业微信"><span>注册企业微信</span></a></h1><p>用手机下载一个企业微信，然后创建一个个人企业，注意这里一定要是企业，而不能是其他组织，因为组织是无法登录网页管理后台的。</p><p><img src="https://imgoss.xgss.net/picgo/image-20230626200058972.png?aliyun" alt="image-20230626200058972"></p><p><img src="https://imgoss.xgss.net/picgo/image-20230626200112081.png?aliyun" alt="image-20230626200112081"></p><p>创建完成过后，我们通过<a href="https://work.weixin.qq.com/" target="_blank" rel="noopener noreferrer">企业微信官网</a>，网址：https://work.weixin.qq.com/ 进行扫码登录到企业管理后台中</p><p><img src="https://imgoss.xgss.net/picgo/image-20230531104326110.png?aliyun" alt="image-20230531104326110"></p><h2 id="创建应用" tabindex="-1"><a class="header-anchor" href="#创建应用"><span>创建应用</span></a></h2><p>登录完成过后我们在 应用管理 ---&gt; 自建 ---&gt; 创建应用，创建一个应用。</p><p><img src="https://imgoss.xgss.net/picgo/500fd9f9d72a60596dd213061f1d3e97023bbaa5.jpeg@f_auto?aliyun" alt="img"></p><p><img src="https://imgoss.xgss.net/picgo/image-20230531104514878.png?aliyun" alt="image-20230531104514878"></p><h2 id="获取企业-id" tabindex="-1"><a class="header-anchor" href="#获取企业-id"><span>获取企业 ID</span></a></h2><p>在我的企业 --&gt; 企业信息 最下面复制企业ID</p><p><img src="https://imgoss.xgss.net/picgo/image-20230531104814063.png?aliyun" alt="image-20230531104814063"></p><h2 id="获取应用id和密钥" tabindex="-1"><a class="header-anchor" href="#获取应用id和密钥"><span>获取应用ID和密钥</span></a></h2><p>点击刚刚创建的应用，获取 AgentId 和 Secret，Secret 需要发送到手机上才能查看；</p><p><img src="https://imgoss.xgss.net/picgo/image-20230531104931454.png?aliyun" alt="image-20230531104931454"></p><h2 id="接受信息" tabindex="-1"><a class="header-anchor" href="#接受信息"><span>接受信息</span></a></h2><p>在应用的 接收消息 这里获取 token 和 EncodingAESKey，这两个可以点击后面的随机获取自动生成；</p><p>这里注意获取完成后保持窗口不关闭，因为这里暂时还无法保存，如果关闭了窗口这个 token 和 EncodingAESKey 就没有用了。</p><p>先保持窗口打开，等我们第三步把服务部署起来了过后，再回到这里填写上面的 URL 验证，然后就可以保存了。</p><p><img src="https://imgoss.xgss.net/picgo/image-20230531105600632.png?aliyun" alt="image-20230531105600632"></p><p><img src="https://imgoss.xgss.net/picgo/image-20230531105711541.png?aliyun" alt="image-20230531105711541"></p><h1 id="服务器环境" tabindex="-1"><a class="header-anchor" href="#服务器环境"><span>服务器环境</span></a></h1><h2 id="安装-docker" tabindex="-1"><a class="header-anchor" href="#安装-docker"><span>安装 docker</span></a></h2><p>购买好的服务器我们首先需要安装 docker 和 docker-compose，依次执行下面的命令即可。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># yum install docker</span></span>
<span class="line"><span>或者： </span></span>
<span class="line"><span>#CentOS 7、Debian、Ubuntu</span></span>
<span class="line"><span># curl -sSL https://get.docker.com/ | sh</span></span>
<span class="line"><span># systemctl start docker</span></span>
<span class="line"><span># systemctl enable docker.service</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>sudo chmod +x /usr/local/bin/docker-compose</span></span>
<span class="line"><span>docker-compose --version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装docker-compose" tabindex="-1"><a class="header-anchor" href="#安装docker-compose"><span>安装docker-compose</span></a></h2><h3 id="centos" tabindex="-1"><a class="header-anchor" href="#centos"><span>centos：</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span></span></span>
<span class="line"><span>安装docker-compose</span></span>
<span class="line"><span># yum -y install docker-compose</span></span>
<span class="line"><span>查看安装的版本</span></span>
<span class="line"><span># docker-compose -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu"><span>Ubuntu</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>$ sudo su root</span></span>
<span class="line"><span># apt install docker-compose</span></span>
<span class="line"><span># docker-compose --version</span></span>
<span class="line"><span>docker-compose version 1.29.2, build unknown</span></span>
<span class="line"><span></span></span>
<span class="line"><span>或者：</span></span>
<span class="line"><span># curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span></span>
<span class="line"><span># chmod +x /usr/local/bin/docker-compose</span></span>
<span class="line"><span># ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span></span>
<span class="line"><span># docker-compose --version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装好了 docker 和 docker-compose 以后，再加上有了上面的一些配置，我们就可以准备启动服务了，按照如下命令开始操作。</p><h1 id="配置chatgpt-wechat" tabindex="-1"><a class="header-anchor" href="#配置chatgpt-wechat"><span>配置chatgpt-wechat</span></a></h1><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># 克隆源码</span></span>
<span class="line"><span>git clone https://github.com/whyiyhw/chatgpt-wechat.git</span></span>
<span class="line"><span># 进入目录</span></span>
<span class="line"><span>cd ./chatgpt-wechat/</span></span>
<span class="line"><span>从备份生成 配置文件</span></span>
<span class="line"><span>cp ./chat/service/chat/api/etc/chat-api.yaml.bak ./chat/service/chat/api/etc/chat-api.yaml</span></span>
<span class="line"><span># 编辑配置文件</span></span>
<span class="line"><span>vim ./chat/service/chat/api/etc/chat-api.yaml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20230531111558602.png?aliyun" alt="image-20230531111558602"></p><p>安装上面的配置填写指定的密钥</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>cd ./chatgpt-wechat/chat</span></span>
<span class="line"><span># docker-compose build</span></span>
<span class="line"><span># docker-compose up -d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20230531114230505.png?aliyun" alt="image-20230531114230505"></p><p><img src="https://imgoss.xgss.net/picgo/image-20230531114243388.png?aliyun" alt="image-20230531114243388"></p><p>访问： http://IP+端口 注意：安全组于鏊开发 8887这个端口</p><p>访问浏览器报400的错，这个是正常的。</p><p><img src="https://imgoss.xgss.net/picgo/image-20230531132923827.png?aliyun" alt="image-20230531132923827"></p><p>接下来我们还需要回到企业微信，在上面验证 URL 地方，填上自己的服务器 ip 端口为 8887，进行验证。</p><p><img src="https://imgoss.xgss.net/picgo/image-20230531114757728.png?aliyun" alt="image-20230531114757728"></p><h2 id="企业可信-ip" tabindex="-1"><a class="header-anchor" href="#企业可信-ip"><span>企业可信 IP</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20230531114926974.png?aliyun" alt="image-20230531114926974"></p><p>到这里我们基本完成了，还差最后一步那就是邀请我们个人微信加入这个企业，通过在我的企业》微信插件 下面有个邀请关注二维码，用个人微信扫码加入即可。</p><p>调试：</p><h2 id="邀请关注" tabindex="-1"><a class="header-anchor" href="#邀请关注"><span>邀请关注</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20230531131923731.png?aliyun" alt="image-20230531131923731"></p><p>在微信中找到应用</p><p><img src="https://imgoss.xgss.net/picgo/image-20230531135624439.png?aliyun" alt="image-20230531135624439"></p><p><img src="https://imgoss.xgss.net/picgo/image-20230531135637185.png?aliyun" alt="image-20230531135637185"></p>`,61)]))}const d=a(p,[["render",l]]),o=JSON.parse('{"path":"/article/vzhbl61z/","title":"9.ChatGPT接入企业微信打造智能微信","lang":"en-US","frontmatter":{"title":"9.ChatGPT接入企业微信打造智能微信","createTime":"2025/05/27 17:51:17","permalink":"/article/vzhbl61z/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":3.3,"words":989},"filePathRelative":"chatgpt/9.ChatGPT接入企业微信打造智能微信.md"}');export{d as comp,o as data};
