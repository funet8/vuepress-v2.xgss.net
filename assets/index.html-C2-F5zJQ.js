import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a as d,o as a}from"./app-BiQR_lPj.js";const s={};function i(n,t){return a(),l("div",null,t[0]||(t[0]=[d(`<h1 id="开源堡垒机jumpserver配置教程-使用步骤与配置" tabindex="-1"><a class="header-anchor" href="#开源堡垒机jumpserver配置教程-使用步骤与配置"><span>开源堡垒机JumpServer配置教程：使用步骤与配置</span></a></h1><p>上一篇文章星哥讲了如何安装JumpServer堡垒机，本篇文章来讲如何配置和使用JumpServer。</p><p>安装成功后，通过浏览器访问登录 JumpServer</p><p>地址: http://&lt;JumpServer服务器IP地址&gt;:&lt;服务运行端口&gt; 用户名: admin 密码: ChangeMe（你修改的ip）</p><p><img src="https://imgoss.xgss.net/picgo/image-20241205162322458.png?aliyun" alt="image-20241205162322458"></p><h1 id="进入jumpserver" tabindex="-1"><a class="header-anchor" href="#进入jumpserver"><span>进入JumpServer</span></a></h1><p>如图，控制分为三大功能模块，控制台、审计台、工作台。</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204161935319.png?aliyun" alt="image-20241204161935319"></p><h1 id="系统设置" tabindex="-1"><a class="header-anchor" href="#系统设置"><span>系统设置</span></a></h1><ul><li>点击页面右上角的 <code>系统设置</code> 进行配置。</li></ul><h2 id="基本设置" tabindex="-1"><a class="header-anchor" href="#基本设置"><span>基本设置</span></a></h2><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">示例</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">当前站点URL</td><td style="text-align:left;">https://demo.jumpserver.org</td><td style="text-align:left;">不设置的话，邮件收到的地址为 <code>http://localhost</code></td></tr><tr><td style="text-align:left;">文档链接</td><td style="text-align:left;"></td><td style="text-align:left;">默认即可</td></tr><tr><td style="text-align:left;">支持链接</td><td style="text-align:left;"></td><td style="text-align:left;">默认即可</td></tr></tbody></table><p><img src="https://imgoss.xgss.net/picgo/image-20241205114623710.png?aliyun" alt="image-20241205114623710"></p><h2 id="邮件设置" tabindex="-1"><a class="header-anchor" href="#邮件设置"><span>邮件设置</span></a></h2><ul><li>我们支持通过<code>SMTP</code>或<code>EXCHANGE</code>方式来对接邮件配置。</li></ul><p>SMTP</p><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">示例</th><th style="text-align:left;">备注</th></tr></thead><tbody><tr><td style="text-align:left;">SMTP主机</td><td style="text-align:left;">smtp.qq.com</td><td style="text-align:left;">服务商提供的 smtp 服务器</td></tr><tr><td style="text-align:left;">SMTP端口</td><td style="text-align:left;">25</td><td style="text-align:left;">通常是 <code>25</code></td></tr><tr><td style="text-align:left;">SMTP账号</td><td style="text-align:left;">**********<a href="https://github.com/qq" target="_blank" rel="noopener noreferrer">@qq</a>.com</td><td style="text-align:left;">通常是 <code>user@domain.com</code></td></tr><tr><td style="text-align:left;">SMTP密码</td><td style="text-align:left;">****************</td><td style="text-align:left;">每次 <code>测试连接</code> 都需要重新输入密码</td></tr><tr><td style="text-align:left;">使用SSL</td><td style="text-align:left;">[ ]</td><td style="text-align:left;">如果端口使用 <code>465</code>，必须勾选此项</td></tr><tr><td style="text-align:left;">使用TLS</td><td style="text-align:left;">[ ]</td><td style="text-align:left;">如果端口使用 <code>587</code>，必须勾选此项</td></tr><tr><td style="text-align:left;">发件人</td><td style="text-align:left;">**********<a href="https://github.com/qq" target="_blank" rel="noopener noreferrer">@qq</a>.com</td><td style="text-align:left;"><code>测试连接</code> 必须要输入</td></tr><tr><td style="text-align:left;">主题前缀</td><td style="text-align:left;">[JMS]</td><td style="text-align:left;">邮件的标题，收到的邮件是 <code>[JMS]</code> 开头</td></tr><tr><td style="text-align:left;">测试收件人</td><td style="text-align:left;">**********<a href="https://github.com/qq" target="_blank" rel="noopener noreferrer">@qq</a>.com</td><td style="text-align:left;">测试连接必填</td></tr></tbody></table><p>注意</p><ul><li>不可以同时勾选 <code>使用 SSL</code> 和 <code>使用 TLS</code>。</li></ul><h2 id="邮箱测试连接" tabindex="-1"><a class="header-anchor" href="#邮箱测试连接"><span>邮箱测试连接</span></a></h2><p>如图，点击测试连接</p><p><img src="https://imgoss.xgss.net/picgo/image-20241205144625390.png?aliyun" alt="image-20241205144625390"></p><p>收到邮件</p><p><img src="https://imgoss.xgss.net/picgo/image-20241205144736504.png?aliyun" alt="image-20241205144736504"></p><h1 id="资产管理" tabindex="-1"><a class="header-anchor" href="#资产管理"><span>资产管理</span></a></h1><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h2><p>准备两个测试资产和一个数据库来验证功能。</p><table><thead><tr><th style="text-align:left;">IP 地址</th><th style="text-align:left;">主机名</th><th style="text-align:left;">端口</th><th style="text-align:left;">操作系统</th><th style="text-align:left;">管理员用户</th><th style="text-align:left;">密码</th></tr></thead><tbody><tr><td style="text-align:left;">192.168.1.10</td><td style="text-align:left;">test_ssh10</td><td style="text-align:left;">22</td><td style="text-align:left;">Centos 7</td><td style="text-align:left;">root</td><td style="text-align:left;">123456</td></tr><tr><td style="text-align:left;">192.168.1.157</td><td style="text-align:left;">test_win157</td><td style="text-align:left;">3389</td><td style="text-align:left;">Windows 10</td><td style="text-align:left;">PC</td><td style="text-align:left;">空</td></tr><tr><td style="text-align:left;">192.168.1.6</td><td style="text-align:left;">test_mysql06</td><td style="text-align:left;">61920</td><td style="text-align:left;">MySQL 5.7</td><td style="text-align:left;">root</td><td style="text-align:left;">123456</td></tr></tbody></table><h2 id="编辑资产树" tabindex="-1"><a class="header-anchor" href="#编辑资产树"><span>编辑资产树</span></a></h2><ul><li><p>点击页面左侧的 <code>资产管理</code> - <code>资产列表</code>，在根节点 <code>Default</code> 右键新建 <code>SSH Server</code> 、 <code>RDP Server</code> 、<code>Database</code> 三个节点。</p></li><li><p>资产树样式如下：</p></li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Default</span></span>
<span class="line"><span>├─ SSH Server</span></span>
<span class="line"><span>└─ RDP Server</span></span>
<span class="line"><span>└─ DB Server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意</p><ul><li>根节点 <code>Default</code> 不能重命名，右击节点可以 <code>添加</code>、<code>删除</code> 和 <code>重命名</code> 节点，以及进行资产相关的操作。</li></ul><p><img src="https://imgoss.xgss.net/picgo/image-20241204162909193.png?aliyun" alt="image-20241204162909193"></p><h2 id="创建资产" tabindex="-1"><a class="header-anchor" href="#创建资产"><span>创建资产</span></a></h2><ul><li><p>点击页面左侧的 <code>资产管理</code> - <code>资产列表</code> - <code>主机</code> - <code>创建</code> 创建一台 Linux 服务器，并在创建资产过程中，创建特权用户，内容就是上面表单的 <code>管理员用户</code> 和 <code>密码</code>。</p></li><li><p>Windows 资产的创建流程同样如此。</p></li><li><p>创建 Linux 资产样式如下：</p></li></ul><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">IP/主机</th><th style="text-align:left;">资产平台</th><th style="text-align:left;">节点</th><th style="text-align:left;">协议组</th><th style="text-align:left;">账号列表</th></tr></thead><tbody><tr><td style="text-align:left;">test_ssh10</td><td style="text-align:left;">192.168.1.10</td><td style="text-align:left;">Linux</td><td style="text-align:left;">/Default/SSH Server</td><td style="text-align:left;">ssh 22</td><td style="text-align:left;">添加</td></tr></tbody></table><p>如下图：</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204163312792.png?aliyun" alt="image-20241204163312792"></p><p>注意</p><ul><li><code>名称</code> 不能重名，<code>密码</code> 或者 <code>密钥</code> 二选一即可，一些资产不允许通过 <code>密码</code> 认证可以改用 <code>私钥</code> 认证。</li><li><code>特权用户</code> 仅支持 <code>SSH</code> 协议，用于资产 <code>可连接性测试</code>、<code>推送用户</code>、<code>批量改密</code> 等自动化任务。</li><li>资产创建信息填写好保存之后隔几秒钟时间刷新一下网页，<code>ssh</code> 协议资产的可连接图标会显示 <code>绿色</code>，且 <code>硬件信息</code> 会显示出来。</li><li>如果 <code>可连接</code> 的图标是 <code>黄色</code> 或者 <code>红色</code>，可以点击 <code>资产</code> 的 <code>名称</code>，在右侧 <code>快速修改</code> - <code>测试可连接性</code> 点击 <code>测试</code> 按钮，根据错误提示处理。</li><li>被连接 <code>Linux</code> 资产需要 <code>python</code> 组件，且版本大于等于 <code>2.6</code>，<code>Ubuntu</code> 等资产默认不允许 <code>root</code> 用户远程 <code>ssh</code> 登录，请自行处理，<code>Windows</code> 资产需要手动安装 <code>OpenSSH Server</code>。</li><li>如果资产不能正常连接，请检查 特权用户 的 <code>用户名</code> 和 <code>密码</code> 是否正确以及该 <code>特权用户</code> 是否能使用 <code>SSH</code> 从 <code>JumpServer</code> 主机正确登录到资产主机上。</li></ul><h2 id="创建windows资产" tabindex="-1"><a class="header-anchor" href="#创建windows资产"><span>创建windows资产</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20241204164001940.png?aliyun" alt="image-20241204164001940"></p><h2 id="创建数据库应用" tabindex="-1"><a class="header-anchor" href="#创建数据库应用"><span>创建数据库应用</span></a></h2><ul><li><p>点击页面左侧的 <code>资产管理</code> - <code>资产列表</code> - <code>创建</code> - <code>数据库下选择 MySQL 数据库</code>。</p></li><li><p>创建 MySQL 数据库应用样式如下：</p></li></ul><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">地址</th><th style="text-align:left;">节点</th><th style="text-align:left;">数据库</th><th style="text-align:left;">协议组</th><th style="text-align:left;">账号列表</th></tr></thead><tbody><tr><td style="text-align:left;">test_mysql06</td><td style="text-align:left;">192.168.1.6</td><td style="text-align:left;">/Default/DB Server</td><td style="text-align:left;">test</td><td style="text-align:left;">mysql:61920</td><td style="text-align:left;">添加</td></tr></tbody></table><p>创建如图：</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204164412009.png?aliyun" alt="image-20241204164412009"></p><p>填写之后，点击测试，看是否能连通。</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204164457832.png?aliyun" alt="image-20241204164457832"></p><p>注意</p><ul><li>名称、主机、数据库选项为必填项。</li></ul><h2 id="创建授权规则" tabindex="-1"><a class="header-anchor" href="#创建授权规则"><span>创建授权规则</span></a></h2><ul><li><p>点击页面左侧的 <code>授权管理</code> - <code>资产授权</code> - <code>创建</code> 创建一个授权。</p></li><li><p>Windows 资产、MySQL 数据库 的授权流程和下述内容相同。</p></li><li><p>创建登录授权规则（例如 Linux 资产），样式如下：</p></li></ul><table><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">用户</th><th style="text-align:left;">用户组</th><th style="text-align:left;">资产</th><th style="text-align:left;">节点</th><th style="text-align:left;">账号</th><th style="text-align:left;">动作</th></tr></thead><tbody><tr><td style="text-align:left;">admin_ssh01</td><td style="text-align:left;">Administrator(admin)</td><td style="text-align:left;">-</td><td style="text-align:left;">test_ssh01(172.16.80.11)</td><td style="text-align:left;">-</td><td style="text-align:left;">所有账号</td><td style="text-align:left;">全部</td></tr></tbody></table><p><img src="https://imgoss.xgss.net/picgo/image-20241204165205400.png?aliyun" alt="image-20241204165205400"></p><p>创建资产授权</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204165251008.png?aliyun" alt="image-20241204165251008"></p><p>注意</p><ul><li><code>名称</code>，授权的名称，不能重复。</li><li><code>用户</code> 和 <code>用户组</code> 二选一，不推荐即选择 <code>用户</code> 又选择 <code>用户组</code>。</li><li><code>资产</code> 和 <code>节点</code> 二选一，选择 <code>节点</code> 会包含 <code>节点</code> 下面的所有 <code>资产</code>。</li><li><code>账号</code>，<code>账号</code> 为连接资产的 <code>认证凭据</code>。</li><li><code>用户(组)</code>，<code>资产(节点)</code> 是一对一的关系，所以当拥有 <code>Linux</code>、<code>Windows</code> 不同类型资产时，应该分别给 <code>Linux</code> 资产和 <code>Windows</code> 资产创建 <code>授权规则</code>。</li></ul><h1 id="用户登录" tabindex="-1"><a class="header-anchor" href="#用户登录"><span>用户登录</span></a></h1><ul><li>点击页面右上角的 <code>Web 终端</code> 进行资产连接。</li></ul><p>点击‘WEB终端’</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204165437113.png?aliyun" alt="image-20241204165437113"></p><p>连接</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204165513464.png?aliyun" alt="image-20241204165513464"></p><p>注意</p><ul><li>用户只能看到自己被管理员授权了的 <code>资产</code>，如果登录后无资产，请联系管理员进行确认。</li></ul><h1 id="新建用户" tabindex="-1"><a class="header-anchor" href="#新建用户"><span>新建用户</span></a></h1><p>左侧“用户列表”，创建</p><p><img src="https://imgoss.xgss.net/picgo/image-20241204172139373.png?aliyun" alt="image-20241204172139373"></p><h1 id="审计台" tabindex="-1"><a class="header-anchor" href="#审计台"><span>审计台</span></a></h1><p>JumpServer的审计台提供了全面的审计功能，可以记录和追踪用户的操作行为，包括登录记录、命令执行记录、会话操作录像等，为运维团队提供了关键的合规依据和安全溯源能力，有助于加强管理员对系统操作的监控和审计，确保系统数据的安全性和合规性。</p><h2 id="历史会话" tabindex="-1"><a class="header-anchor" href="#历史会话"><span>历史会话</span></a></h2><p>可以查看在线会话、历史会话，一个最实用的功能就是回放和下载，回放当时的执行结果</p><p><img src="https://imgoss.xgss.net/picgo/image-20241205154701052.png?aliyun" alt="image-20241205154701052"></p><p>回放</p><p><img src="https://imgoss.xgss.net/picgo/image-20241205154912830.png?aliyun" alt="image-20241205154912830"></p><h1 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h1><p>通过本教程，你已经掌握了如何安装和配置开源堡垒机 JumpServer。在日常的安全运维中，JumpServer 可以帮助企业集中管理、审计和控制远程访问，提升安全性并增强审计追溯能力。如果遇到问题，可以参考本文的常见问题部分，或查阅官方文档进行进一步的配置与调优。</p>`,80)]))}const p=e(s,[["render",i]]),r=JSON.parse('{"path":"/article/chb3v18c/","title":"jumpserver02","lang":"en-US","frontmatter":{"title":"jumpserver02","createTime":"2025/05/27 17:51:17","permalink":"/article/chb3v18c/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":5.68,"words":1703},"filePathRelative":"safe/jumpserver02.md"}');export{p as comp,r as data};
