import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as i}from"./app-BiQR_lPj.js";const p={};function l(d,s){return i(),a("div",null,s[0]||(s[0]=[e(`<h1 id="免费微软云服务器搭建一个免翻墙的chatgpt站点-不能用了" tabindex="-1"><a class="header-anchor" href="#免费微软云服务器搭建一个免翻墙的chatgpt站点-不能用了"><span>免费微软云服务器搭建一个免翻墙的chatgpt站点(不能用了)</span></a></h1><h2 id="前提条件" tabindex="-1"><a class="header-anchor" href="#前提条件"><span>前提条件</span></a></h2><ol><li>注册微软帐号（直接在官网注册）</li><li>微软云服务器的美国节点云服务器</li><li>域名，最好是 com后缀的</li><li>chatgpt账号</li><li>chatgpt的API</li></ol><p>上两篇文章我们已经有了，微软云的美国服务器和域名，本篇文章教大家免费微软云服务器搭建一个免翻墙的chatgpt站点。</p><h2 id="获取openai-api-密钥" tabindex="-1"><a class="header-anchor" href="#获取openai-api-密钥"><span>获取OpenAI API 密钥</span></a></h2><p>OpenAi Keys 申请：https://beta.openai.com/account/api-keys</p><p><img src="https://imgoss.xgss.net/picgo/image-20230525152738913.png?aliyun" alt="image-20230525152738913"></p><p>在这里，单击“创建新密钥”并复制 API 密钥。请注意，您以后无法复制或查看整个 API 密钥。因此强烈建议立即将 API 密钥复制并粘贴到记事本文件中。</p><p>另外，不要公开分享或展示 API 密钥。这是一个私钥，仅用于访问您的帐户。您还可以删除 API 密钥并创建多个私钥（最多五个）。</p><p>5美元 ，有效期：3个月</p><h2 id="远程连接云服务器" tabindex="-1"><a class="header-anchor" href="#远程连接云服务器"><span>远程连接云服务器</span></a></h2><h2 id="安装docker" tabindex="-1"><a class="header-anchor" href="#安装docker"><span>安装docker</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>#CentOS 7、Debian、Ubuntu</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ sudo su root</span></span>
<span class="line"><span># curl -sSL https://get.docker.com/ | sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span># systemctl start docker</span></span>
<span class="line"><span># systemctl enable docker.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动docker" tabindex="-1"><a class="header-anchor" href="#启动docker"><span>启动docker</span></a></h2><p>开源项目：https://github.com/Chanzhaoyu/chatgpt-web</p><p>开源代理：https://github.com/geekr-dev/openai-proxy</p><h1 id="chatgpt-web" tabindex="-1"><a class="header-anchor" href="#chatgpt-web"><span>chatgpt-web</span></a></h1><h2 id="使用openai-api-key" tabindex="-1"><a class="header-anchor" href="#使用openai-api-key"><span>使用OpenAI API KEY</span></a></h2><p>已经无法使用</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>ChatGPT error 429: {&quot;detail&quot;:&quot;It is recommended to upgrade to the latest PandoraNext: https://github.com/pandora-next/deploy&quot;}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里要将OPENAI_API_KEY换成你的。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker run -itd --name chatgpt-web \\</span></span>
<span class="line"><span>--restart always \\</span></span>
<span class="line"><span>-p 3002:3002 \\</span></span>
<span class="line"><span>--env OPENAI_API_KEY=&lt;chatgpt-api-key&gt; \\</span></span>
<span class="line"><span>chenzhaoyu94/chatgpt-web</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用-openai的-openai-access-token-免费" tabindex="-1"><a class="header-anchor" href="#使用-openai的-openai-access-token-免费"><span>使用 OpenAI的 OPENAI_ACCESS_TOKEN（免费）</span></a></h2><p>浏览器访问： https://chat.openai.com/api/auth/session</p><p>如图复制 &quot;accessToken&quot;:&quot;这里是你的accessToken&quot; ，后面的引号内的所有字符。</p><p>会有过期时间，通常是1个月，一个月之后要更换accessToken。</p><p><img src="https://imgoss.xgss.net/picgo/image-20230725142907015.png?aliyun" alt="image-20230725142907015"></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker run -itd --name chatgpt-web \\</span></span>
<span class="line"><span>--restart always \\</span></span>
<span class="line"><span>-p 3002:3002 \\</span></span>
<span class="line"><span>--env OPENAI_ACCESS_TOKEN=&#39;替换成你的accessToken&#39;  chenzhaoyu94/chatgpt-web</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置nginx" tabindex="-1"><a class="header-anchor" href="#配置nginx"><span>配置nginx</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>配置nginx</span></span>
<span class="line"><span># vim /etc/nginx/conf.d/chat.chuanqu.ltd.conf</span></span>
<span class="line"><span>按键盘的 &#39;a&#39; 将下面的配置填写</span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>        listen       80;</span></span>
<span class="line"><span>        server_name  chat.chuanqu.ltd;</span></span>
<span class="line"><span>        #root /path/;</span></span>
<span class="line"><span>        access_log /dev/null;</span></span>
<span class="line"><span>        error_log /dev/null;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>                #配置nginx密码</span></span>
<span class="line"><span>				#auth_basic &quot;Please input password&quot;; #这里是验证时的提示信息</span></span>
<span class="line"><span>                #auth_basic_user_file /etc/nginx/conf.d/htpasswd; # 密码的路径</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                index index.php index.html;</span></span>
<span class="line"><span>                proxy_pass      http://127.0.0.1:3002;</span></span>
<span class="line"><span>                proxy_redirect off;</span></span>
<span class="line"><span>                proxy_set_header Host $host;</span></span>
<span class="line"><span>                proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>按键盘的 &#39;:wq&#39; 保存退出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>查看配置是否正确：</span></span>
<span class="line"><span># nginx -t </span></span>
<span class="line"><span></span></span>
<span class="line"><span>重启nginx服务：</span></span>
<span class="line"><span># systemctl restart nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="域名解析" tabindex="-1"><a class="header-anchor" href="#域名解析"><span>域名解析</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20230525153649693.png?aliyun" alt="image-20230525153649693"></p><h2 id="访问" tabindex="-1"><a class="header-anchor" href="#访问"><span>访问</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20230525153730548.png?aliyun" alt="image-20230525153730548"></p><h2 id="ubuntu-配置nginx验证密码-非必须" tabindex="-1"><a class="header-anchor" href="#ubuntu-配置nginx验证密码-非必须"><span>ubuntu 配置nginx验证密码（非必须）</span></a></h2><p>如果没有验证，任何人只要知道你的地址就可以使用</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># apt-get install apache2-utils</span></span>
<span class="line"><span></span></span>
<span class="line"><span># htpasswd -c /etc/nginx/conf.d/htpasswd admin</span></span>
<span class="line"><span>New password:   (输入你的密码)</span></span>
<span class="line"><span>Re-type new password: (重复输入你的密码)</span></span>
<span class="line"><span>Adding password for user admin</span></span>
<span class="line"><span># cat /etc/nginx/conf.d/htpasswd</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#在nginx配置下新增下面两行</span></span>
<span class="line"><span>auth_basic &quot;Please input password&quot;; #这里是验证时的提示信息</span></span>
<span class="line"><span>auth_basic_user_file /etc/nginx/conf.d/htpasswd; # 密码的路径</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span># nginx -t</span></span>
<span class="line"><span># systemctl restart nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再次访问则需要输入密码</p><h1 id="更新密钥" tabindex="-1"><a class="header-anchor" href="#更新密钥"><span>更新密钥</span></a></h1><h2 id="更新-openai-access-token" tabindex="-1"><a class="header-anchor" href="#更新-openai-access-token"><span>更新 OPENAI_ACCESS_TOKEN</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker rm -f chatgpt-web</span></span>
<span class="line"><span></span></span>
<span class="line"><span># OPENAI_ACCESS_TOKEN=&#39;网页获取获取到的KEY&#39; # https://chat.openai.com/api/auth/session</span></span>
<span class="line"><span></span></span>
<span class="line"><span># docker run -itd --name chatgpt-web --restart always -p 3002:3002 --env OPENAI_ACCESS_TOKEN=&quot;\${OPENAI_ACCESS_TOKEN}&quot;  chenzhaoyu94/chatgpt-web</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>chatgpt的accessToken有效期是多久？ 30天</p><h2 id="更新openai-api-key" tabindex="-1"><a class="header-anchor" href="#更新openai-api-key"><span>更新OPENAI_API_KEY</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span># docker rm -f chatgpt-web</span></span>
<span class="line"><span></span></span>
<span class="line"><span>https://platform.openai.com/account/api-keys ，上面页面获得的 OPENAI_API_KEY</span></span>
<span class="line"><span></span></span>
<span class="line"><span># OPENAI_API_KEY=&quot;获得的密钥&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># docker run -itd --name chatgpt-web --restart always -p 3002:3002 --env OPENAI_API_KEY=&quot;\${OPENAI_API_KEY}&quot; chenzhaoyu94/chatgpt-web</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_2023-11-22更新" tabindex="-1"><a class="header-anchor" href="#_2023-11-22更新"><span>2023-11-22更新</span></a></h1><p><img src="https://imgoss.xgss.net/picgo/image-20231122155658720.png?aliyun" alt="image-20231122155658720"></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>ChatGPT error 429: {&quot;detail&quot;:&quot;It is recommended to upgrade to the latest PandoraNext: https://github.com/pandora-next/deploy&quot;}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="获取-jwt-token" tabindex="-1"><a class="header-anchor" href="#获取-jwt-token"><span>获取 JWT Token</span></a></h2><p>将获取到的<code>JWT Token</code>内容写进同目录的<a href="https://github.com/pandora-next/deploy#%E5%85%B3%E4%BA%8E-licensejwt%E6%96%87%E4%BB%B6" target="_blank" rel="noopener noreferrer">license.jwt</a>文件中。</p><p>https://github.com/pandora-next/deploy#%E5%85%B3%E4%BA%8E-licensejwt%E6%96%87%E4%BB%B6</p><p><img src="https://imgoss.xgss.net/picgo/image-20231122160140192.png?aliyun" alt="image-20231122160140192"></p><p><img src="https://imgoss.xgss.net/picgo/image-20231122160221477.png?aliyun" alt="image-20231122160221477"></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>在需要授权的服务器上，执行以下命令获取授权：</span></span>
<span class="line"><span># curl -fLO &quot;https://dash.pandoranext.com/data/XXXXX/license.jwt&quot;</span></span>
<span class="line"><span># cat license.jwt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20231122160417171.png?aliyun" alt="image-20231122160417171"></p><h2 id="执行docker" tabindex="-1"><a class="header-anchor" href="#执行docker"><span>执行docker</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>$ docker pull pengzhile/pandora-next</span></span>
<span class="line"><span>$ PANDORA_NEXT_LICENSE=\`cat license.jwt\`</span></span>
<span class="line"><span>$ echo $PANDORA_NEXT_LICENSE</span></span>
<span class="line"><span>$ docker run -d --restart always --name PandoraNext --net=bridge -p 8181:8181 \\</span></span>
<span class="line"><span>             -e PANDORA_NEXT_LICENSE=&quot;$PANDORA_NEXT_LICENSE&quot; pengzhile/pandora-next</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>容器内默认监听8181端口，映射宿主机的8181端口，可自行修改。</span></span>
<span class="line"><span>你可以映射目录到容器内的/data目录，config.json、tokens.json和license.jwt放在其中。</span></span>
<span class="line"><span>自行使用真实的JWT Token替换命令中的&lt;JWT Token&gt;，没有&lt;和&gt;，不要搞错。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ docker ps</span></span>
<span class="line"><span>CONTAINER ID   IMAGE                      COMMAND                  CREATED         STATUS         PORTS                                       NAMES</span></span>
<span class="line"><span>d72ef7e4986d   pengzhile/pandora-next     &quot;/opt/app/entrypoint…&quot;   5 seconds ago   Up 2 seconds   0.0.0.0:8181-&gt;8181/tcp, :::8181-&gt;8181/tcp   PandoraNext</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="配置nginx-1" tabindex="-1"><a class="header-anchor" href="#配置nginx-1"><span>配置nginx</span></a></h1><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>server {</span></span>
<span class="line"><span>        listen       80;</span></span>
<span class="line"><span>        server_name  chat.xgss.net;</span></span>
<span class="line"><span>        #root /path/;</span></span>
<span class="line"><span>        access_log /dev/null;</span></span>
<span class="line"><span>        error_log /dev/null;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>                #配置nginx密码</span></span>
<span class="line"><span>                auth_basic &quot;Please input password&quot;; #这里是验证时的提示信息</span></span>
<span class="line"><span>                auth_basic_user_file /etc/nginx/conf.d/htpasswd; # 密码的路径</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                index index.php index.html;</span></span>
<span class="line"><span>                proxy_pass      http://127.0.0.1:8181;</span></span>
<span class="line"><span>                proxy_redirect off;</span></span>
<span class="line"><span>                proxy_set_header Host $host;</span></span>
<span class="line"><span>                proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="显示页面" tabindex="-1"><a class="header-anchor" href="#显示页面"><span>显示页面</span></a></h1><p><img src="https://imgoss.xgss.net/picgo/image-20231122161116937.png?aliyun" alt="image-20231122161116937"></p><h1 id="_2024年-5月30日更新" tabindex="-1"><a class="header-anchor" href="#_2024年-5月30日更新"><span>2024年 5月30日更新</span></a></h1>`,61)]))}const r=n(p,[["render",l]]),h=JSON.parse('{"path":"/article/litz8zir/","title":"5.免费微软云服务器搭建一个免翻墙的chatgpt站点","lang":"en-US","frontmatter":{"title":"5.免费微软云服务器搭建一个免翻墙的chatgpt站点","createTime":"2025/05/27 17:51:17","permalink":"/article/litz8zir/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":3.8,"words":1139},"filePathRelative":"chatgpt/5.免费微软云服务器搭建一个免翻墙的chatgpt站点.md"}');export{r as comp,h as data};
