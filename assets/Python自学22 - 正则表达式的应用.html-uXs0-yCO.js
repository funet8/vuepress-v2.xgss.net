import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as e}from"./app-BiQR_lPj.js";const t={};function h(l,i){return e(),a("div",null,i[0]||(i[0]=[n(`<h1 id="python自学22-正则表达式的应用" tabindex="-1"><a class="header-anchor" href="#python自学22-正则表达式的应用"><span>Python自学22 - 正则表达式的应用</span></a></h1><p>在 Python 自学之旅中，正则表达式是处理字符串的 “瑞士军刀”。经过前面章节对正则表达式基础语法的学习，本节课我们将聚焦其在 Python 中的实际应用，通过re模块的核心函数，解决字符串匹配、提取、替换等常见问题，让你真正将正则表达式运用到项目开发中。</p><p>在进入应用前，先快速回顾正则表达式的核心要素（避免遗忘基础）：</p><ul><li><p><strong>元字符</strong>：.（匹配任意字符）、^（开头匹配）、$（结尾匹配）、[]（字符集）、\\（转义）等；</p></li><li><p><strong>量词</strong>：*（0次及以上）、+（1次及以上）、?（0次或1次）、{n,m}（n到m次）；</p></li><li><p><strong>特殊序列</strong>：\\d（数字）、\\w（字母/数字/下划线）、\\s（空白字符）等。</p></li></ul><p>正则表达式的核心价值是 “用简洁的语法描述复杂的字符串规则”，而 Python 的re模块则是实现这一价值的工具。</p><h2 id="一、为什么要学正则表达式" tabindex="-1"><a class="header-anchor" href="#一、为什么要学正则表达式"><span>一、为什么要学正则表达式？</span></a></h2><p>在文本处理、数据清洗、日志分析、爬虫开发等场景中，我们经常需要从一大段文字中提取特定信息。 例如：</p><ul><li>提取邮箱地址</li><li>验证手机号格式</li><li>从日志中抓取 IP</li><li>批量替换字符串</li></ul><p>如果用普通字符串方法（<code>split</code>、<code>find</code>、<code>replace</code>），代码会很冗长。 而 <strong>正则表达式（Regular Expression, regex）</strong> 提供了一种强大而简洁的方式来匹配和操作文本。</p><hr><h2 id="二、python-中的正则模块" tabindex="-1"><a class="header-anchor" href="#二、python-中的正则模块"><span>二、Python 中的正则模块</span></a></h2><p>Python 内置了 <code>re</code> 模块，常用方法如下：</p><table><thead><tr><th>方法</th><th>作用</th></tr></thead><tbody><tr><td><code>re.match(pattern, string)</code></td><td>从字符串开头匹配</td></tr><tr><td><code>re.search(pattern, string)</code></td><td>扫描整个字符串，返回第一个匹配</td></tr><tr><td><code>re.findall(pattern, string)</code></td><td>返回所有匹配结果（列表）</td></tr><tr><td><code>re.finditer(pattern, string)</code></td><td>返回迭代器，逐个匹配</td></tr><tr><td><code>re.sub(pattern, repl, string)</code></td><td>替换匹配内容</td></tr><tr><td><code>re.split(pattern, string)</code></td><td>按匹配规则分割字符串</td></tr><tr><td><code>re.compile(pattern)</code></td><td>预编译正则，提高复用效率</td></tr></tbody></table><hr><h2 id="三、常见正则表达式语法" tabindex="-1"><a class="header-anchor" href="#三、常见正则表达式语法"><span>三、常见正则表达式语法</span></a></h2><ul><li><code>.</code> ：匹配任意字符（除换行符）</li><li><code>\\d</code> ：匹配数字，相当于 <code>[0-9]</code></li><li><code>\\w</code> ：匹配字母、数字、下划线</li><li><code>\\s</code> ：匹配空白字符（空格、制表符等）</li><li><code>^</code> ：匹配字符串开头</li><li><code>$</code> ：匹配字符串结尾</li><li><code>*</code> ：重复 0 次或多次</li><li><code>+</code> ：重复 1 次或多次</li><li><code>?</code> ：重复 0 次或 1 次</li><li><code>{m,n}</code> ：重复 m 到 n 次</li><li><code>[]</code> ：字符集，例如 <code>[abc]</code> 匹配 a/b/c</li><li><code>|</code> ：或逻辑，例如 <code>cat|dog</code> 匹配 cat 或 dog</li><li><code>()</code> ：分组，提取子串</li></ul><hr><h2 id="四、实战案例" tabindex="-1"><a class="header-anchor" href="#四、实战案例"><span>四、实战案例</span></a></h2><h3 id="_1-匹配邮箱" tabindex="-1"><a class="header-anchor" href="#_1-匹配邮箱"><span>1. 匹配邮箱</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> re</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">text </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;请联系我：test_user123@example.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pattern </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> r</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a-zA-Z0-9._%+-</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">]+</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">@</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a-zA-Z0-9.-</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">]+</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a-z</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">]{2,}</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">result </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> re.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">search</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(pattern, text)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> result:</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;找到邮箱：&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, result.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">())</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>找到邮箱： test_user123@example.com</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="_2-验证手机号-中国大陆" tabindex="-1"><a class="header-anchor" href="#_2-验证手机号-中国大陆"><span>2. 验证手机号（中国大陆）</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pattern </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> r</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">&quot;^1</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3-9</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">\\d</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">{9}</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">$&quot;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(re.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">match</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(pattern, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;13812345678&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)))  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># True</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(re.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">match</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(pattern, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;123456&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)))       </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># False</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3-提取日志中的-ip" tabindex="-1"><a class="header-anchor" href="#_3-提取日志中的-ip"><span>3. 提取日志中的 IP</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">log </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;2025-09-30 10:23:45 - INFO - Client IP: 192.168.1.101 connected&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pattern </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> r</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">&quot;\\b\\d</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">{1,3}</span><span style="--shiki-light:#0184BC;--shiki-dark:#D19A66;">(?:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\.</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">\\d</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">{1,3}</span><span style="--shiki-light:#0184BC;--shiki-dark:#D19A66;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">{3}</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">\\b&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ip </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> re.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">search</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(pattern, log)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;IP 地址：&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, ip.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">())</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_4-文本替换" tabindex="-1"><a class="header-anchor" href="#_4-文本替换"><span>4. 文本替换</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">text </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;今天的价格是100元，明天的价格是200元&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pattern </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> r</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">&quot;\\d</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">+</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">new_text </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> re.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">sub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(pattern, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;XXX&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, text)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(new_text)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>今天的价格是XXX元，明天的价格是XXX元</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="五、技巧与建议" tabindex="-1"><a class="header-anchor" href="#五、技巧与建议"><span>五、技巧与建议</span></a></h2><ol><li><strong>调试正则</strong>：推荐使用 <a href="https://regex101.com/" target="_blank" rel="noopener noreferrer">regex101.com</a> 在线测试。</li><li><strong>分组提取</strong>：用 <code>()</code> 提取子串，结合 <code>group()</code> 使用。</li><li><strong>预编译</strong>：在循环中使用 <code>re.compile()</code> 提高性能。</li><li><strong>避免过度复杂</strong>：正则强大，但可读性差，能用简单方法时不要滥用。</li></ol><hr><h2 id="六、总结" tabindex="-1"><a class="header-anchor" href="#六、总结"><span>六、总结</span></a></h2><ul><li>正则表达式是文本处理的利器，掌握后能极大提升效率。</li><li>Python 的 <code>re</code> 模块提供了完整的正则支持。</li><li>常见应用包括：匹配、提取、验证、替换、分割。</li><li>建议结合实际项目练习，比如：日志分析、爬虫数据清洗、表单验证。</li></ul>`,39)]))}const r=s(t,[["render",h]]),k=JSON.parse('{"path":"/python/S15/Python%E8%87%AA%E5%AD%A622%20-%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8.html","title":"Python自学22 - 正则表达式的应用","lang":"en-US","frontmatter":{},"git":{"createdTime":1760001321000,"updatedTime":1760001321000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":1,"url":"https://github.com/star"}]},"readingTime":{"minutes":3.2,"words":961},"filePathRelative":"python/S15/Python自学22 - 正则表达式的应用.md"}');export{r as comp,k as data};
