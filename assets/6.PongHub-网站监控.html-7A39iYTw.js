import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as e}from"./app-BiQR_lPj.js";const l={};function t(h,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="零成本构建开源网站监控神器" tabindex="-1"><a class="header-anchor" href="#零成本构建开源网站监控神器"><span>零成本构建开源网站监控神器</span></a></h1><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>在日常运维中，服务“挂了”往往不是最可怕的，最可怕的是<strong>你比用户更晚知道</strong>。</p><p>传统监控方案要么部署复杂，要么侵入性强，动辄改代码、加探针。有没有一种方式，能<strong>零侵入、全自动、可视化</strong>地监控服务状态，还能一键部署？</p><p>星哥最近逛github的时候看到—— <strong>PongHub</strong>，使用GitHub Actions 自动化发布+域名（可选）实现几乎零成本的监控系统</p><hr><h2 id="什么是-ponghub" tabindex="-1"><a class="header-anchor" href="#什么是-ponghub"><span>什么是 PongHub？</span></a></h2><p>PongHub 是一个开源的服务状态监控网站，旨在帮助用户监控和验证服务的可用性。它支持</p><ul><li><strong>🕵️ 零侵入监控</strong> - 无需改动代码即可实现全功能监控</li><li><strong>🚀 一键部署</strong> - 通过 Actions 自动构建，一键部署至 Github Pages</li><li><strong>🌐 全平台支持</strong> - 兼容 OpenAI 等公共服务及私有化部署</li><li><strong>🔍 多端口探测</strong> - 单服务支持同时监控多个端口状态</li><li><strong>🤖 智能响应验证</strong> - 精准匹配状态码及正则表达式校验响应体</li><li><strong>🛠️ 自定义请求引擎</strong> - 自由配置请求头/体、超时和重试策略</li><li><strong>🔒 SSL 证书监控</strong> - 自动检测 SSL 证书过期并发送通知</li><li><strong>📊 实时状态展示</strong> - 直观的服务响应时间、响应状态记录</li><li><strong>⚠️ 异常告警通知</strong> - 利用 GitHub Actions 实现异常告警通知</li></ul><p>它的定位很清晰：<strong>轻量、自动化、开箱即用</strong>，非常适合开发者和运维工程师快速构建服务可用性监控面板。</p><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760064433795.png?tx" alt="img"></p><hr><h2 id="一键部署-从-0-到-1-的极速体验" tabindex="-1"><a class="header-anchor" href="#一键部署-从-0-到-1-的极速体验"><span>一键部署：从 0 到 1 的极速体验</span></a></h2><h3 id="背景问题" tabindex="-1"><a class="header-anchor" href="#背景问题"><span>背景问题</span></a></h3><p>很多监控工具需要独立服务器、数据库，甚至复杂的 Agent，部署成本高。</p><h3 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案"><span>解决方案</span></a></h3><p>PongHub 借助 <strong>GitHub Actions + GitHub Pages</strong>，实现了<strong>零服务器成本</strong>的部署方式。</p><h2 id="实操步骤" tabindex="-1"><a class="header-anchor" href="#实操步骤"><span>实操步骤</span></a></h2><h3 id="_1-fork-项目仓库" tabindex="-1"><a class="header-anchor" href="#_1-fork-项目仓库"><span>1.Fork 项目仓库</span></a></h3><p>登录github，如果没有账号需要注册一个。</p><p>进入 https://github.com/WCY-dt/ponghub 点击fork，这代码叉到走了</p><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760005891471.png?tx" alt="img"></p><h3 id="_2-修改-config-yaml" tabindex="-1"><a class="header-anchor" href="#_2-修改-config-yaml"><span>2.修改 config.yaml</span></a></h3><p>修改 <code>config.yaml</code> 配置文件，定义要监控的服务</p><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760006078927.png?tx" alt="img"></p><h3 id="_3-可选-修改-cname-文件" tabindex="-1"><a class="header-anchor" href="#_3-可选-修改-cname-文件"><span>3.（可选）修改 <code>CNAME</code> 文件</span></a></h3><p>如果你不需要自定义域名，请删除 CNAME 文件</p><p>我这里改成</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>health.xgss.net</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>还需要把域名解析到</p><h3 id="_4-提交代码-github-actions-自动构建并发布" tabindex="-1"><a class="header-anchor" href="#_4-提交代码-github-actions-自动构建并发布"><span>4.提交代码，GitHub Actions 自动构建并发布</span></a></h3><p>默认情况下，GitHub Actions 每 30 分钟运行一次。如果你需要更改运行频率，请修改 .github/workflows/deploy.yml 文件中的 cron 表达式。</p><p>请不要将频率设置过高，以免触发 GitHub 的限制。</p><h3 id="效果" tabindex="-1"><a class="header-anchor" href="#效果"><span>效果</span></a></h3><p>几分钟后，你就能在 GitHub Pages 上看到一个实时更新的服务监控面板。</p><h3 id="_4-开通page" tabindex="-1"><a class="header-anchor" href="#_4-开通page"><span>4.开通page</span></a></h3><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760006826925.png?tx" alt="img"></p><p>点击Save</p><p>域名解析：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>health.xgss.net CNAME解析到 &lt;你的github用户名&gt;.github.io</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760007143774.png?tx" alt="img"></p><p>等待几分钟域名解析生效</p><p>再点击</p><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760007221530.png?tx" alt="img"></p><p>打开页面，首页是readme.md的内容，并不是我需要的监控页面？？？</p><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760024245563.png?tx" alt="img"></p><p>打开Deploy Report</p><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760024446325.png?tx" alt="img"></p><p><img src="https://imgoss.xgss.net/picgo-tx2025/image-20251010095012128.png?tx" alt="image-20251010095012128"></p><p>再访问</p><p><img src="https://imgoss.xgss.net/picgo-tx2025/QQ_1760061069394.png?tx" alt="img"></p><h2 id="智能监控-多端口-ssl-证书-正则校验" tabindex="-1"><a class="header-anchor" href="#智能监控-多端口-ssl-证书-正则校验"><span>智能监控：多端口 + SSL 证书 + 正则校验</span></a></h2><h3 id="背景问题-1" tabindex="-1"><a class="header-anchor" href="#背景问题-1"><span>背景问题</span></a></h3><p>仅仅检测服务端口是否存活，远远不够。比如：</p><ul><li>API 返回 200，但实际响应异常</li><li>SSL 证书过期，用户访问失败</li></ul><h3 id="解决方案-1" tabindex="-1"><a class="header-anchor" href="#解决方案-1"><span>解决方案</span></a></h3><p>PongHub 提供了<strong>多端口探测</strong>、<strong>SSL 证书监控</strong>、<strong>正则表达式校验响应体</strong>等功能。</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">services</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Example Website&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    endpoints</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://example.com/health&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        response_regex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;status&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://example.com/status&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;POST&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;{&quot;key&quot;: &quot;value&quot;}&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="效果-1" tabindex="-1"><a class="header-anchor" href="#效果-1"><span>效果</span></a></h3><ul><li>页面直观展示响应时间、状态码</li><li>SSL 证书到期前 7 天自动提醒</li><li>异常时触发告警通知</li></ul><hr><h2 id="异常告警-多渠道通知-第一时间响应" tabindex="-1"><a class="header-anchor" href="#异常告警-多渠道通知-第一时间响应"><span>异常告警：多渠道通知，第一时间响应</span></a></h2><h3 id="背景问题-2" tabindex="-1"><a class="header-anchor" href="#背景问题-2"><span>背景问题</span></a></h3><p>监控数据如果没人看，等于没用。关键在于<strong>异常能否第一时间触达</strong>。</p><h3 id="解决方案-2" tabindex="-1"><a class="header-anchor" href="#解决方案-2"><span>解决方案</span></a></h3><p>PongHub 支持以下通知方式：</p><ul><li><strong>默认通知</strong> - 通过GitHub Actions工作流失败进行通知</li><li><strong>邮件通知</strong> - 通过SMTP发送邮件，支持高级安全选项</li><li><strong>Discord</strong> - 通过Webhook发送到Discord频道，支持丰富嵌入消息</li><li><strong>Slack</strong> - 通过Webhook发送到Slack频道，支持Block Kit格式</li><li><strong>Telegram</strong> - 通过Bot API发送消息，支持高级格式化</li><li><strong>企业微信</strong> - 通过企业微信群机器人发送消息，支持多种消息类型</li><li><strong>自定义Webhook</strong> - 发送到任意HTTP端点，支持高级配置</li></ul><p>使用时，在 <code>config.yaml</code> 文件中添加 <code>notifications</code> 配置块：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>notifications:</span></span>
<span class="line"><span>  enabled: true  # 启用通知功能</span></span>
<span class="line"><span>  methods:       # 要启用的通知方式</span></span>
<span class="line"><span>    - email</span></span>
<span class="line"><span>    - discord</span></span>
<span class="line"><span>    - slack</span></span>
<span class="line"><span>    - telegram</span></span>
<span class="line"><span>    - wechat</span></span>
<span class="line"><span>    - webhook</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>  # 各种通知方式的具体配置...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">notifications</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  enabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  methods</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">email</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">slack</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  email</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    smtp_host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;smtp.gmail.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    smtp_port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">587</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;alerts@yourdomain.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ops@yourdomain.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    subject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;🚨 PongHub 服务告警&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    use_starttls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  slack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    channel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;#alerts&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;PongHub Bot&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    icon_emoji</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;:warning:&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="效果-2" tabindex="-1"><a class="header-anchor" href="#效果-2"><span>效果</span></a></h3><ul><li>服务异常时，Slack 频道即时推送告警</li><li>邮件通知支持 HTML 格式，清晰直观</li></ul><hr><h2 id="本地开发与测试-轻松二次定制" tabindex="-1"><a class="header-anchor" href="#本地开发与测试-轻松二次定制"><span>本地开发与测试：轻松二次定制</span></a></h2><h3 id="背景问题-3" tabindex="-1"><a class="header-anchor" href="#背景问题-3"><span>背景问题</span></a></h3><p>有些团队希望在本地调试或二次开发。</p><h3 id="解决方案-3" tabindex="-1"><a class="header-anchor" href="#解决方案-3"><span>解决方案</span></a></h3><p>PongHub 提供了 Makefile 脚本，支持本地运行与测试。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 本地运行</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 执行测试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="效果-3" tabindex="-1"><a class="header-anchor" href="#效果-3"><span>效果</span></a></h3><ul><li>快速验证配置文件是否正确</li><li>可扩展功能，满足团队个性化需求</li></ul><hr><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>写文不易，如果你都看到了这里，请点个赞和在看，分享给更多的朋友；也别忘了关注星哥玩云！这里有满满的干货分享，还有轻松有趣的技术交流～点个赞、分享给身边的小伙伴，一起成长，一起玩转技术世界吧！ 😊</p><p>我们用 PongHub 实现了：</p><ul><li><strong>零侵入监控</strong>：无需改代码，直接配置即可</li><li><strong>一键部署</strong>：GitHub Actions 自动化发布</li><li><strong>智能校验</strong>：多端口、SSL、正则匹配</li><li><strong>多渠道告警</strong>：第一时间触达运维团队</li></ul><p>PongHub 适合个人开发者、初创团队，甚至中小企业快速搭建服务可用性监控体系。</p>`,87)]))}const d=i(l,[["render",t]]),g=JSON.parse('{"path":"/kaiyuan2025/6.PongHub-%E7%BD%91%E7%AB%99%E7%9B%91%E6%8E%A7.html","title":"零成本构建开源网站监控神器","lang":"en-US","frontmatter":{},"git":{"createdTime":1761192011000,"updatedTime":1761192011000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":1,"url":"https://github.com/star"}]},"readingTime":{"minutes":5,"words":1501},"filePathRelative":"kaiyuan2025/6.PongHub-网站监控.md"}');export{d as comp,g as data};
