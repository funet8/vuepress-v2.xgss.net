import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as i}from"./app-BiQR_lPj.js";const l={};function p(t,s){return i(),a("div",null,s[0]||(s[0]=[n(`<h1 id="centos7安装web服务脚本lnmp和vsftpd" tabindex="-1"><a class="header-anchor" href="#centos7安装web服务脚本lnmp和vsftpd"><span>Centos7安装WEB服务脚本LNMP和vsftpd</span></a></h1><p>本文主要介绍笔者经常用到的shell脚本，在centos7系统下安装LNMP和FTP，还有redis和docker，主要针对服务器的。 L=Linux(这里系统Centos7)，N=Nginx（Yum安装 nginx），M=Mysql(这里安装MariaDB-10.2.9)，P=PHP7和PHP8</p><p><img src="https://imgoss.xgss.net/picgo/shell.webp.jpg?aliyun" alt="shell.webp"></p><h2 id="安装nginx" tabindex="-1"><a class="header-anchor" href="#安装nginx"><span>安装nginx</span></a></h2><p>脚本说明： 1.yum 安装nginx</p><p>2.将nginx主配置改为 /etc/nginx/nginx.conf</p><p>3.nginx的子站点配置防止目录：/data/conf/sites-available/</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/centos7_intall_php7.3/CentOS7.x_Nginx.sh</span></span>
<span class="line"><span># sh CentOS7.x_Nginx.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装openresty-与nginx二选一" tabindex="-1"><a class="header-anchor" href="#安装openresty-与nginx二选一"><span>安装openresty（与Nginx二选一）</span></a></h2><p>脚本说明： 1.源码包安装openresty-1.19.9.1</p><p>2.将nginx主配置改为 /etc/nginx/nginx.conf</p><p>3.nginx的子站点配置防止目录：/data/conf/sites-available/</p><p>4.配置WAF</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># wget https://gitee.com/funet8/waf/raw/master/CentOS7_install_openresty.sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span># sh CentOS7_install_openresty.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装php7-3-7" tabindex="-1"><a class="header-anchor" href="#安装php7-3-7"><span>安装php7.3.7</span></a></h2><p>脚本说明：</p><p>1.下载PHP7.3.3源码包安装</p><p>2.安装openssl、memcache、phpredis扩展</p><p>3.修改配端口7300，时区、PHP进程数等。</p><p>4.安装目录 /usr/local/php7.3 ，用户 www。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>端口:7300</span></span>
<span class="line"><span>wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/centos7_intall_php7.3/CentOS7_Install_PHP7.3_PHPFPM.sh</span></span>
<span class="line"><span>上传安装包</span></span>
<span class="line"><span>sh CentOS7_Install_PHP7.3_PHPFPM.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装php8-0-8" tabindex="-1"><a class="header-anchor" href="#安装php8-0-8"><span>安装php8.0.8</span></a></h2><p>脚本说明：</p><p>1.下载php-8.0.8源码包安装</p><p>2.安装 phpredis、zip扩展</p><p>3.修改配置，端口</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>wget  https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/centos7_install_php8/centos7_install_php8.sh</span></span>
<span class="line"><span>端口:8100</span></span>
<span class="line"><span>sh centos7_install_php8.sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span>将PHP改为PHP8</span></span>
<span class="line"><span>rm /usr/bin/php</span></span>
<span class="line"><span>cp -a /data/php-8.0.8/bin/php8.0  /usr/bin/php</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装vsftpd" tabindex="-1"><a class="header-anchor" href="#安装vsftpd"><span>安装Vsftpd</span></a></h2><p>功能介绍：</p><p>1.创建常用目录</p><p>2.yum安装vsftpd，开放iptables的端口</p><p>3.修改配置，默认用户 yxkj_web，密码 Password123，22端口改为62920。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/shell/3-CentOS7.x_Vsftp.sh</span></span>
<span class="line"><span>修改参数</span></span>
<span class="line"><span># sh 3-CentOS7.x_Vsftp.sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>增加用户</span></span>
<span class="line"><span># wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/shell/3-CentOS6_7_Vsftp_Add_User.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装mariadb数据库" tabindex="-1"><a class="header-anchor" href="#安装mariadb数据库"><span>安装MariaDB数据库</span></a></h2><p>脚本说明：</p><p>1.下载MariaDB-10.2.9 RPM安装包。</p><p>2.移除所有原有的mysql软件包和配置文件</p><p>3.创建用户和用户组 mysql，端口 3306</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>安装数据库</span></span>
<span class="line"><span># wget https://gitee.com/funet8/MYSQL/raw/master/RPM_Install_MariaDB/RPM_Install_MariaDB-Centos7-more-port.sh</span></span>
<span class="line"><span># sh RPM_Install_MariaDB-Centos7-more-port.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装mariadb多端口" tabindex="-1"><a class="header-anchor" href="#安装mariadb多端口"><span>安装MariaDB多端口</span></a></h2><p>多端口脚本说明： 端口： 61920 61921 61922 61923 61924 数据库文件目录： /data/mysql/$port 数据库配置目录： /data/mysql/etc/ 数据库慢查询目录： /data/mysql/slowQuery/ 数据库配置： /data/mysql/etc/$port.cnf</p><p>默认用户： star_user 密码： Passwd123</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># wget https://gitee.com/funet8/MYSQL/raw/master/more-mysql-instance/more-mysql-instance.sh</span></span>
<span class="line"><span></span></span>
<span class="line"><span># sh more-mysql-instance.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装redis" tabindex="-1"><a class="header-anchor" href="#安装redis"><span>安装redis</span></a></h2><p>1.下载 redis源码包</p><p>2.修改端口63920，数据持久化目录： /data/redis/\${redis_port}</p><p>3.默认密码：q7N3swPfFfsdfs4fyPBqN4Zd1</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/shell/CentOS7.x_Redis_install.sh</span></span>
<span class="line"><span>修改redis密码</span></span>
<span class="line"><span>sh CentOS7.x_Redis_install.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装docker" tabindex="-1"><a class="header-anchor" href="#安装docker"><span>安装Docker</span></a></h2><p>脚本说明</p><p>1.yum安装 docker</p><p>2.修改docker镜像默认存储位置 /data/docker/images</p><p>3.中国官方镜像加速</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>wget https://gitee.com/funet8/centos6_LANP_dockerfile/raw/master/shell/CentOS6_7_intall_docker.sh</span></span>
<span class="line"><span>sh CentOS6_7_intall_docker.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,54)]))}const h=e(l,[["render",p]]),c=JSON.parse('{"path":"/article/zdugmnd8/","title":"Centos7安装WEB服务脚本LNMP和vsftpd","lang":"en-US","frontmatter":{"title":"Centos7安装WEB服务脚本LNMP和vsftpd","createTime":"2025/05/27 17:51:17","permalink":"/article/zdugmnd8/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":1.92,"words":576},"filePathRelative":"shell/Centos7安装WEB服务脚本LNMP和vsftpd.md"}');export{h as comp,c as data};
