import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a as e,o as n}from"./app-BiQR_lPj.js";const p={};function r(l,s){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="群晖nas配置之搭建wordpress个人博客站点" tabindex="-1"><a class="header-anchor" href="#群晖nas配置之搭建wordpress个人博客站点"><span>群晖NAS配置之搭建WordPress个人博客站点</span></a></h1><p>之前写了一些ngrok和frp给群晖nas做内网穿透，今天分享一下在群晖nas下安装wordpress的教程。</p><p>WordPress是一个开源的内容管理系统（CMS），最初是用来搭建博客的，但后来发展成为创建各种类型网站的强大工具。它使用PHP语言和MySQL数据库构建，让用户可以轻松地创建和管理网站内容。白宫的官网也是用WordPress部署的</p><p><img src="https://imgoss.xgss.net/picgo/wordpress-logs.jpg?aliyun" alt="wordpress-logs"></p><h2 id="安装群晖-nas-上的-web-站点套件" tabindex="-1"><a class="header-anchor" href="#安装群晖-nas-上的-web-站点套件"><span>安装群晖 NAS 上的 Web 站点套件</span></a></h2><ol><li><p>登录群晖 DSM（DiskStation Manager）管理界面。</p></li><li><p>打开“套件中心”，选择搜索 -&gt; “Web station” 安装。</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129094038178.png?aliyun" alt="image-20231129094038178"></p></li><li><p>启用 Web station 站点服务。</p></li></ol><h2 id="安装-mariadb-mysql-数据库" tabindex="-1"><a class="header-anchor" href="#安装-mariadb-mysql-数据库"><span>安装 MariaDB（MySQL）数据库</span></a></h2><ol><li><p>在“控制面板”中，选择“套件中心”。</p></li><li><p>在“套件中心”中搜索并安装 MariaDB 套件。</p></li><li><p>完成安装后，打开 MariaDB，并创建一个新的数据库，记下数据库名称、用户名和密码，用于 WordPress 的数据库。</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129094237126.png?aliyun" alt="image-20231129094237126"></p><p><img src="https://imgoss.xgss.net/picgo/image-20231129094258023.png?aliyun" alt="image-20231129094258023"></p></li></ol><h2 id="数据库配置" tabindex="-1"><a class="header-anchor" href="#数据库配置"><span>数据库配置</span></a></h2><p>MariaDB默认只运行nas本机访问，现在需要把开启，这个是非必须的，如果设置一定要设置一个强密码。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span></span></span>
<span class="line"><span>mysql&gt; use mysql;</span></span>
<span class="line"><span>mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;star&#39;@&#39;%&#39; IDENTIFIED BY &#39;Pwd654321&#39; WITH GRANT OPTION;</span></span>
<span class="line"><span>mysql&gt; FLUSH PRIVILEGES ;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20231129100003317.png?aliyun" alt="image-20231129100003317"></p><p>使用navicat工具连接</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129100119721.png?aliyun" alt="image-20231129100119721"></p><h2 id="创建数据库" tabindex="-1"><a class="header-anchor" href="#创建数据库"><span>创建数据库</span></a></h2><p>mysql新建wordpress数据库,</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>&gt; CREATE DATABASE wordpress_db;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>并且新建一个wordpress数据库用户，只允许 192.168.1.4 和127.0.0.1和localhost 访问</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>CREATE USER &#39;wordpress_user&#39;@&#39;192.168.1.4&#39; IDENTIFIED BY &#39;your_password&#39;;</span></span>
<span class="line"><span>CREATE USER &#39;wordpress_user&#39;@&#39;127.0.0.1&#39; IDENTIFIED BY &#39;your_password&#39;;</span></span>
<span class="line"><span>CREATE USER &#39;wordpress_user&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;your_password&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>GRANT ALL PRIVILEGES ON wordpress_db.* TO &#39;wordpress_user&#39;@&#39;192.168.1.4&#39;;</span></span>
<span class="line"><span>GRANT ALL PRIVILEGES ON wordpress_db.* TO &#39;wordpress_user&#39;@&#39;127.0.0.1&#39;;</span></span>
<span class="line"><span>GRANT ALL PRIVILEGES ON wordpress_db.* TO &#39;wordpress_user&#39;@&#39;localhost&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>FLUSH PRIVILEGES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装-wordpress" tabindex="-1"><a class="header-anchor" href="#安装-wordpress"><span>安装 WordPress</span></a></h2><ol><li><p>在“套件中心”中搜索并安装 WordPress 套件。</p></li><li><p>完成安装后，进入 WordPress 控制面板。</p></li><li><p>在设置过程中，输入之前在 MariaDB 中创建的数据库名称、用户名和密码，连接 WordPress 到数据库。</p><p>这里要输入root的用户名和密码</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129101647314.png?aliyun" alt="image-20231129101647314"></p><p>输入数据库名和用户和密码</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129101521539.png?aliyun" alt="image-20231129101521539"></p><p>完成</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129101552393.png?aliyun" alt="image-20231129101552393"></p></li></ol><h2 id="配置-wordpress" tabindex="-1"><a class="header-anchor" href="#配置-wordpress"><span>配置 WordPress</span></a></h2><ol><li>登录 WordPress 控制面板（通常是通过浏览器输入你的 NAS IP 地址和 WordPress 目录的路径）。</li><li>在 WordPress 后台，你可以更改主题、添加插件、创建和管理博客文章等。</li></ol><h2 id="配置-web-站点" tabindex="-1"><a class="header-anchor" href="#配置-web-站点"><span>配置 Web 站点</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20231129101757870.png?aliyun" alt="image-20231129101757870"></p><p><img src="https://imgoss.xgss.net/picgo2025/image-20231129102714134.png?aliyun" alt="image-20231129102714134"></p><h2 id="访问你的-wordpress-站点" tabindex="-1"><a class="header-anchor" href="#访问你的-wordpress-站点"><span>访问你的 WordPress 站点</span></a></h2><p>使用浏览器输入你设置的域名或者群晖 NAS 的 IP 地址，应该就能访问到你搭建的 WordPress 个人博客站点了。</p><h1 id="利用内网穿透域名访问wordpress" tabindex="-1"><a class="header-anchor" href="#利用内网穿透域名访问wordpress"><span>利用内网穿透域名访问wordpress</span></a></h1><p>这样只能用ip访问wordpress，需要用内网穿透的域名访问wordpress</p><p>域名： wordpress.frp.xgss.net</p><h2 id="frpc配置增加域名" tabindex="-1"><a class="header-anchor" href="#frpc配置增加域名"><span>frpc配置增加域名</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>vi frpc.toml </span></span>
<span class="line"><span>添加</span></span>
<span class="line"><span>[[proxies]]</span></span>
<span class="line"><span>name = &quot;web3&quot;</span></span>
<span class="line"><span>type = &quot;http&quot;</span></span>
<span class="line"><span>localPort = 82</span></span>
<span class="line"><span>customDomains = [&quot;wordpress.frp.xgss.net&quot;]</span></span>
<span class="line"><span>重启frp服务</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="web-station中添加域名" tabindex="-1"><a class="header-anchor" href="#web-station中添加域名"><span>web station中添加域名</span></a></h2><p>在web station 点击新增---&gt;选择基于端口</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129174103231.png?aliyun" alt="image-20231129174103231"></p><h2 id="配置backend" tabindex="-1"><a class="header-anchor" href="#配置backend"><span>配置backend</span></a></h2><p><img src="https://imgoss.xgss.net/picgo/image-20231129174214221.png?aliyun" alt="image-20231129174214221"></p><p>在 web/wordpress 目录中新建一个文件</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>vi info.php</span></span>
<span class="line"><span>填写以下文字：</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;?php</span></span>
<span class="line"><span>echo &#39;hello world&#39;;</span></span>
<span class="line"><span>echo phpinfo();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试访问 <code>http://wordpress.frp.xgss.net/info.php</code></p><p><img src="https://imgoss.xgss.net/picgo/image-20231129174412252.png?aliyun" alt="image-20231129174412252"></p><h2 id="官网下载-wordpress" tabindex="-1"><a class="header-anchor" href="#官网下载-wordpress"><span>官网下载 wordpress</span></a></h2><p>下载 wordpress-6.4.1-zh_CN.zip 解压如图</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129175807797.png?aliyun" alt="image-20231129175807797"></p><h3 id="访问域名" tabindex="-1"><a class="header-anchor" href="#访问域名"><span>访问域名</span></a></h3><p>报错，您的PHP似乎没有安装运行WordPress所必需的MySQL扩展。请检查 PHP 扩展 mysqli 已安装并启用。</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129175908764.png?aliyun" alt="image-20231129175908764"></p><h3 id="群晖启用mysqli扩展" tabindex="-1"><a class="header-anchor" href="#群晖启用mysqli扩展"><span>群晖启用mysqli扩展</span></a></h3><p>如图 web station ---&gt;脚本语言设置---&gt; PHP 选择你要用到的版本，选择扩展勾选 mysqli ，保存</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129183803368.png?aliyun" alt="image-20231129183803368"></p><h2 id="访问安装" tabindex="-1"><a class="header-anchor" href="#访问安装"><span>访问安装</span></a></h2><p>再次访问安装wordpress</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129184024526.png?aliyun" alt="image-20231129184024526"></p><p>填写数据库信息</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129184118476.png?aliyun" alt="image-20231129184118476"></p><p>填写信息</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129184435116.png?aliyun" alt="image-20231129184435116"></p><p>至此wordpress安装成功</p><p><img src="https://imgoss.xgss.net/picgo/image-20231129184556118.png?aliyun" alt="image-20231129184556118"></p><h2 id="目录权限" tabindex="-1"><a class="header-anchor" href="#目录权限"><span>目录权限</span></a></h2><p>WordPress安装插件等操作需要对网站目录拥有写入权限，而群晖设定的http用户只包含读取权限而不包含写入权限，这会导致一些操作失败或异常，所以接下来我们要调整文件夹的权限。</p><p>首先我们打开File Station并找到WordPress目录，然后点击“属性”。</p><p><img src="https://imgoss.xgss.net/picgo2025/image-20231207133430116.png?aliyun" alt="image-20231207133430116"></p><p>来到这个界面，我们切换到“权限”</p><p><img src="https://imgoss.xgss.net/picgo/image-20231207133555332.png?aliyun" alt="image-20231207133555332"></p><p>我们选中“http”（图像为单人）并按“编辑”</p><p><img src="https://imgoss.xgss.net/picgo2025/image-20231207133657747.png?aliyun" alt="image-20231207133657747"></p><p>然后我们把“写入”部分全部打勾，完成后点击“完成”</p><p><img src="https://imgoss.xgss.net/picgo2025/image-20231207133712027.png?aliyun" alt="image-20231207133712027"></p><p>回到这个界面，我们将“应用到这个文件夹、子文件夹及文件”打上勾，然后点击“保存”</p><p><img src="https://imgoss.xgss.net/picgo/image-20231207133724269.png?aliyun" alt="image-20231207133724269"></p><p>设置权限部分完成啦！</p><h2 id="解决需要ftp账户密码的问题" tabindex="-1"><a class="header-anchor" href="#解决需要ftp账户密码的问题"><span>解决需要FTP账户密码的问题</span></a></h2><p>但是，当我们安装插件时，我们就会碰上WordPress要求FTP账号密码这个问题</p><p><img src="https://imgoss.xgss.net/picgo/image-20231207133820660.png?aliyun" alt="image-20231207133820660"></p><p>要解决这个问题，我们首先要打开File Station，并找到WordPress的目录。然后打开wp-config.php</p><p>在这个php文件的第86行加入如下代码</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>define(&#39;FS_METHOD&#39;, &#39;direct&#39;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h1><p>这种方法不仅可以安装wordpress的项目，同样也可以安装任何PHP+mysql的项目。</p>`,81)]))}const g=a(p,[["render",r]]),o=JSON.parse('{"path":"/article/6q1ihyi4/","title":"群晖NAS配置之搭建WordPress个人博客站点","lang":"en-US","frontmatter":{"title":"群晖NAS配置之搭建WordPress个人博客站点","createTime":"2025/05/27 17:51:17","permalink":"/article/6q1ihyi4/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":4.49,"words":1348},"filePathRelative":"NAS/群晖NAS配置之搭建WordPress个人博客站点.md"}');export{g as comp,o as data};
