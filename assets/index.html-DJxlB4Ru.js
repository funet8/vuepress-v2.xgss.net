import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as i}from"./app-BiQR_lPj.js";const p={};function l(d,s){return i(),a("div",null,s[0]||(s[0]=[e(`<h1 id="owncloud搭建自己的私有云盘" tabindex="-1"><a class="header-anchor" href="#owncloud搭建自己的私有云盘"><span>OwnCloud搭建自己的私有云盘</span></a></h1><h1 id="owncloud-是什么" tabindex="-1"><a class="header-anchor" href="#owncloud-是什么"><span>OwnCloud 是什么</span></a></h1><p>ownCloud 跨平台支持 Windows、Mac、Android、iOS、Linux 等平台，而且还提供了网页版和 WebDAV 形式访问，因此你可以在任何电脑、手机上都能轻松获取你的文件了，是一个开源免费专业的私有云存储项目，它能帮你快速在个人电脑或服务器上架设一套专属的私有云文件同步网盘，可以像 Dropbox 那样实现文件跨平台同步、共享、版本控制、团队协作等等。 ownCloud 能让你将所有的文件掌握在自己的手中，只要你的设备性能和空间充足，那么用起来几乎没有任何限制。 官网：https://owncloud.com/</p><p>ownCloud 不仅适用于个人使用，对经常需要传输共享文件、远程协作等需求的团队或公司更是合适！功能上也很强大：能支持文件分享、获取文件链接、文件版本历史控制 (文件删除恢复)、文件评论协作、文件共享(可设置读写权限)、图片音乐和文档等文件预览、开放 API、支持第三方应用整合等等。除了云存储之外，ownCloud 还可以用于同步日历、电子邮件联系人、网页浏览器的书签等功能。</p><p><img src="http://imgoss.xgss.net/picgo/pexels-sarah-chai-7267390.jpg?aliyunoss" alt="pexels-sarah-chai-7267390"></p><p>ownCloud 项目使用了 PHP+MySQL 的经典组合，无论在自己的电脑上或是 VPS 服务器上，基本上只要能跑 WordPress 网站的机器都能运行了，安装服务器端就像用 PHP 程序建站一样简单。官方建议在 Linux (如 Ubuntu 或 CentOS) 系统下搭建，对于 Windows 作为主机的用户，可以通过 WAMP、XAMPP 等工具搭建简单的运行环境。另外，ownCloud 还提供了搭建好环境的虚拟机文件，你可以直接在 VMWare、VirtualBox、Hyper-V 中运行 ownCloud 服务器端。</p><h2 id="本文需要" tabindex="-1"><a class="header-anchor" href="#本文需要"><span>本文需要</span></a></h2><p>1.域名（非必须）</p><p>2.服务器笔者使用腾讯云（1核+2G+100G+5M）土豪可以购买更大的配置。内网使用VMware虚拟机搭建也是可以的。</p><p>3.系统：Centos7</p><h2 id="使用到的技术" tabindex="-1"><a class="header-anchor" href="#使用到的技术"><span>使用到的技术</span></a></h2><p>Linux（基于Centos7） Docker（或者LNMP，本文将数据库），Nginx+SSL等</p><h1 id="基于docker安装owncloud" tabindex="-1"><a class="header-anchor" href="#基于docker安装owncloud"><span>基于docker安装ownCloud</span></a></h1><p>1.安装docker（省略）</p><p>拉取镜像、运行</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker pull owncloud</span></span>
<span class="line"><span># docker images</span></span>
<span class="line"><span>REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE</span></span>
<span class="line"><span>docker.io/owncloud   latest              327bd201c5fb        2 years ago         618 MB</span></span>
<span class="line"><span># docker run -itd --name owncloud --restart always -p 83:80 -v /data/wwwroot/web/o.xgss.net:/var/www/html/data -d owncloud</span></span>
<span class="line"><span>使用IP+端口的方式访问，不点安装</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ownCloud文件则是原封不动地将文件保存在服务器硬盘，目录结构也跟网页版 (客户端) 上看到的一样，只要别人有权限访问你的主机，那么就能绕过 ownCloud 直接查看或拷走所有用户的文件了。不过，ownCloud 这种方式也有它的优点，就是当有一天你不再想用 ownCloud，或者它因各种原因挂掉了，你的文件的备份和导出都非常方便！</p><p>ownCloud 主机服务器端还支持将文件上传到公有云服务，如 Amazon S3、Dropbox、FTP、Google Drive、OpenStack Object Storage、SMB、WebDAV、SFTP 等远程服务器，所以更加灵活。</p><h2 id="_2-域名解析" tabindex="-1"><a class="header-anchor" href="#_2-域名解析"><span>2.域名解析</span></a></h2><p>将 o.xgss.net 域名解析到服务器中 123.123.123.xxx</p><h2 id="_3-申请免费ssl证书" tabindex="-1"><a class="header-anchor" href="#_3-申请免费ssl证书"><span>3.申请免费SSL证书</span></a></h2><p>如果不使用https则此步骤可省略</p><p>我这边申请免费的阿里云的一年免费证书。</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830170404621.png?aliyunoss" alt="image-20210830170404621"></p><p><img src="http://imgoss.xgss.net/picgo/image-20210830170417072.png?aliyunoss" alt="image-20210830170417072"></p><p>填写域名和基本信息</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830170447488.png?aliyunoss" alt="image-20210830170447488"></p><p>选择最简单的DNS验证</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830170505648.png?aliyunoss" alt="image-20210830170505648"></p><p>下载nxing证书</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830170938178.png?aliyunoss" alt="image-20210830170938178"></p><h2 id="_4-配置nginx" tabindex="-1"><a class="header-anchor" href="#_4-配置nginx"><span>4.配置nginx</span></a></h2><p>安装NGINX（省略）</p><p>http的配置</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>########################o.xgss.net############################################</span></span>
<span class="line"><span>upstream ownCloud_server{</span></span>
<span class="line"><span>    server  127.0.0.1:83;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>    listen   80;</span></span>
<span class="line"><span>    server_name o.xgss.net;    </span></span>
<span class="line"><span>    access_log /data/wwwroot/log/o.xgss.net.log main_zdy;</span></span>
<span class="line"><span>    error_log off;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    proxy_set_header X-Forwarded-For $remote_addr;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>        add_header Cache-Control  &quot;no-cache&quot;;</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>        proxy_pass http://ownCloud_server;</span></span>
<span class="line"><span>        limit_rate 256m;        # 用户下载限速</span></span>
<span class="line"><span>        client_max_body_size 0; # 允许上传的文件大小无限制</span></span>
<span class="line"><span>        #client_max_body_size 5G;   # 允许上传的文件5G</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>https的配置</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>upstream ownCloud_server{</span></span>
<span class="line"><span>    server  127.0.0.1:83;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span># http 跳转 https</span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>  listen       80;</span></span>
<span class="line"><span>  access_log off;</span></span>
<span class="line"><span>  error_log off;</span></span>
<span class="line"><span>  server_name  o.xgss.net;</span></span>
<span class="line"><span>  return 301   https://$host$request_uri;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>server {</span></span>
<span class="line"><span>	listen 443 ssl;</span></span>
<span class="line"><span>    server_name o.xgss.net;    </span></span>
<span class="line"><span>    access_log /data/wwwroot/log/o.xgss.net_ssl.log main_aliyun;</span></span>
<span class="line"><span>    error_log off;</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>  ssl_certificate /data/wwwroot/web/cert/o.xgss.net.pem;</span></span>
<span class="line"><span>  ssl_certificate_key /data/wwwroot/web/cert/o.xgss.net.key;</span></span>
<span class="line"><span>  ssl_session_timeout 5m;</span></span>
<span class="line"><span>  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span></span>
<span class="line"><span>  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span></span>
<span class="line"><span>  ssl_prefer_server_ciphers on;</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>   proxy_set_header X-Forwarded-For $remote_addr;</span></span>
<span class="line"><span>    location / {</span></span>
<span class="line"><span>        proxy_set_header Host $host;</span></span>
<span class="line"><span>        proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>        add_header Cache-Control  &quot;no-cache&quot;;</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>        proxy_pass http://ownCloud_server;</span></span>
<span class="line"><span>        limit_rate 256m;        # 用户下载限速</span></span>
<span class="line"><span>        client_max_body_size 0; # 允许上传的文件大小无限制</span></span>
<span class="line"><span>        #client_max_body_size 5G;   # 允许上传的文件5G</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>浏览器访问安装</p><p>默认使用SQLlite即可，如果有mysql的则可填写mysql的配置</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830172852816.png?aliyunoss" alt="image-20210830172852816"></p><p>下载客户端</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830172955047.png?aliyunoss" alt="image-20210830172955047"></p><h1 id="客户端配置" tabindex="-1"><a class="header-anchor" href="#客户端配置"><span>客户端配置</span></a></h1><p>ownCloud私有云盘搭建安装完成，支持跨平台支持 Windows、Mac、Android、iOS、Linux 等。以下介绍几个最常见的客户端的安装方法。</p><h2 id="windows客户端" tabindex="-1"><a class="header-anchor" href="#windows客户端"><span>Windows客户端</span></a></h2><p>官网下载： https://owncloud.com/desktop-app/</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830184526448.png?aliyunoss" alt="image-20210830184526448"></p><h2 id="ios客户端" tabindex="-1"><a class="header-anchor" href="#ios客户端"><span>IOS客户端</span></a></h2><p>App Store上搜索 owncloud即可安装</p><p><img src="http://imgoss.xgss.net/picgo/微信图片_20210830182958.jpg?aliyunoss" alt="微信图片_20210830182958"></p><h2 id="android客户端" tabindex="-1"><a class="header-anchor" href="#android客户端"><span>Android客户端</span></a></h2><p>官网下载https://owncloud.com/mobile-apps/</p><p>华为应用商店搜索 owncloud即可安装</p><p><img src="http://imgoss.xgss.net/picgo/微信图片_20210830182846.jpg?aliyunoss" alt="微信图片_20210830182846"></p><h2 id="mac客户端" tabindex="-1"><a class="header-anchor" href="#mac客户端"><span>MAC客户端</span></a></h2><p>官网下载： https://owncloud.com/desktop-app/</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830184526448.png?aliyunoss" alt="image-20210830184526448"></p><h2 id="webdav连接-windows客户端" tabindex="-1"><a class="header-anchor" href="#webdav连接-windows客户端"><span>WebDAV连接（windows客户端）</span></a></h2><p>下载软件 RAiDrive</p><p><img src="http://imgoss.xgss.net/picgo/image-20210830180433654.png?aliyunoss" alt="image-20210830180433654"></p>`,60)]))}const c=n(p,[["render",l]]),t=JSON.parse('{"path":"/article/0q9gfw32/","title":"OwnCloud","lang":"en-US","frontmatter":{"title":"OwnCloud","createTime":"2025/05/27 17:51:17","permalink":"/article/0q9gfw32/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":4.5,"words":1351},"filePathRelative":"kaiyuan/Open-Source-Software/OwnCloud.md"}');export{c as comp,t as data};
