import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as e,o as i}from"./app-BiQR_lPj.js";const l={};function p(r,s){return i(),n("div",null,s[0]||(s[0]=[e(`<h1 id="linux基于docker安装开源项目管理禅道" tabindex="-1"><a class="header-anchor" href="#linux基于docker安装开源项目管理禅道"><span>Linux基于Docker安装开源项目管理禅道</span></a></h1><h2 id="什么是禅道" tabindex="-1"><a class="header-anchor" href="#什么是禅道"><span>什么是禅道</span></a></h2><p>禅道由 青岛易软天创网络科技有限公司开发，国产开源项目管理软件。它集<strong>产品管理、项目管理、质量管理、文档管理、组织管理和事务管理于一体</strong>，是一款专业的研发项目管理软件，完整覆盖了研发项目管理的核心流程。禅道管理思想注重实效，功能完备丰富，操作简洁高效，界面美观大方，搜索功能强大，统计报表丰富多样，软件架构合理，扩展灵活，有完善的API可以调用。禅道，专注研发项目管理！</p><p>维护部门的项目管理、人员工作合理分配、工作协同等。</p><p>有开源版，在本地机房部署或者部署专属云，避免TAPD、teambition等可能的数据泄露问题。</p><p>官网：https://www.zentao.net/</p><p><img src="https://imgoss.xgss.net/picgo/image-20220608182751405.png?aliyun" alt="image-20220608182751405"></p><h2 id="环境介绍" tabindex="-1"><a class="header-anchor" href="#环境介绍"><span>环境介绍</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>系统： Centos7</span></span>
<span class="line"><span>IP： 192.168.1.4</span></span>
<span class="line"><span>安装软件： docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装docker" tabindex="-1"><a class="header-anchor" href="#安装docker"><span>安装docker</span></a></h2><p>省略</p><p>运行环境需成功部署Docker服务，推荐使用Docker 18版本以上，对主机环境没有要求。</p><p>可通过命令查看Docker版本。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker -v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>禅道镜像已放于Docker Hub上，地址为：https://hub.docker.com/r/easysoft/zentao/tags</p><p>可根据所需版本拉取对应版本的镜像，默认latest为禅道开源最新版本。</p><h2 id="拉取禅道镜像" tabindex="-1"><a class="header-anchor" href="#拉取禅道镜像"><span>拉取禅道镜像：</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker pull easysoft/zentao:latest</span></span>
<span class="line"><span>或者</span></span>
<span class="line"><span># docker pull easysoft/zentao:12.3.3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker下安装禅道" tabindex="-1"><a class="header-anchor" href="#docker下安装禅道"><span>Docker下安装禅道</span></a></h2><p>只要三步</p><h3 id="一、创建网络" tabindex="-1"><a class="header-anchor" href="#一、创建网络"><span>一、创建网络</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker network create --subnet=172.172.172.0/24 zentaonet</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="二、创建目录" tabindex="-1"><a class="header-anchor" href="#二、创建目录"><span>二、创建目录</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>mkdir /data/docker/zentao2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="三、启动禅道镜像" tabindex="-1"><a class="header-anchor" href="#三、启动禅道镜像"><span>三、启动禅道镜像</span></a></h3><p>启动格式：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker run --name [容器名] \\</span></span>
<span class="line"><span>-p [主机端口]:80 \\</span></span>
<span class="line"><span>-v [主机禅道目录]:/www/zentaopms \\</span></span>
<span class="line"><span>-v [主机mysql目录]:/var/lib/mysql \\</span></span>
<span class="line"><span>-e MYSQL_ROOT_PASSWORD=[数据库密码] \\</span></span>
<span class="line"><span>-d easysoft/zentao:[镜像标签]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实际操作</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span></span></span>
<span class="line"><span>docker run --name zentao2 \\</span></span>
<span class="line"><span>--restart always \\</span></span>
<span class="line"><span>-p 8180:80 \\</span></span>
<span class="line"><span>-p 3306:3306 \\</span></span>
<span class="line"><span>--network=zentaonet --ip 172.172.172.173 \\</span></span>
<span class="line"><span>-v /data/docker/zentao2/zentaopms:/www/zentaopms \\</span></span>
<span class="line"><span>-v /data/docker/zentao2/mysqldata2:/var/lib/mysql \\</span></span>
<span class="line"><span>-e MYSQL_ROOT_PASSWORD=123456 -d easysoft/zentao:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>浏览器访问： http://IP:8180/ 安装禅道</p><p><img src="https://imgoss.xgss.net/picgo/image-20220608181414648.png?aliyun" alt="image-20220608181414648"></p><p>生成配置文件：</p><p><img src="https://imgoss.xgss.net/picgo/image-20220608181627766.png?aliyun" alt="image-20220608181627766"></p><p>安装成功</p><p><img src="https://imgoss.xgss.net/picgo/image-20220608181647127.png?aliyun" alt="image-20220608181647127"></p><p>设置账号</p><p><img src="https://imgoss.xgss.net/picgo/image-20220608181713293.png?aliyun" alt="image-20220608181713293"></p><p>登录</p><p><img src="https://imgoss.xgss.net/picgo/image-20220608181732363.png?aliyun" alt="image-20220608181732363"></p><p>至此，Linux基于Docker安装开源项目管理禅道已经安装完成。</p><h1 id="其他功能" tabindex="-1"><a class="header-anchor" href="#其他功能"><span>其他功能</span></a></h1><h2 id="nginx反向代理" tabindex="-1"><a class="header-anchor" href="#nginx反向代理"><span>NGINX反向代理</span></a></h2><p>不使用IP访问，而使用域名来访问禅道</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>server {</span></span>
<span class="line"><span>        listen       80;</span></span>
<span class="line"><span>        server_name  job.xgss.net;</span></span>
<span class="line"><span>        access_log off;</span></span>
<span class="line"><span>        error_log off;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>                proxy_pass      http://127.0.0.1:8180;</span></span>
<span class="line"><span>                proxy_redirect off;</span></span>
<span class="line"><span>                proxy_set_header Host $host;</span></span>
<span class="line"><span>                proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将域名解析，或者绑定hosts</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>192.168.1.4 job.xgss.net</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>即可用域名访问</p><h2 id="将镜像推送到阿里云docker中" tabindex="-1"><a class="header-anchor" href="#将镜像推送到阿里云docker中"><span>将镜像推送到阿里云docker中</span></a></h2><p>这步是非必须的。</p><p>可以这个禅道docker镜像推送到自己的阿里云账号下，下次就可以直接使用，不受官方影响。</p><p>下载速度也可以提升。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker tag zentao:latest registry.cn-shenzhen.aliyuncs.com/funet8/zentao:11.4.1</span></span>
<span class="line"><span></span></span>
<span class="line"><span># docker images|grep zentao</span></span>
<span class="line"><span>registry.cn-shenzhen.aliyuncs.com/funet8/zentao                11.4.1              866f4b8173e5        2 years ago         585 MB</span></span>
<span class="line"><span>zentao                                                         latest              866f4b8173e5        2 years ago         585 MB</span></span>
<span class="line"><span>docker push registry.cn-shenzhen.aliyuncs.com/funet8/zentao:11.4.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将docker镜像由私有改为公开</p><p>https://cr.console.aliyun.com/#/imageList</p><p><img src="https://imgoss.xgss.net/picgo/image-20211209170525561.png?aliyun" alt="image-20211209170525561"></p><h2 id="启动禅道" tabindex="-1"><a class="header-anchor" href="#启动禅道"><span>启动禅道</span></a></h2><p>使用自己的阿里云docker镜像。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker run --name zentao1 -p 8080:80 \\</span></span>
<span class="line"><span>--restart always \\</span></span>
<span class="line"><span>-v /data/wwwroot/web/job.chuanqu.ltd:/app/zentaopms \\</span></span>
<span class="line"><span>-v /data/mysql/docker_zentao1:/var/lib/mysql \\</span></span>
<span class="line"><span>-e MYSQL_ROOT_PASSWORD=123456 \\</span></span>
<span class="line"><span>-d registry.cn-shenzhen.aliyuncs.com/funet8/zentao:11.4.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20211209171719293.png?aliyun" alt="image-20211209171719293"></p><p><img src="https://imgoss.xgss.net/picgo/image-20211209171757939.png?aliyun" alt="image-20211209171757939"></p><p>配置信息已经成功保存到&quot; /app/zentaopms/config/my.php &quot;中。您后面还可继续修改此文件，即可使用禅道。</p><h2 id="远程登录禅道数据库" tabindex="-1"><a class="header-anchor" href="#远程登录禅道数据库"><span>远程登录禅道数据库</span></a></h2><p>有时候需要远程修改数据库。</p><p>进入docker镜像，再登录mysql数据库，<strong>如果开启了注意安全性！</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span></span></span>
<span class="line"><span># docker exec -it zentao2 /bin/bash</span></span>
<span class="line"><span>修改数据库配置：</span></span>
<span class="line"><span>vim /etc/mysql/mariadb.conf.d/50-server.cnf</span></span>
<span class="line"><span>将：bind-address           = 127.0.0.1 注释掉：</span></span>
<span class="line"><span># bind-address           = 127.0.0.1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在登录mysql数据库</span></span>
<span class="line"><span># mysql -u root -h 127.0.0.1 -P 3306 -p&#39;123456&#39;</span></span>
<span class="line"><span>Welcome to the MariaDB monitor.  Commands end with ; or \\g.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>使用命令行，新建root权限用户</span></span>
<span class="line"><span>mysql&gt; use mysql;</span></span>
<span class="line"><span>mysql&gt; update user set password=PASSWORD(&#39;123456&#39;) where User=&#39;star&#39;;</span></span>
<span class="line"><span>mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;star&#39;@&#39;%&#39; IDENTIFIED BY &#39;123456&#39; WITH GRANT OPTION;</span></span>
<span class="line"><span>mysql&gt; FLUSH PRIVILEGES ;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>重启docker</span></span>
<span class="line"><span>docker restart zentao2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>验证数据库是否可以远程连接。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># mysql -u&#39;star&#39; -h&#39;192.168.1.3&#39; -P&#39;3306&#39; -p&#39;123456&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="禅道配置钉钉通知" tabindex="-1"><a class="header-anchor" href="#禅道配置钉钉通知"><span>禅道配置钉钉通知</span></a></h2><p>钉钉群--&gt;智能群助手---&gt;添加机器人---&gt;自定义</p><p><img src="https://imgoss.xgss.net/picgo/image-20211209180408831.png?aliyun" alt="image-20211209180408831"></p><p>生成hook地址，复制</p><p>进入禅道，后台---&gt;通知---&gt;webhook</p><p><img src="https://imgoss.xgss.net/picgo/image-20211209180624395.png?aliyun" alt="image-20211209180624395"></p><p>测试</p><p><img src="https://imgoss.xgss.net/picgo/image-20211209182804297.png?aliyun" alt="image-20211209182804297"></p>`,75)]))}const c=a(l,[["render",p]]),h=JSON.parse('{"path":"/article/pz7akrwp/","title":"Linux基于Docker安装开源项目管理禅道系统","lang":"en-US","frontmatter":{"title":"Linux基于Docker安装开源项目管理禅道系统","createTime":"2025/05/27 17:51:17","permalink":"/article/pz7akrwp/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":3.58,"words":1074},"filePathRelative":"kaiyuan/Open-Source-Software/Linux基于Docker安装开源项目管理禅道系统.md"}');export{c as comp,h as data};
