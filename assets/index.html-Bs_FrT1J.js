import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as i}from"./app-BiQR_lPj.js";const l={};function p(d,s){return i(),a("div",null,s[0]||(s[0]=[e(`<h1 id="免费企业知识管理工具—牵牛电子帮助手册安装" tabindex="-1"><a class="header-anchor" href="#免费企业知识管理工具—牵牛电子帮助手册安装"><span>免费企业知识管理工具—牵牛电子帮助手册安装</span></a></h1><p>最近一直在找一个能代替语雀的知识管理工具，直到看到‘牵牛’，今天给大家分享一下安装方法，比较时候搭建 帮助文档、产品帮助中心等。</p><p>今天就用docker-compose安装牵牛知识文档系统。</p><h2 id="牵牛是什么" tabindex="-1"><a class="header-anchor" href="#牵牛是什么"><span>牵牛是什么？</span></a></h2><p>牵牛一款企业知识管理工具，通过独立的知识库空间，结构化地组织在线协作文档，实现企业知识的积累和沉淀，促进知识的高度复用和流通。</p><h2 id="牵牛官网" tabindex="-1"><a class="header-anchor" href="#牵牛官网"><span>牵牛官网</span></a></h2><p><a href="https://fx.beebox.cc/eman/official" target="_blank" rel="noopener noreferrer">https://fx.beebox.cc/eman/official</a></p><h2 id="帮助文档" tabindex="-1"><a class="header-anchor" href="#帮助文档"><span>帮助文档</span></a></h2><p>https://fx.beebox.cc/eman/pub/a/n6sY7W6rn</p><h2 id="docker私有化部署网址" tabindex="-1"><a class="header-anchor" href="#docker私有化部署网址"><span>Docker私有化部署网址</span></a></h2><p>https://hub.docker.com/r/beeboxcc/eman-app</p><h2 id="安装环境" tabindex="-1"><a class="header-anchor" href="#安装环境"><span>安装环境</span></a></h2><p>系统： centos7 （其他支持docker和docker-compose都可以）</p><p>IP: 192.168.1.15</p><p>docker 和 docker-compose 版本最好是最新的，本人使用1.13.1 和 1.18.0的都报错了，无奈升级版本才能</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span></span></span>
<span class="line"><span># docker -v （此版本不支持，一定要升级）</span></span>
<span class="line"><span>Docker version 1.13.1, build 7d71120/1.13.1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>升级docker后</span></span>
<span class="line"><span># docker -v</span></span>
<span class="line"><span>Docker version 24.0.6, build ed223bc</span></span>
<span class="line"><span></span></span>
<span class="line"><span># docker-compose -v （此版本不支持，一定要升级）</span></span>
<span class="line"><span>docker-compose version 1.18.0, build 8dd22a9</span></span>
<span class="line"><span></span></span>
<span class="line"><span># docker-compose -v</span></span>
<span class="line"><span>Docker Compose version v2.22.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="拉取镜像" tabindex="-1"><a class="header-anchor" href="#拉取镜像"><span>拉取镜像</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker pull beeboxcc/eman-app:latest</span></span>
<span class="line"><span>docker pull beeboxcc/eman-web:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>大陆地区的速度简直不忍直视，下了几个小时还没好。</p><p><img src="https://imgoss.xgss.net/picgo/image-20230926161932021.png?aliyun" alt="image-20230926161932021"></p><p>用香港的服务器下载，再导出导入</p><h2 id="在香港服务器拉取镜像" tabindex="-1"><a class="header-anchor" href="#在香港服务器拉取镜像"><span>在香港服务器拉取镜像</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>docker pull beeboxcc/eman-app:latest</span></span>
<span class="line"><span>docker pull beeboxcc/eman-web:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导出镜像" tabindex="-1"><a class="header-anchor" href="#导出镜像"><span>导出镜像</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker images</span></span>
<span class="line"><span>REPOSITORY                                                     TAG                 IMAGE ID            CREATED             SIZE</span></span>
<span class="line"><span>docker.io/beeboxcc/eman-app                                    latest              7b39786dd8cd        3 months ago        2.44 GB</span></span>
<span class="line"><span>docker.io/beeboxcc/eman-web                                    latest              2e966ec26bd5        3 months ago        193 MB</span></span>
<span class="line"><span></span></span>
<span class="line"><span>导出：</span></span>
<span class="line"><span># docker save docker.io/beeboxcc/eman-app:latest | gzip &gt; eman-app_latest.tar.gz</span></span>
<span class="line"><span># docker save docker.io/beeboxcc/eman-web:latest | gzip &gt; eman-web_latest.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入镜像" tabindex="-1"><a class="header-anchor" href="#导入镜像"><span>导入镜像</span></a></h3><p>将文件下载再</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span></span></span>
<span class="line"><span>查看镜像：</span></span>
<span class="line"><span># docker images</span></span>
<span class="line"><span>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></span>
<span class="line"><span></span></span>
<span class="line"><span>导入：</span></span>
<span class="line"><span>docker load &lt; eman-app_latest.tar.gz</span></span>
<span class="line"><span>docker load &lt; eman-web_latest.tar.gz</span></span>
<span class="line"><span></span></span>
<span class="line"><span>查看镜像：</span></span>
<span class="line"><span># docker images</span></span>
<span class="line"><span>REPOSITORY                    TAG                 IMAGE ID            CREATED             SIZE</span></span>
<span class="line"><span>docker.io/beeboxcc/eman-app   latest              7b39786dd8cd        3 months ago        2.44 GB</span></span>
<span class="line"><span>docker.io/beeboxcc/eman-web   latest              2e966ec26bd5        3 months ago        193 MB</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="编写docker-compose-yml" tabindex="-1"><a class="header-anchor" href="#编写docker-compose-yml"><span>编写docker-compose.yml</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>vi docker-compose.yml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>说明： 根据需要编写 docker-compose.yml 文件</p><p>这里我把eman-web的端口改成 81，因为nginx占用80端口，如果不改可以直接用ip访问。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>version: &quot;3.7&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>networks:</span></span>
<span class="line"><span>  eman:</span></span>
<span class="line"><span>    driver: bridge</span></span>
<span class="line"><span></span></span>
<span class="line"><span>services:</span></span>
<span class="line"><span>  postgresql:</span></span>
<span class="line"><span>    image: &quot;abcfy2/zhparser:14-alpine&quot;</span></span>
<span class="line"><span>    container_name: postgresql</span></span>
<span class="line"><span>    hostname: postgresql</span></span>
<span class="line"><span>    restart: always</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - &quot;5432:5432&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      TZ: Asia/Shanghai</span></span>
<span class="line"><span>      POSTGRES_PASSWORD: admin</span></span>
<span class="line"><span>      POSTGRES_DB : emandb</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/postgresql-data:/var/lib/postgresql/data</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - eman</span></span>
<span class="line"><span>  redis:</span></span>
<span class="line"><span>    image: &quot;bitnami/redis:6.2&quot;</span></span>
<span class="line"><span>    container_name: redis</span></span>
<span class="line"><span>    hostname: redis</span></span>
<span class="line"><span>    restart: always</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - &quot;6379:6379&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      TZ: Asia/Shanghai</span></span>
<span class="line"><span>      REDIS_PASSWORD: admin</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - eman</span></span>
<span class="line"><span>  eman-web:</span></span>
<span class="line"><span>    image: beeboxcc/eman-web</span></span>
<span class="line"><span>    container_name: eman-web</span></span>
<span class="line"><span>    hostname: eman-web</span></span>
<span class="line"><span>    restart: always</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      TZ: Asia/Shanghai</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - &quot;81:80&quot;</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - eman-app</span></span>
<span class="line"><span>    links:</span></span>
<span class="line"><span>      - eman-app:eman-app</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - eman</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  eman-app:</span></span>
<span class="line"><span>    image: beeboxcc/eman-app</span></span>
<span class="line"><span>    container_name: eman-app</span></span>
<span class="line"><span>    hostname: eman-app</span></span>
<span class="line"><span>    restart: always</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      POSTGRESQL_HOST: postgresql</span></span>
<span class="line"><span>      POSTGRESQL_PORT: 5432</span></span>
<span class="line"><span>      POSTGRESQL_USER: postgres</span></span>
<span class="line"><span>      POSTGRESQL_PASSWORD: admin</span></span>
<span class="line"><span>      REDIS_HOST: redis</span></span>
<span class="line"><span>      REDIS_PORT: 6379</span></span>
<span class="line"><span>      REDIS_PASSWORD: admin</span></span>
<span class="line"><span>      TZ: Asia/Shanghai</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/eman-app:/project-files</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - eman</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - postgresql</span></span>
<span class="line"><span>    links:</span></span>
<span class="line"><span>      - postgresql:postgresql</span></span>
<span class="line"><span>      - redis:redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 docker-compose.yml 文件夹执行命令 docker compose up -d 等待执行完成后,可以访问 $ip/eman</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker-compose up -d</span></span>
<span class="line"><span> </span></span>
<span class="line"><span> 报错：</span></span>
<span class="line"><span># docker-compose up -d</span></span>
<span class="line"><span>ERROR: Version in &quot;./docker-compose.yml&quot; is unsupported. You might be seeing this error because you&#39;re using the wrong Compose file version. Either specify a supported version (e.g &quot;2.2&quot; or &quot;3.3&quot;) and place your service definitions under the \`services\` key, or omit the \`version\` key and place your service definitions at the root of the file to use version 1.</span></span>
<span class="line"><span>For more on the Compose file format versions, see https://docs.docker.com/compose/compose-file/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重新安装docker-compose" tabindex="-1"><a class="header-anchor" href="#重新安装docker-compose"><span>重新安装docker-compose</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># yum remove docker-compose</span></span>
<span class="line"><span></span></span>
<span class="line"><span># sudo curl -L &quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span></span>
<span class="line"><span></span></span>
<span class="line"><span># sudo chmod +x /usr/local/bin/docker-compose</span></span>
<span class="line"><span></span></span>
<span class="line"><span># /usr/local/bin/docker-compose -v</span></span>
<span class="line"><span>Docker Compose version v2.22.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再次执行</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># docker-compose up -d</span></span>
<span class="line"><span></span></span>
<span class="line"><span>✔ e2a4ef11f57c Download complete                                                                                                         157.2s </span></span>
<span class="line"><span>missing signature key</span></span>
<span class="line"><span>原来是docker版本太低的问题，升级docker版本</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20230926173337274.png?aliyun" alt="image-20230926173337274"></p><h2 id="访问牵牛" tabindex="-1"><a class="header-anchor" href="#访问牵牛"><span>访问牵牛</span></a></h2><p>浏览器访问：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>http://192.168.1.15/eman</span></span>
<span class="line"><span></span></span>
<span class="line"><span>默认管理员账户密码为 </span></span>
<span class="line"><span>admin@eman.com</span></span>
<span class="line"><span>123456</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://imgoss.xgss.net/picgo/image-20230928113318688.png?aliyun" alt="image-20230928113318688"></p><p>登陆完成后可以在右上角企业名称单击,会有弹出菜单</p><p>企业设置: 用于修改企业信息</p><p>用户管理：用于本地管理用户重置密码等 用户操作空间需要先在空间设置-成员管理-邀请成员-搜索并添加成员，然后分配对应权限后才可以进行操作</p><h2 id="使用域名访问" tabindex="-1"><a class="header-anchor" href="#使用域名访问"><span>使用域名访问</span></a></h2><p>配置nginx代理</p><p>假设域名： eman.3xxx.com</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>server {</span></span>
<span class="line"><span>        listen       80;</span></span>
<span class="line"><span>        server_name  eman.3xxx.com;</span></span>
<span class="line"><span>        #root /data/web/;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        access_log /data/wwwroot/log/eman.3xxx.com-access.log;</span></span>
<span class="line"><span>        error_log /dev/null;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        location / {</span></span>
<span class="line"><span>                index  index.html index.htm index.php;</span></span>
<span class="line"><span>                proxy_pass      http://192.168.1.15:81;</span></span>
<span class="line"><span>                proxy_redirect off;</span></span>
<span class="line"><span>                proxy_set_header Host $host;</span></span>
<span class="line"><span>                proxy_set_header X-Real-IP $remote_addr;</span></span>
<span class="line"><span>                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>绑定hosts： <code>192.168.1.15 eman.3xxx.com</code> 再用域名访问 <code>http://eman.3xxx.com/eman/login</code></p><p><img src="https://imgoss.xgss.net/picgo/image-20231017164026677.png?aliyun" alt="image-20231017164026677"></p>`,53)]))}const o=n(l,[["render",p]]),v=JSON.parse('{"path":"/article/wtw607rc/","title":"免费企业知识管理工具—牵牛电子帮助手册安装","lang":"en-US","frontmatter":{"title":"免费企业知识管理工具—牵牛电子帮助手册安装","createTime":"2025/05/27 17:51:17","permalink":"/article/wtw607rc/"},"git":{"createdTime":1749111496000,"updatedTime":1750129445000,"contributors":[{"name":"star","username":"star","email":"star@xgss.net","commits":2,"url":"https://github.com/star"}]},"readingTime":{"minutes":3.53,"words":1058},"filePathRelative":"kaiyuan/Open-Source-Software/免费企业知识管理工具—牵牛电子帮助手册安装.md"}');export{o as comp,v as data};
